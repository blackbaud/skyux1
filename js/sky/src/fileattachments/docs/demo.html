<div ng-controller="FileAttachmentDemoController as fileAttachmentDemo">
    <div class="row">
        <div class="col-md-6">
            <div
                 bb-file-drop
                 bb-file-drop-change="fileAttachmentDemo.fileDropped(files, rejectedFiles)"
                 bb-file-drop-multiple="true"
                 bb-file-drop-max-size="5000000"
                 bb-file-drop-link
                 bb-file-drop-link-change="fileAttachmentDemo.fileLinked(link)"
                 bb-file-drop-validate-fn="fileAttachmentDemo.fileValidate(file)"
                 >
            </div>
            <bb-alert bb-alert-type="danger" bb-alert-closeable="true" bb-alert-closed="fileAttachmentDemo.alertClosed" ng-if="fileAttachmentDemo.rejected.length > 0">
              The file <strong>{{fileAttachmentDemo.rejected[fileAttachmentDemo.rejected.length - 1].name}}</strong> is invalid.  
              {{fileAttachmentDemo.rejected[fileAttachmentDemo.rejected.length - 1].$errorParam}}
            </bb-alert>
            <div ng-repeat="item in fileAttachmentDemo.allItems" bb-file-item="item" bb-file-item-delete="fileAttachmentDemo.deleteAttachment(item)" style="margin-bottom: 10px">
                <div class="form-group">
                    <label for="filename-{{$index}}" >Name for this attachment</label>
                    <input id="filename-{{$index}}" type="text" class="form-control" />
                </div>
                <div class="form-group">
                    <label for="filetag-{{$index}}">Tags for this attachment</label>
                    <input id="filetag-{{$index}}" type="text" class="form-control" />
                </div>
            </div>
            <form name="singleFileForm">
                <label for="singleFileId" class="required">Single File Label</label>
                <div 
                    bb-file-single
                    bb-file-single-max-size="5000000"
                    bb-file-single-required="true"
                    bb-file-single-accept="'image/png'"
                    bb-file-single-change="fileAttachmentDemo.fileChange(file, rejectedFiles)"
                    bb-file-single-validate-fn="fileAttachmentDemo.fileValidate(file)" 
                    bb-file-single-link-action="fileAttachmentDemo.fileLinkAction()"
                    bb-file-single-item="fileAttachmentDemo.singleFile"
                    bb-file-single-id="singleFileId"
                    bb-file-single-error="singleFileForm.$submitted && singleFileForm.$error.required">
                </div>
                <button class="btn btn-primary" type="submit">Single Submit</button>
            </form>
        </div>
    </div>
</div>
