{"version":3,"sources":["js/sky/src/actionbar/actionbar.js","js/sky/src/autofocus/autofocus.js","js/sky/src/autonumeric/autonumeric.js","js/sky/src/check/check.js","js/sky/src/checklist/checklist.js","js/sky/src/checklist/checklistcolumn.js","js/sky/src/checklist/checklistcolumns.js","js/sky/src/checklist/checklistmodel.js","js/sky/src/checklist/checklistutility.js","js/sky/src/contextmenu/contextmenu.js","js/sky/src/data/data.js","js/sky/src/datepicker/datepicker.js","js/sky/src/daterangepicker/daterangepicker.js","js/sky/src/fileattachments/fileattachments.js","js/sky/src/fileattachments/filedrop.js","js/sky/src/fileattachments/fileitem.js","js/sky/src/fileattachments/filesize.js","js/sky/src/format/format.js","js/sky/src/grids/columnpicker.js","js/sky/src/grids/gridactionbar.js","js/sky/src/grids/gridfilters.js","js/sky/src/grids/grids.js","js/sky/src/grids/gridtoolbar.js","js/sky/src/help/help.js","js/sky/src/helpbutton/helpbutton.js","js/sky/src/highlight/highlight.js","js/sky/src/mediabreakpoints/mediabreakpoints.js","js/sky/src/modal/modal.js","js/sky/src/moment/moment.js","js/sky/src/navbar/navbar.js","js/sky/src/omnibar/omnibar.js","js/sky/src/page/page.js","js/sky/src/pagination/pagination.js","js/sky/src/palette/config.js","js/sky/src/palette/palette.js","js/sky/src/popover/popover.js","js/sky/src/resources/resources.js","js/sky/src/scrollintoview/scrollintoview.js","js/sky/src/searchfield/searchfield.js","js/sky/src/tabscroll/tabscroll.js","js/sky/src/tabset/tabset.js","js/sky/src/tabsref/tabsref.js","js/sky/src/templating/templating.js","js/sky/src/textexpand/textexpand.js","js/sky/src/tiles/tiles.js","js/sky/src/toast/toast.js","js/sky/src/tooltip/tooltip.js","js/sky/src/utilities/utilities.js","js/sky/src/validation/validation.js","js/sky/src/viewkeeper/viewkeeper.js","js/sky/src/wait/wait.js","js/sky/src/window/window.js","js/sky/src/wizard/wizard.js","js/sky/src/module.js","dist/js/locales/sky-locale-en-US.js","js/sky/templates/templates.js.tmp","../../js/sky/src/actionbar/actionbar.js","../../js/sky/src/autofocus/autofocus.js","../../js/sky/src/autonumeric/autonumeric.js","../../js/sky/src/check/check.js","../../js/sky/src/checklist/checklist.js","../../js/sky/src/checklist/checklistcolumn.js","../../js/sky/src/checklist/checklistcolumns.js","../../js/sky/src/checklist/checklistmodel.js","../../js/sky/src/checklist/checklistutility.js","../../js/sky/src/contextmenu/contextmenu.js","../../js/sky/src/data/data.js","../../js/sky/src/datepicker/datepicker.js","../../js/sky/src/daterangepicker/daterangepicker.js","../../js/sky/src/fileattachments/fileattachments.js","../../js/sky/src/fileattachments/filedrop.js","../../js/sky/src/fileattachments/fileitem.js","../../js/sky/src/fileattachments/filesize.js","../../js/sky/src/format/format.js","../../js/sky/src/grids/columnpicker.js","../../js/sky/src/grids/gridactionbar.js","../../js/sky/src/grids/gridfilters.js","../../js/sky/src/grids/grids.js","../../js/sky/src/grids/gridtoolbar.js","../../js/sky/src/help/help.js","../../js/sky/src/helpbutton/helpbutton.js","../../js/sky/src/highlight/highlight.js","../../js/sky/src/mediabreakpoints/mediabreakpoints.js","../../js/sky/src/modal/modal.js","../../js/sky/src/moment/moment.js","../../js/sky/src/navbar/navbar.js","../../js/sky/src/omnibar/omnibar.js","../../js/sky/src/page/page.js","../../js/sky/src/pagination/pagination.js","../../js/sky/src/palette/config.js","../../js/sky/src/palette/palette.js","../../js/sky/src/popover/popover.js","../../js/sky/src/resources/resources.js","../../js/sky/src/scrollintoview/scrollintoview.js","../../js/sky/src/searchfield/searchfield.js","../../js/sky/src/tabscroll/tabscroll.js","../../js/sky/src/tabset/tabset.js","../../js/sky/src/tabsref/tabsref.js","../../js/sky/src/templating/templating.js","../../js/sky/src/textexpand/textexpand.js","../../js/sky/src/tiles/tiles.js","../../js/sky/src/toast/toast.js","../../js/sky/src/tooltip/tooltip.js","../../js/sky/src/utilities/utilities.js","../../js/sky/src/validation/validation.js","../../js/sky/src/viewkeeper/viewkeeper.js","../../js/sky/src/wait/wait.js","../../js/sky/src/window/window.js","../../js/sky/src/wizard/wizard.js","../../js/sky/src/module.js","../../dist/js/locales/sky-locale-en-US.js","../../js/sky/templates/templates.js.tmp"],"names":["bbActionBar","controller","angular","noop","controllerAs","bindToController","scope","transclude","restrict","templateUrl","bbActionBarItemGroup","bbResources","bbMediaBreakpoints","replace","vm","this","title","isUndefined","action_bar_actions","link","$scope","el","mediaBreakpointHandler","breakpoints","xs","find","appendTo","register","$on","unregister","bbActionBarItem","require","attrs","groupCtrl","parent","is","wrap","unwrap","$inject","module","directive","$timeout","$element","focus","$","getBaseSettings","bbAutoNumericConfig","configType","baseSettings","configSettings","extend","fn","autoNumeric","defaults","number","constant","aSep","dGroup","aDec","pSign","mDec","money","aSign","bbWindow","ngModel","applySettings","bbAutonumeric","customSettings","applyCssSettings","addClass","autonumericChange","$apply","value","parseFloat","isNaN","$setViewValue","isIosUserAgent","bbAutonumericSettings","$watch","newValue","oldValue","getValue","selectionStart","undefined","val","isFunction","setSelectionRange","isDefined","on","event","which","select","filter","bbAutonumericConfig","input","abbreviate","dividend","formatted","settings","suffix","tempEl","Math","round","autonumeric_abbr_billions","autonumeric_abbr_millions","autonumeric_abbr_thousands","floor","text","jQuery","$templateCache","createEl","name","element","get","attr","styledEl","typeClass","labelEl","length","type","after","bbChecklist","bbChecklistUtility","bbChecklistItems","bbChecklistSelectedItems","bbChecklistFilterCallback","bbChecklistIncludeSearch","bbChecklistSearchDebounce","bbChecklistSearchPlaceholder","bbChecklistNoItemsMessage","bbChecklistAutomationField","bbChecklistCategories","bbChecklistMode","locals","setColumns","columns","itemMatchesCategory","item","category","itemMatchesFilter","searchTextUpper","p","hasOwnProperty","PROP_CATEGORY","isString","toUpperCase","indexOf","invokeFilterLocal","filteredItems","i","n","items","searchText","selectedCategory","push","slice","invokeFilter","filterLocal","bbChecklistFilterLocal","selectAll","selected","contains","add","clear","remove","rowClicked","filterByCategory","highlightRefresh","Date","getTime","bbChecklistColumn","bbChecklistColumnCaption","bbChecklistColumnField","bbChecklistColumnClass","bbChecklistColumnWidth","bbChecklistColumnAutomationId","bbChecklistColumns","column","caption","field","class","width","automationId","addColumn","checklistModel","$compile","$parse","postLinkFn","elem","getter","setter","assign","checklistValue","$parent","current","newArr","checked","priority","terminal","compile","tElement","tAttrs","tagName","removeAttr","factory","arr","isArray","equals","splice","getTemplateUrl","bbContextMenu","contextButtonStopPropagation","$event","stopPropagation","bbContextMenuItem","clickItem","bbContextMenuButton","toggleAccordion","preventDefault","accordionLocals","accordionOpen","BBSubmenuController","self","bbSubmenu","heading","staticHeader","bbSubmenuHeading","submenuCtrl","fillUrls","option","props","urls","url","BB_DATA_POST","DEFAULT_PROP","loadManager","options","cancelWaiting","waitForFirstItem","nonblockWaitForAdditionalItems","nonblockingForAdditionalItems","$emit","nonblocking","waitingForFirstItem","startNonblockingForAdditionalItems","markCompleted","loadingItems","result","isLoading","isFirstItemLoaded","registerItem","load","loaded","isAggregate","e","bbData","$http","$q","bbDataConfig","$window","ajaxUrl","requestType","parts","define","amd","split","shift","toUrl","join","REQUEST_TYPE_DATA","dataUrlFilter","REQUEST_TYPE_RESOURCES","resourceUrlFilter","REQUEST_TYPE_TEXT","textUrlFilter","createAjaxPromise","isPost","timeoutPromise","data","httpOptions","isGet","textContent","resolve","method","cache","JSON","stringify","dataType","withCredentials","timeout","FormData","transformRequest","identity","headers","Content-Type","addPromises","nextId","index","trackHTTPTimeoutForPromise","clearPromiseId","id","promise","httpTimeout","defer","_id","then","loadData","reject","success","args","addResult","resultData","httpResult","resultItem","resultItemHttpResults","argIndex","httpResults","dataProps","resourcesProps","textProps","failure","apply","arguments","dataOption","dataUrls","resourcesOption","resourcesUrls","textOption","textUrls","promises","resources","all","cancel","query","params","param","post","save","currentCultureDateFormatString","showWeeks","startingDay","minDate","maxDate","bbDatepickerConfig","bbDatepickerParser","date","dateOptions","customValidation","format","placeholderText","getInputNgModel","getBodyDatepicker","positionAbsoluteDatepicker","inputWidth","buttonWidth","datepickerWidth","calendarButtonEl","inputEl","datepickerScope","isolateScope","datepickerEl","innerWidth","position","left","open","appendToBody","opened","setDate","inputNgModel","isDate","hasCustomValidation","parsedDate","runParsers","$validators","invalidFormatMessage","date_field_invalid_date_message","$setValidity","hasRequiredError","$error","required","dateFormatValidator","resolveValidation","deferred","setInvalidFormatMessage","errorMessage","handleCustomFormattingValidation","formattingErrorMessage","formattedValue","skipValidation","dateChangeInternal","datepickerIsPristine","$pristine","customFormattingResult","formatValue","showButtonBar","closeOnSelection","inputName","bbDatepickerName","closeOnDateSelection","datepickerAppendToBody","toLowerCase","$asyncValidators","dateFormat","$filter","controllers","uibDatepickerPopup","bbDatepickerCustomValidate","$parsers","unshift","viewValue","newDate","$viewValue","modelValue","bbMoment","parseUTCString","dateArray","datePart","parseNoSeparatorDateString","yearIndex","monthIndex","dayIndex","yearBegin","monthBegin","dayBegin","substr","matchSeparator","match","dateHasSeparator","separator","valueArray","separatorAtEnd","separatorAtBeginning","hasTwoSeparators","anyPartIsZero","some","Number","isMomentParsable","yearParts","parseMoment","momentDate","isValid","toDate","getDateRangeTypeCaption","dateRangePickerValue","isNumber","dateRangeType","dateRangeTypes","AT_ANY_TIME","date_range_picker_at_any_time","THIS_WEEK","date_range_picker_this_week","NEXT_WEEK","date_range_picker_next_week","THIS_MONTH","date_range_picker_this_month","NEXT_MONTH","date_range_picker_next_month","THIS_QUARTER","date_range_picker_this_quarter","NEXT_QUARTER","date_range_picker_next_quarter","THIS_FISCAL_YEAR","date_range_picker_this_fiscal_year","NEXT_FISCAL_YEAR","date_range_picker_next_fiscal_year","THIS_CALENDAR_YEAR","date_range_picker_this_calendar_year","NEXT_CALENDAR_YEAR","date_range_picker_next_calendar_year","LAST_WEEK","date_range_picker_last_week","LAST_MONTH","date_range_picker_last_month","LAST_QUARTER","date_range_picker_last_quarter","LAST_FISCAL_YEAR","date_range_picker_last_fiscal_year","LAST_CALENDAR_YEAR","date_range_picker_last_calendar_year","TODAY","date_range_picker_today","YESTERDAY","date_range_picker_yesterday","TOMORROW","date_range_picker_tomorrow","getDateRangeFilterDescription","date_range_picker_filter_description_at_any_time","date_range_picker_filter_description_this_week","date_range_picker_filter_description_next_week","date_range_picker_filter_description_this_month","date_range_picker_filter_description_next_month","date_range_picker_filter_description_this_quarter","date_range_picker_filter_description_next_quarter","date_range_picker_filter_description_this_fiscal_year","date_range_picker_filter_description_next_fiscal_year","date_range_picker_filter_description_this_calendar_year","date_range_picker_filter_description_next_calendar_year","date_range_picker_filter_description_last_week","date_range_picker_filter_description_last_month","date_range_picker_filter_description_last_quarter","date_range_picker_filter_description_last_fiscal_year","date_range_picker_filter_description_last_calendar_year","date_range_picker_filter_description_today","date_range_picker_filter_description_yesterday","date_range_picker_filter_description_tomorrow","defaultDateRangeOptions","pastDateRangeOptions","bbDateRangePicker","bbDateRangePickerValue","bbDateRangePickerAutomationId","bbDateRangePickerOptions","newVal","run","target","hasClass","bbFileDrop","hasTranscludeContents","trim","html","allowLinks","bbFileDropLink","addLink","bbFileDropLinkChange","fileChange","$files","$rejectedFiles","bbFileDropChange","files","rejectedFiles","template","dropEl","ngf-allow-dir","bbFileDropAllowDir","ngf-accept","bbFileDropAccept","ngf-multiple","bbFileDropMultiple","ngf-min-size","bbFileDropMinSize","ngf-max-size","bbFileDropMaxSize","bbFileDropNoclick","bbFileItem","getFileTypeUpper","fileType","getFileExtensionUpper","extension","lastIndexOf","isFile","size","isImg","slashIndex","fileTypeUpper","cls","extensionUpper","otherCls","itemDelete","bbFileSize","bbFormat","formattedSize","roundedSize","decimalPlaces","abs","file_size_b_singular","file_size_b_plural","file_size_kb","file_size_mb","file_size_gb","pow","formatText","replaceTag","tag","tagsToReplace","isEmpty","str","&","<",">","String","capture","parseInt","escape","buildCategoryList","len","categories","columnCompare","a","b","toLocaleLowerCase","getInitialSelectedColumns","selectedIds","selectedColumns","forEach","BBGridColumnPickerController","availableColumns","initialSelectedColumnIds","columnPickerHelpKey","listMode","initialSelectedColumns","description","sort","applyChanges","scopeColumns","columnIds","columnId","$close","bbMultiselectActions","bbSelectionsUpdated","actions","showActionBar","mobileButtons","showMobileActions","bbGrid","updateActionBar","action","visibleSelected","getVisibleSelections","selections","syncActionBarViewKeeper","newBreakpoints","$watchCollection","selectedRows","clearSelection","resetMultiselect","toggleMultiselectRows","chooseAction","cancelChooseAction","bbHelp","bbOptions","applyFilters","updateFilters","filters","getCurrent","expanded","clearFilters","animateFilters","isExpanded","animationDuration","box","css","filtersContainer","show","animate","duration","complete","hide","viewKeeperOptions","viewKeeperChangedHandler","viewKeeperOffsetElId","toggleFilterMenu","isOpen","close","openFilterMenu","parents","prepend","setFilters","bbGridFiltersGroupLabel","isCollapsed","toolbarContainer","append","syncViewKeepers","arrayObjectIndexOf","array","obj","DEFAULT_ITEMS_PER_PAGE","DEFAULT_MAX_PAGES","DEFAULT_COLUMN_SIZE","MULTISELECT_COLUMN_SIZE","DROPDOWN_TOGGLE_COLUMN_SIZE","DROPDOWN_TOGGLE_COLUMN_NAME","MULTISELECT_COLUMN_NAME","toggleDropdown","is_open","getContextMenuItems","rowData","bbViewKeeperBuilder","bbHighlight","$controller","multiselectActions","updateMultiselectActions","paginationOptions","visibleSelectedRows","syncGridHeaderScrollToTopScrollbar","topScrollbarScroll","gridId","$id","hasAdd","hasColPicker","hasFilters","applySearchText","loadMore","customToolbar","hasCustomToolbar","bbGridCustomToolbar","getTopScrollbar","getTopScrollbarDiv","updateGridLoadedTimestampAndRowCount","count","timestamp","rowcount","reInitGrid","selectedColumnIds","tableEl","grid","initGrid","setRows","buildColumnClasses","classes","exclude_from_search","getEmptyString","buildCellAttribute","rowId","cellValue","rawObject","getInd","getColumnById","resetExtendedColumn","extendedColumnName","currentExtendedColumnWidth","originalExtendedColumnWidth","extendedColumnIndex","needsExtendedColumnResize","getBreakpointsWidth","columnDefault","width_all","width_xs","sm","width_sm","md","width_md","lg","width_lg","buildColumnModel","colWidth","gridColumn","colModel","hasTemplatedColumns","fixed","sortable","label","hidedlg","resizable","search","template_url","dropdown_template","cellattr","formatter","is_context_menu","compiledTemplates","totalColumnWidth","tableWrapper","multiselect","toString","align","right_align","center_align","jsonmap","allow_see_more","seemore_template","colFormatter","getColumnElementIdFromName","columnName","getColumnNameFromElementId","getDesiredGridWidth","setScrollbarHeight","topScrollbar","topScrollbarDiv","height","scrollbarWidth","resetTopScrollbar","setColumnSize","columnSize","totalWidth","style","cols","tblwidth","bDiv","hDiv","scrollLeft","resizeExtendedColumn","changedWidth","isIncreasing","extendedShrinkWidth","setGridWidth","resetGridWidth","oldWidth","newWidth","getLastIndex","lastIndex","resizeStart","jqGridEl","thEls","hasPristineColumns","tableWrapperWidth","fullGrid","resizeStartColWidth","syncHeaderToTableWrapper","vkHeader","isFixed","header","resizeStop","setSortStyles","className","headerElId","sortOptions","removeClass","descending","columnIsSortable","excludedColumns","highlightSearchText","not","linkCellValue","cell","linkFunction","cloned","afterInsertRow","rowid","rowdata","rowelem","columnData","itemScope","row","rowIndex","tableBody","columnModel","$new","skyResources","cellScopes","setSelection","setColumnHeaderAlignment","alignmentClass","setLabel","gridComplete","gridColumnsReordered","orderedColumns","oldIndex","offset","newSelectedColumnIds","reorderingColumns","getSortable","update","exclude","clearSelectedRowsObject","resetSelection","onSelectAll","rowIds","status","allRowData","localRowSelect","getDataIDs","onSelectRow","setMultiselectRow","beforeSelectRow","endIndex","lastSelectedRow","startIndex","shiftKey","getGridParam","pageChanged","skip","currentPage","itemsPerPage","top","initializePagination","maxPages","fancyCheckOff","off","wrapCheckboxEl","checkboxEl","setUpFancyCheckHeader","headerCheckEl","setUpFancyCheckCell","checkCellEl","getIdPrefix","jqGridOptions","useGridView","hoverrows","jqGrid","tableDomEl","columnCount","autoencode","datatype","gridView","idPrefix","multiselectWidth","rowNum","shrinktofit","destroy","showToolbar","fixedToolbar","create","boundaryEl","verticalOffSetElId","toolbarContainerId","setWidth","onStateChanged","gridCreated","destroyCellScopes","$destroy","loadColumnTemplates","callback","templateUrlsToLoad","handleTableWrapperResize","rows","addJSONData","setupToolbarViewKeepers","vkToolbars","vkActionBarAndBackToTop","isScrolled","fixToBottom","backToTop","scrollToTop","windowEventId","windowEl","getScrollbarWidth","columnChangedData","willResetData","newSelections","syncElPosition","$watchGroup","f","$broadcast","hasWaitAndEmpty","loading","BBGridToolbar","bbModal","searchEl","eq","openColumnPicker","columnPickerMode","hasInlineFilters","toolbarLocals","filtersVisible","moveInlineFilters","topScrollbarEl","onAddClick","onHelpLoaded","productId","customLocales","$state","bbHelpConfig","helpwidgetLoaded","BBHELP","HelpWidget","init","configOnHelpLoaded","initPromise","Error","ajax","done","config","getCurrentHelpKey","helpKeyOverride","pageData","helpKey","oldHelpKeyOverride","bbSetHelpKeyOverride","bbHelpKey","click","highlight","pat","classn","innerHighlight","node","pos","spannode","middlebit","middleclone","DEFAULT_CLASS_NAME","DATA_CLASS_NAME","nodeType","document","createElement","splitText","cloneNode","appendChild","parentNode","replaceChild","childNodes","test","each","removeHighlight","firstChild","normalize","end","highlightText","$eval","bbHighlightBeacon","$evalAsync","ngBind","runRegisterEnquire","registerEnquire","enquire","updateStatus","newSize","handler","bp","handlers","registerQuery","queries","mediaQueries","mediaBreakpointsConfig","mediaBreakpoints","openModalCount","$uibModal","opts","modalClosed","isIOS","bodyEl","scrollTop","modalInstance","navigator","userAgent","body","backdrop","windowClass","getPixelValue","getModalBodyWrapperMargin","margin","outerHeight","setBodyEl","fitToWindow","modalParentEl","newMaxHeight","reservedHeight","resizeTimeout","window","modalCtrl","bbModalHelpKey","children","modal_footer_primary_button","modal_footer_cancel_button","moment","runRegisterMoment","registerMoment","toggleOpen","appLookupUrl","enableHelp","enableSearch","searchPlaceholder","serviceName","signOutUrl","tenantId","bbOmnibarConfig","afterLoad","searchValue","searchBox","omnibarEl","searchContainer","keyCode","searching","userLoaded","userData","omnibarIndicatesNullUserTime","authenticationUserId","localStorage","parse","location","href","omnibarMenuEl","loadOptions","menuEl","BBAUTH","Omnibar","redirectUrl","notFoundUrl","pageStatuses","LOADING","LOADED","NOT_AUTHORIZED","NOT_FOUND","bbPage","bbPageConfig","$location","navigateAway","origin","noPageStatusSpecified","onShowing","bbPageUsesLoadManager","path","bbPageStatus","evtNsPos","paginationConfig","maxSize","nextText","previousText","sourceData","setPageData","startingIndex","paging","disabled","totalItems","paginationDisabled","pagedData","bbPagination","paginationDummyEl","paginationEl","clone","before","$animate","removeWindowResizeHandler","evtNs","trySetMinHeight","changePage","pageNumber","enabled","maxHeight","tries","pageCount","max","windowResizeTimeout","ceil","bbPaletteConfig","multi","mono","getPaletteByType","paletteType","getColorByIndex","palette","getColorSequence","requestedLength","paletteLength","r","bbPopoverTemplate","bbPopoverOpenAttr","bbPopoverAttr","bbUibPopoverTemplate","$uibTooltip","tooltip","useContentExp","bbUibPopoverTemplatePopup","contentExp","placement","popupClass","animation","originScope","closePopover","origScope","popoverIsOpenAttr","scopeId","has","bbResoucesFilter","serviceModules","CLS_HIGHLIGHTING","RETRY_INTERVAL","RETRY_MAX","reservedBottom","reservedTop","bbScrollIntoViewConfig","highlightEl","one","getScrollableParentEl","overflowY","parentEl","getHtmlOrBodyScrollTop","scrollIntoView","currentScrollTop","elBottom","elHeight","elOffset","elTop","elToScroll","isScrolledOffBottom","isScrolledOffTop","newScrollTop","parentElIsBody","parentHeight","viewportHeight","always","bbScrollIntoView","doScroll","firstTry","previousTimeout","retryCount","bbScrollIntoViewHighlight","$select","sizeMatchItems","updateIfVisible","containerOffsetWidth","visible","selectContainerEl","matchEl","overflow","textOverflow","maxWidth","offsetWidth","origSizeSearchInputFunc","multiple","sizeSearchInput","updateUIForSearch","showSearchingMsg","msg","msgEl","searchfield_searching","searchfield_no_records","clearResults","refresh","tabScrollId","getNavTabsEl","getScrollLeftForEl","navTabsEl","selector","elWidth","tabEl","tabLeft","tabPosition","tabRight","getScrollLeft","stopAnimateTabScroll","stop","animateTabScroll","showTabsCanScroll","force","hasOverflow","overflowOccurred","previousHadOverflow","scrollWidth","lastWindowResizeTimeout","lastWindowWidth","bbTabScrollReady","windowWidth","getTemplate","tabset","ulEl","liEl","bbTabsetAdd","bbTabsetOpen","bbTabAdd","bbTabOpen","BBTabsetCollapsibleController","updateCollapsibleHeader","bbTabsetOptions","selectedTabHeader","tabAdded","isSmallScreen","setupCollapsibleTabs","tabCount","tabRemoved","bbTabsetCollapsible","getBootstrapTabs","getDropdownEl","setTabMaxWidth","setDropdownMaxWidth","availableWidth","addOpenButtonEl","dropdownTextMaxWidth","addOpenWidth","DROPDOWN_CARET_WIDTH","TAB_PADDING","tabsEl","dropdownContainerEl","dropdownButtonsEl","tabCollapseId","collapsibleTabTitle","bbTabsetCollapsibleCtrl","getTabHeading","tabScope","active","collapseTitle","bbTabCollapseHeader","tab","$rootScope","checkCurrentState","sref","tabsetCtrl","stateChangeDeregistration","bbTabSref","go","createItemClassName","insertTemplateItems","templateEl","BB_TEMPLATE_RESULT","createTemplateHtml","addItem","newEl","templateHtml","oldEl","bbFormatCtrl","getNewlineCount","matches","templateName","BBTextExpandController","textExpandContent","headerContent","modules","bbTextExpandRepeaterData","maxToShow","seeMoreEl","seeMoreText","text_expand_see_more","seeLessText","text_expand_see_less","bbTextExpandRepeaterMax","siblings","toggle","toggleClass","getTruncatedText","newlines","charAt","maxLength","bbTextExpandMaxLength","maxExpandedLength","bbTextExpandMaxExpandedLength","maxNewlines","maxExpandedNewlines","bbTexExpandMaxExpandedNewlines","bbTextExpand","animateText","newText","newExpandText","showEllipsis","currentHeight","containerEl","expandEl","textEl","newHeight","ellipsisEl","collapsedText","expandedText","spaceEl","empty","bbTextExpandModalTitle","text_expand_modal_title","moveTilesToContainer","sourceContainer","targetContainer","tiles","tileId","tile","parseTileOrder","container","dashboardCtrl","tileIsCollapsed","smallTileDisplayMode","collapsed_small","collapsed","updateTileState","oldCollapsed","displayModeChanging","tileInitialized","contentEl","updateHeaderContent","wrapperEl","hasHeaderContent","headerContentEl","initializeTile","dashboardState","bbTileCollapsed","titleClick","hasSettings","bbTileSettingsClick","dashboardInitialized","getDashboardState","layoutTiles","tileHeader","setHeaderContentEl","tileCtrl","layout","allCollapsed","parseColumnTiles","singleColumnMode","one_column_layout","column1","two_column_layout","column2","fireDisplayModeChanged","mediabreakpointChangeHandler","breakPoints","sortableOptions","connectWith","opacity","handle","placeholder","forcePlaceholderSize","revert","collapsedProp","bbTileDashboardAllCollapsed","validateOptions","message","toastrConfig","closeButton","newestOnTop","positionClass","tapToDismiss","timeOut","toastr","$injector","getResolvePromises","resolves","promisesArr","when","invoke","iconClass","info","openMessage","openWithTemplate","insertTemplateInToast","toast","elId","controllerLocals","resolvesPromise","toastScope","resolveIter","resolvedVars","key","allowHtml","bbTooltip","encodeURIComponent","EMAIL_REGEXP","elm","ctrl","email","$isEmpty","getSpacerId","vk","setElPosition","elQ","bottom","unfixEl","CLS_VIEWKEEPER_FIXED","currentElFixedLeft","currentElFixedTop","currentElFixedBottom","currentElFixedWidth","calculateVerticalOffset","verticalOffSetElTop","verticalOffSet","verticalOffSetEl","ViewKeeper","viewportMarginTop","setPlaceholderHeight","prototype","anchorTop","anchorHeight","isCurrentlyFixed","documentQ","fixEl","boundaryBottom","boundaryOffset","boundaryQ","boundaryTop","elFixedLeft","elFixedTop","elFixedBottom","elFixedWidth","needsUpdating","spacerHeight","spacerId","spacerQ","min","innerHeight","trigger","verticalOffset","isDestroyed","$document","bbViewKeeperConfig","destroyVk","bbBoundaryElId","bbScrollingViewKeeper","scroll","elementStart","scrollPos","scrollY","pageYOffset","scrollingDown","prevScroll","offsetHeight","tempTop","isBlockUISupported","blockUI","isFullPage","getWaitCount","nonBlockWaitCountAttr","waitCountAttr","setWaitCount","removeData","nonblockEl","childOptions","nonblock","addWait","unNonblockEl","removeWait","blockEl","showFullBlock","$el","showingWaitAttr","fullPageVisibleBlockOptions","customBlockOptions","block","visibleBlockOptions","visualBlockDelay","fadeIn","fullPageClearBlockOptions","clearBlockOptions","unblockEl","unblockUI","unblock","clearAllWaits","fullPageZIndex","fadeOut","overlayCSS","copy","z-index","beginElWait","beginPageWait","clearElWait","clearPageWait","endElWait","endPageWait","bbWait","firstScopeLoad","productName","bbWindowConfig","calculateScrollbarWidth","inner","outer","w1","w2","clientWidth","setWindowTitle","textToAppend","bbWizardStepComplete","stepIsDisabled","step","getPreviousStep","previousStep","steps","getNextStep","nextStep","setActiveStep","lastStepIsActive","finish","wizard_navigator_previous","wizard_navigator_finish","wizard_navigator_next","goToPrevious","goToNext","previousDisabled","nextDisabled","ignore","bbResourcesOverrides","checklist_select_all","checklist_clear_all","checklist_no_items","grid_back_to_top","grid_column_picker_all_categories","grid_column_picker_description_header","grid_column_picker_header","grid_column_picker_name_header","grid_column_picker_search_placeholder","grid_column_picker_submit","grid_columns_button","grid_filters_apply","grid_filters_button","grid_filters_clear","grid_filters_header","grid_filters_hide","grid_filters_summary_header","grid_load_more","grid_search_placeholder","grid_column_picker_search_no_columns","month_short_april","month_short_august","month_short_december","month_short_february","month_short_january","month_short_july","month_short_june","month_short_march","month_short_may","month_short_november","month_short_october","month_short_september","page_noaccess_button","page_noaccess_description","page_noaccess_header","grid_action_bar_clear_selection","grid_action_bar_cancel_mobile_actions","grid_action_bar_choose_action","file_upload_drag_file_here","file_upload_drop_files_here","file_upload_invalid_file","file_upload_link_placeholder","file_upload_or_click_to_browse","file_upload_paste_link","file_upload_paste_link_done","datepicker_today","datepicker_clear","datepicker_close","put"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACr9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACtPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","file":"sky.js","sourceRoot":"../..","sourcesContent":["/*global angular */\n\n/** @module Action Bar\n@icon bolt\n@summary The action bar provides a SKY UX-themed container for buttons that can collapse when the screen is in extra-small mode.\n@description The action bar creates a SKY UX-themed container for buttons. It includes the option to collapse groups of buttons into dropdowns when the screen is in extra-small mode.\n### Action Bar Settings ###\n    - `bb-action-bar` &mdash; Wraps the content in the action bar.\n    - `bb-action-bar-item` &mdash; Wraps the content in an action button. Any `ng-click` applied to this directive is applied to the action button.\n    - `bb-action-bar-item-group` &mdash; Wraps `bb-action-bar-item` directives to collapse the buttons into a dropdown in extra-small mode. You can also pass an optional `bb-action-bar-item-group-title` to edit the default **Actions** label for the dropdown.\n\nTo apply action bar stylying to more complicated scenarios (hiding and showing buttons at breakpoints other than xs, collapsing dropdowns into submenus), you can place content in a `div` with the `bb-action-bar` class. Bootstrap convenience classes to  show/hide arbitrary content include the `hidden-xs`, `hidden-sm`, `hidden-md`, and `hidden-lg` classes. For more information about these classes, see the [Bootstrap](http://getbootstrap.com/css/#responsive-utilities-classes) documentation.\n*/\n\n(function () {\n    'use strict';\n\n    function bbActionBar() {\n        return {\n            controller: angular.noop,\n            controllerAs: 'bbActionBar',\n            bindToController: true,\n            scope: {},\n            transclude: true,\n            restrict: 'E',\n            templateUrl: 'sky/templates/actionbar/actionbar.html'\n        };\n    }\n\n    function bbActionBarItemGroup(bbResources, bbMediaBreakpoints) {\n        return {\n            replace: true,\n            transclude: true,\n            controller: function () {\n                var vm = this;\n\n                if (vm.title === null || angular.isUndefined(vm.title)) {\n                    vm.title = bbResources.action_bar_actions;\n                }\n            },\n            controllerAs: 'bbActionBarItemGroup',\n            bindToController: {\n                title: '=?bbActionBarItemGroupTitle'\n            },\n            restrict: 'E',\n            scope: {},\n            link: function ($scope, el) {\n                function mediaBreakpointHandler(breakpoints) {\n                    if (breakpoints.xs) {\n                        el.find('.bb-action-bar-buttons > ng-transclude').appendTo(el.find('.bb-action-bar-dropdown > .dropdown > ul'));\n                    } else {\n                        el.find('.bb-action-bar-dropdown .dropdown > ul > ng-transclude').appendTo(el.find('.bb-action-bar-buttons'));\n                    }\n                }\n\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                $scope.$on('$destroy', function () {\n                    bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                });\n            },\n            templateUrl: 'sky/templates/actionbar/actionbaritemgroup.html'\n        };\n    }\n\n    bbActionBarItemGroup.$inject = ['bbResources', 'bbMediaBreakpoints'];\n\n    function bbActionBarItem(bbMediaBreakpoints) {\n        return {\n            replace: true,\n            controller: angular.noop,\n            controllerAs: 'bbActionBarItem',\n            bindToController: true,\n            scope: {},\n            require: '?^bbActionBarItemGroup',\n            transclude: true,\n            restrict: 'E',\n            link: function ($scope, el, attrs, groupCtrl) {\n\n                function mediaBreakpointHandler(breakpoints) {\n                    if (breakpoints.xs) {\n                        if (!el.parent().is('li')) {\n                            el.wrap('<li></li>');\n                        }\n\n                    } else {\n                        if (el.parent().is('li')) {\n                            el.unwrap();\n                        }\n                    }\n                }\n\n                if (groupCtrl !== null) {\n                    bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                    $scope.$on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                        //get rid of wrapper on destroy\n                        if (el.parent().is('li')) {\n                            el.unwrap();\n                        }\n                    });\n                }\n            },\n            templateUrl: 'sky/templates/actionbar/actionbaritem.html'\n        };\n    }\n\n    bbActionBarItem.$inject = ['bbMediaBreakpoints'];\n\n    angular.module('sky.actionbar', ['sky.resources', 'sky.mediabreakpoints', 'ui.bootstrap.dropdown'])\n        .directive('bbActionBar', bbActionBar)\n        .directive('bbActionBarItemGroup', bbActionBarItemGroup)\n        .directive('bbActionBarItem', bbActionBarItem);\n}());\n","/*jshint browser: true */\n\n/*global angular */\n\n/** @module Autofocus\n@deprecated\n@icon camera\n@summary  The autofocus component specifies the input item on a form that should get focus when the form loads.\n @description ### *Deprecated* ###\n\nThis directive is no longer being maintained. UI-Bootstrap now allows the use of HTML5 autofocus on modals to focus an input upon opening the modal.\n\n<s>\nThe `bb-autofocus` directive specifies the item on a form that receives focus when the form renders. You can use this directive when items such as Angular dynamically loaded templates do not play nicely with the HTML autofocus property.\nThe **Open Modal** button below demonstrates a modal form where the `bb-autofocus` directive places the focus on an input control on the form.\n</s>\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.autofocus', [])\n        .directive('bbAutofocus', ['$timeout', function ($timeout) {\n            return {\n                restrict: 'A',\n                link: function ($scope, $element) {\n                    /*jslint unparam: true */\n                    $timeout(function () {\n                        $element.focus();\n                    }, 500);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular, jQuery */\n/** @module Autonumeric\n@icon calculator\n@summary The autonumeric component wraps the autoNumeric jQuery plugin to format any type of number, including currency.\n @description The `bb-autonumeric` directive wraps up the autoNumeric jQuery plugin to format any type of number, including currency. You must use this directive in conjunction with the `ngModel` directive where the property bound to `ngModel` is the raw numeric value on your model.\n\n ### Dependencies ###\n\n - **[autoNumeric](http://www.decorplanit.com/plugin/) (1.9.27 or higher)** Used to format money values\n\n---\n\n### Autonumeric Settings ###\n\n - `bb-autonumeric` &mdash; This  can optionally be assigned the name of a property from the `bbAutonumericConfig` object.  If none is specified, it defaults to `number`.\n - `bb-autonumeric-settings` &mdash; This can be assigned a value that represents a settings object that can be passed to autoNumeric. These options override any default options specified in the `bb-autonumeric` attribute. A complete list of options is available [here](http://www.decorplanit.com/plugin/).\n\n### Autonumeric Filter ###\n\nIn addition to the directive, there is also a filter that can format numbers. The filter can also optionally abbreviate numbers according to SKY UX patterns. For example,\nit can display 10,000 as 10k, 1,000,000 as 1m, and 1,000,000,000 as 1b. The filter takes three arguments:\n\n - `input` &mdash; The value to format.\n - `configType` &mdash; The name of the configuration (`number` or `money`) to apply to the value.\n - `abbreviate` &mdash; A Boolean value that indicates whether to abbreviate large numbers.\n */\n(function ($) {\n    'use strict';\n\n    function getBaseSettings(bbAutoNumericConfig, configType) {\n        var baseSettings,\n            configSettings;\n\n        baseSettings = angular.extend(\n            {},\n            $.fn.autoNumeric.defaults,\n            bbAutoNumericConfig.number\n        );\n\n        if (configType) {\n            configSettings = bbAutoNumericConfig[configType];\n        }\n\n        if (configSettings) {\n            angular.extend(baseSettings, configSettings);\n        }\n\n        return baseSettings;\n    }\n\n    angular.module('sky.autonumeric', ['sky.resources', 'sky.window'])\n        .constant('bbAutonumericConfig', {\n            number: {\n                aSep: ',',\n                dGroup: 3,\n                aDec: '.',\n                pSign: 'p',\n                mDec: 2\n            },\n            money: {\n                aSign: '$'\n            }\n        })\n        .directive('bbAutonumeric', ['$timeout', 'bbAutonumericConfig', 'bbWindow', function ($timeout, bbAutoNumericConfig, bbWindow) {\n            return {\n                require: 'ngModel',\n                restrict: 'A',\n                link: function ($scope, el, attrs, ngModel) {\n                    var customSettings = {},\n                        isIosUserAgent = bbWindow.isIosUserAgent();\n\n                    function applySettings() {\n                        el.autoNumeric('update', angular.extend({}, getBaseSettings(bbAutoNumericConfig, attrs.bbAutonumeric), customSettings));\n                    }\n\n                    function applyCssSettings(el) {\n                        if (attrs.bbAutonumeric) {\n                            el.addClass('bb-autonumeric-' + attrs.bbAutonumeric);\n                        }\n                    }\n\n                    function autonumericChange() {\n                        return $scope.$apply(function () {\n\n                            var value = parseFloat(el.autoNumeric('get'));\n\n                            if (isNaN(value)) {\n                                value = null;\n                            }\n                            return ngModel.$setViewValue(value);\n                        });\n                    }\n\n                    if (attrs.bbAutonumericSettings) {\n                        $scope.$watch(attrs.bbAutonumericSettings, function (newValue) {\n                            customSettings = newValue || {};\n                            applySettings();\n                        }, true);\n                    }\n\n                    el.autoNumeric(getBaseSettings(bbAutoNumericConfig, attrs.bbAutonumeric));\n                    applyCssSettings(el);\n\n                    // If a valid number, update the autoNumeric value.\n                    // Also handles the model being updated, but being in correct (usually a paste).\n                    // In that case, updates the model to what the autoNumeric plugin's value.\n                    $scope.$watch(attrs.ngModel, function (newValue, oldValue) {\n                        var getValue,\n                            selectionStart;\n                        if (newValue !== undefined && newValue !== null && !isNaN(newValue)) {\n\n                            if (parseFloat(newValue) !== parseFloat(oldValue)) {\n\n                                selectionStart = el[0].selectionStart;\n                            }\n\n                            el.autoNumeric('set', newValue);\n                            getValue = el.autoNumeric('get');\n                            if (parseFloat(getValue) !== parseFloat(newValue)) {\n                                $timeout(autonumericChange);\n                            } else if (el[0] && angular.isFunction(el[0].setSelectionRange) && angular.isDefined(selectionStart)) {\n                                $timeout(function () {\n                                    el[0].setSelectionRange(selectionStart, selectionStart);\n                                });\n                            }\n                        } else if (newValue === null) {\n                            el.val(null);\n\n                        }\n                    });\n\n                    el.on('keydown', function (event) {\n                        if (event.which === 13) {\n                            autonumericChange();\n                        }\n                    });\n\n                    el.on('change paste onpaste', function () {\n                        autonumericChange();\n\n                    });\n\n                    // When focusing in textbox, select all.  This is to workaround not having placeholder text for autonumeric.\n                    /*\n                        istanbul ignore next: the test for this code isn't passing on IE 10 on BrowserStack in automated mode.\n                        This isn't mission-critical so I'm just ignoring it for now.\n                    */\n                    el.on('focusin.bbAutonumeric', function () {\n                        $timeout(function () {\n                            // Check to ensure the field still has focus once the $timeout callback is executed.\n                            // https://github.com/blackbaud/skyux/issues/64\n                            if (el.is(':focus')) {\n                                if (!isIosUserAgent) {\n                                    el.select();\n                                } else {\n                                    //use setSelectionRange instead of select because select in a timeout does not work with iOS\n                                    el[0].setSelectionRange(0, 9999);\n                                }\n                            }\n                        });\n                    });\n\n                }\n            };\n        }])\n        .filter('bbAutonumeric', ['bbAutonumericConfig', 'bbResources', function (bbAutonumericConfig, bbResources) {\n            return function (input, configType, abbreviate) {\n                var aSign,\n                    dividend,\n                    mDec,\n                    formatted,\n                    settings,\n                    suffix,\n                    tempEl;\n\n                if (input === null || angular.isUndefined(input)) {\n                    return '';\n                }\n\n                if (isNaN(input)) {\n                    return input;\n                }\n\n\n                tempEl = $('<span></span>');\n\n                settings = getBaseSettings(bbAutonumericConfig, configType);\n\n                if (abbreviate) {\n                    if (settings.pSign === 's') {\n                        // The suffix needs to go between the number and the currency symbol, so the currency\n                        // symbol has to be left off and appended after the number is formatted.\n                        aSign = settings.aSign;\n                        settings.aSign = '';\n                    }\n\n                    input = Math.round(input);\n\n                    if (input >= 1000000000) {\n                        dividend = 100000000;\n                        suffix = bbResources.autonumeric_abbr_billions;\n                    } else if (input >= 1000000) {\n                        dividend = 100000;\n                        suffix = bbResources.autonumeric_abbr_millions;\n                    } else if (input >= 10000) {\n                        dividend = 100;\n                        suffix = bbResources.autonumeric_abbr_thousands;\n                    }\n\n                    if (suffix) {\n                        input = Math.floor(input / dividend) / 10;\n                        mDec = Math.floor(input) === input ? 0 : 1;\n                    } else {\n                        mDec = 0;\n                    }\n\n                    settings.mDec = mDec;\n                }\n\n                tempEl.autoNumeric(settings);\n                tempEl.autoNumeric('set', input);\n\n                formatted = tempEl.text();\n\n                if (suffix) {\n                    formatted += suffix;\n                }\n\n                if (abbreviate && settings.pSign === 's' && aSign) {\n                    formatted += aSign;\n                }\n\n                return formatted;\n            };\n        }]);\n}(jQuery));\n","/*jshint browser: true */\n\n/*global angular */\n\n/** @module Check\n@icon check-square\n@summary The check applies a commonly styled selector to a checkbox or radio button.\n @description The check directive allows you to change an input element of type checkbox or radio button into a commonly-styled selector. The value that is selected is driven through the `ng-model` attribute specified on the input element. For radio button input types, the value to set on the `ng-model` can be specified by the value attribute.\n\n---\n\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.check', [])\n        .directive('bbCheck', ['$templateCache', function ($templateCache) {\n            function createEl(name) {\n                return angular.element($templateCache.get('sky/templates/check/' + name + '.html'));\n            }\n\n            return {\n                link: function (scope, el, attr) {\n                    var labelEl = el.parent('label'),\n                        styledEl,\n                        typeClass;\n\n                    if (labelEl.length < 1) {\n                        el.wrap(createEl('wrapper'));\n                    } else {\n                        labelEl.addClass('bb-check-wrapper');\n                    }\n                    if (attr.type === 'radio') {\n                        typeClass = 'bb-check-radio';\n                    } else {\n                        typeClass = 'bb-check-checkbox';\n                    }\n\n                    styledEl = createEl('styled');\n                    styledEl.addClass(typeClass);\n\n                    el.after(styledEl);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular */\n\n/** @module Checklist\n@icon list-ul\n@summary The checklist directive provides the tools to build a filterable checkbox list that can display multiple columns of data.\n @description The checklist directive allows you to build a filterable checkbox list. The `bb-checklist-column` element allows you to specify multiple columns of data for the checkbox list. You can display items in a list view where each row displays a title and description. The list view is preferable when building a responsive application.\n\n### Checklist Settings ###\n\n - `bb-checklist` &mdash; Creates a filterable checkbox list.\n - `bb-checklist-items` &mdash; Creates an array of objects that represents the rows to display in the list.\n - `bb-checklist-selected-items` &mdash; Creates an array that represents the items selected in the list.\n - `bb-checklist-include-search` &mdash; Provides a Boolean value that indicates whether to include a search field to filter the checkbox list. The search field uses a callback function to filter the list based on search criteria and highlights the search text in the filtered columns.\n - `bb-checklist-search-placeholder` &mdash; Specifies placeholder text to display in the search textbox.\n - `bb-checklist-filter-callback` &mdash; Specifies the function to call when a user modifies the search text. The function updates the `bb-checklist-items` array based on the search text. A single object is passed to the function as a parameter with `searchText` and `category` properties. This is useful to load items remotely or to filter items with custom logic other than simple case-insensitive string matching.\n - `bb-checklist-filter-local` &mdash; When specified, items are filtered by the checklist directive by examining the properties of each item to match the specified category or search text.\n - `bb-checklist-search-debounce` &mdash; Specifies the number of milliseconds to debounce changes to the search text. When making a web request in `bb-checklist-filter-callback`, this setting helps avoid new requests for each character that users type.\n - `bb-checklist-no-items-message` &mdash; Specifies the message to display when no items are displayed in the list. *(Default: `'No items found'`)*\n - `bb-checklist-mode` &mdash; Specifies whether to display the checklist as a list or a grid. List mode is the preferred method because it is mobile-responsive, but for backwards-compatibility reasons, grid mode is the default.\n  - `list` &mdash; Displays checklist items in a list with titles and descriptions. Items should have `title`, `description`, and `category` properties. This is the preferred method to display checklists because it is mobile-responsive.\n  - `grid` &mdash; Displays checklist items in a grid with columns specified by `bb-checklist-column` elements. For backwards-compatibility reasons, this is the default, but list mode is preferred because it is mobile-responsive.\n - `bb-checklist-categories` &mdash; Provides an array of category names to create category filters at the top of the list.\n\n### Checklist Column Settings ###\n\n - `bb-checklist-column-caption` &mdash; Specifies a caption for the column header.\n - `bb-checklist-column-field` &mdash; Specifies the name of the property on the checklist items that contains the text to display in the column.\n - `bb-checklist-column-class` &mdash; Applies a CSS class to the column header and cells.\n - `bb-checklist-column-width` &mdash; Sets the width of the column.\n */\n\n(function () {\n    'use strict';\n\n    var PROP_CATEGORY = 'category';\n\n    function bbChecklist(bbChecklistUtility) {\n        return {\n            replace: true,\n            restrict: 'E',\n            transclude: true,\n            templateUrl: 'sky/templates/checklist/checklist.html',\n            scope: {\n                bbChecklistItems: '=',\n                bbChecklistSelectedItems: '=',\n                bbChecklistFilterCallback: '=',\n                bbChecklistIncludeSearch: '=',\n                bbChecklistSearchDebounce: '=',\n                bbChecklistSearchPlaceholder: '@',\n                bbChecklistNoItemsMessage: '@',\n                bbChecklistAutomationField: '=',\n                bbChecklistCategories: '=',\n                bbChecklistMode: '@'\n            },\n            controller: ['$scope', function ($scope) {\n                var locals = $scope.locals = {};\n\n                this.setColumns = function (columns) {\n                    locals.columns = columns;\n                };\n            }],\n            link: function ($scope, el, attrs) {\n                var filterLocal = angular.isDefined(attrs.bbChecklistFilterLocal),\n                    locals = $scope.locals;\n\n                function itemMatchesCategory(item, category) {\n                    return !category || item.category === category;\n                }\n\n                function itemMatchesFilter(item, category, searchTextUpper) {\n                    var p,\n                        val;\n\n                    if (itemMatchesCategory(item, category)) {\n                        if (!searchTextUpper) {\n                            return true;\n                        }\n\n                        for (p in item) {\n                            if (item.hasOwnProperty(p) && p !== PROP_CATEGORY) {\n                                val = item[p];\n\n                                if (angular.isString(val) && val.toUpperCase().indexOf(searchTextUpper) >= 0) {\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n\n                    return false;\n                }\n\n                function invokeFilterLocal() {\n                    var filteredItems,\n                        i,\n                        item,\n                        items = $scope.bbChecklistItems,\n                        n,\n                        searchTextUpper = (locals.searchText || '').toUpperCase(),\n                        selectedCategory = locals.selectedCategory;\n\n                    if (!searchTextUpper && !selectedCategory) {\n                        filteredItems = items.slice(0);\n                    } else {\n                        filteredItems = [];\n\n                        for (i = 0, n = items.length; i < n; i++) {\n                            item = items[i];\n\n                            if (itemMatchesFilter(item, selectedCategory, searchTextUpper)) {\n                                filteredItems.push(item);\n                            }\n                        }\n                    }\n\n                    locals.filteredItems = filteredItems;\n                }\n\n                function invokeFilter() {\n                    if (filterLocal) {\n                        invokeFilterLocal();\n                    } else if ($scope.bbChecklistFilterCallback) {\n                        $scope.bbChecklistFilterCallback({\n                            searchText: locals.searchText,\n                            category: locals.selectedCategory\n                        });\n                    }\n                }\n\n                $scope.bbChecklistSelectedItems = $scope.bbChecklistSelectedItems || [];\n\n                locals.selectAll = function () {\n                    var i,\n                        item,\n                        items = locals.filteredItems,\n                        selected = $scope.bbChecklistSelectedItems;\n\n                    for (i = 0; i < items.length; i += 1) {\n                        item = items[i];\n                        if (!bbChecklistUtility.contains(selected, item)) {\n                            bbChecklistUtility.add(selected, item);\n                        }\n                    }\n                };\n\n                locals.clear = function () {\n                    var i,\n                        item,\n                        items = locals.filteredItems,\n                        selected = $scope.bbChecklistSelectedItems;\n\n                    for (i = 0; i < items.length; i += 1) {\n                        item = items[i];\n                        bbChecklistUtility.remove(selected, item);\n                    }\n                };\n\n                locals.rowClicked = function (item) {\n                    var selected = $scope.bbChecklistSelectedItems;\n\n                    if (!bbChecklistUtility.contains(selected, item)) {\n                        bbChecklistUtility.add(selected, item);\n                    } else {\n                        bbChecklistUtility.remove(selected, item);\n                    }\n                };\n\n                locals.filterByCategory = function (selectedCategory) {\n                    locals.selectedCategory = selectedCategory;\n                    invokeFilter();\n                };\n\n                $scope.$watch('bbChecklistItems', function () {\n                    locals.filteredItems = $scope.bbChecklistItems;\n                    locals.highlightRefresh = new Date().getTime();\n                });\n\n                $scope.$watch('locals.searchText', function (newValue, oldValue) {\n                    if (newValue !== oldValue) {\n                        invokeFilter();\n                    }\n                });\n            }\n        };\n    }\n\n    bbChecklist.$inject = ['bbChecklistUtility'];\n\n    angular.module('sky.checklist', ['sky.check', 'sky.checklist.column', 'sky.checklist.columns', 'sky.checklist.model', 'sky.checklist.utility', 'sky.resources'])\n        .directive('bbChecklist', bbChecklist);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function bbChecklistColumn() {\n        return {\n            require: '^bbChecklistColumns',\n            restrict: 'E',\n            scope: {\n                bbChecklistColumnCaption: \"=\",\n                bbChecklistColumnField: \"=\",\n                bbChecklistColumnClass: \"=\",\n                bbChecklistColumnWidth: \"=\",\n                bbChecklistColumnAutomationId: \"=\"\n            },\n            link: function ($scope, element, attrs, bbChecklistColumns) {\n                /*jslint unparam: true */\n                var column = {\n                    caption: $scope.bbChecklistColumnCaption,\n                    field: $scope.bbChecklistColumnField,\n                    'class': $scope.bbChecklistColumnClass,\n                    width: $scope.bbChecklistColumnWidth,\n                    automationId: $scope.bbChecklistColumnAutomationId\n                };\n\n                bbChecklistColumns.addColumn(column);\n            }\n        };\n    }\n    \n    angular.module('sky.checklist.column', ['sky.checklist.columns'])\n        .directive('bbChecklistColumn', bbChecklistColumn);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function bbChecklistColumns() {\n        return {\n            require: '^bbChecklist',\n            restrict: 'E',\n            scope: {\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.columns = [];\n\n                this.addColumn = function (column) {\n                    $scope.columns.push(column);\n                };\n            }],\n            link: function ($scope, element, attrs, bbChecklist) {\n                /*jslint unparam: true */\n                bbChecklist.setColumns($scope.columns);\n            }\n        };\n    }\n    \n    angular.module('sky.checklist.columns', [])\n        .directive('bbChecklistColumns', bbChecklistColumns);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function checklistModel($compile, $parse, bbChecklistUtility) {\n        // http://stackoverflow.com/a/19228302/1458162\n        function postLinkFn(scope, elem, attrs) {\n            var getter,\n                setter,\n                value;\n\n            // compile with `ng-model` pointing to `checked`\n            $compile(elem)(scope);\n\n            // getter / setter for original model\n            getter = $parse(attrs.checklistModel);\n            setter = getter.assign;\n\n            // value added to list\n            value = $parse(attrs.checklistValue)(scope.$parent);\n\n            // watch UI checked change\n            scope.$watch('checked', function (newValue, oldValue) {\n                var current;\n\n                if (newValue === oldValue) {\n                    return;\n                }\n\n                current = getter(scope.$parent);\n\n                if (newValue === true) {\n                    setter(scope.$parent, bbChecklistUtility.add(current, value));\n                } else {\n                    setter(scope.$parent, bbChecklistUtility.remove(current, value));\n                }\n            });\n\n            // watch original model change\n            scope.$parent.$watch(attrs.checklistModel, function (newArr) {\n                scope.checked = bbChecklistUtility.contains(newArr, value);\n            }, true);\n        }\n\n        return {\n            restrict: 'A',\n            priority: 1000,\n            terminal: true,\n            scope: true,\n            compile: function (tElement, tAttrs) {\n                if (tElement[0].tagName !== 'INPUT' || !tElement.attr('type', 'checkbox')) {\n                    throw 'checklist-model should be applied to `input[type=\"checkbox\"]`.';\n                }\n\n                if (!tAttrs.checklistValue) {\n                    throw 'You should provide `checklist-value`.';\n                }\n\n                // exclude recursion\n                tElement.removeAttr('checklist-model');\n\n                // local scope var storing individual checkbox model\n                tElement.attr('ng-model', 'checked');\n\n                return postLinkFn;\n            }\n        };\n    }\n    \n    checklistModel.$inject = ['$compile', '$parse', 'bbChecklistUtility'];\n    \n    angular.module('sky.checklist.model', ['sky.checklist.utility'])\n        .directive('checklistModel', checklistModel);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    angular.module('sky.checklist.utility', [])\n        .factory('bbChecklistUtility', function () {\n            return {\n                \n                contains: function (arr, item) {\n                    var i;\n\n                    if (angular.isArray(arr)) {\n                        for (i = 0; i < arr.length; i += 1) {\n                            if (angular.equals(arr[i], item)) {\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                },\n\n                // add\n                add: function (arr, item) {\n                    var i;\n\n                    arr = angular.isArray(arr) ? arr : [];\n                    for (i = 0; i < arr.length; i += 1) {\n                        if (angular.equals(arr[i], item)) {\n                            return arr;\n                        }\n                    }\n                    arr.push(item);\n                    return arr;\n                },\n\n                // remove\n                remove: function (arr, item) {\n                    var i;\n\n                    if (angular.isArray(arr)) {\n                        for (i = 0; i < arr.length; i += 1) {\n                            if (angular.equals(arr[i], item)) {\n                                arr.splice(i, 1);\n                                break;\n                            }\n                        }\n                    }\n                    return arr;\n                }\n\n            };\n        });\n}());","/* global angular */\n\n/** @module Context Menu\n\n@icon ellipsis-h\n@summary The context menu creates simple or complicated dropdown menus that you can incorporate into buttons.\n@description The context menu directives allow you to create SKY UX-themed [dropdown](https://angular-ui.github.io/bootstrap/#/dropdown) menus. The context menu module includes three directives.\n  - `bb-context-menu` &mdash; Creates a dropdown menu within the context menu button.\n  - `bb-context-menu-item` &mdash; Creates an entry within a dropdown menu. When clicked, the menu item executes `bb-context-menu-action`.\n  - `bb-context-menu-button` &mdash; Creates a button with the SKY UX context menu styles.\n  - `bb-submenu` &mdash; Creates an accordion-style submenu within a dropdown menu. You can place the submenu within a dropdown list element.\n    - `bb-submenu-heading` &mdash; Specifies a header for a submenu. To specify a static header, apply this as an attribute of `bb-submenu`. To place arbitrary content in th header, apply this as a directive within `bb-submenu`.\n*/\n\n(function () {\n    'use strict';\n\n    function getTemplateUrl(name) {\n        return 'sky/templates/contextmenu/' + name + '.html';\n    }\n\n    function bbContextMenu() {\n        return {\n            replace: true,\n            restrict: 'E',\n            transclude: true,\n            templateUrl: getTemplateUrl('contextmenu'),\n            link: function ($scope) {\n                $scope.contextButtonStopPropagation = function ($event) {\n                    $event.stopPropagation();\n                };\n            }\n        };\n    }\n\n    function bbContextMenuItem() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            replace: true,\n            scope: {\n                clickItem: '&bbContextMenuAction'\n            },\n            templateUrl: getTemplateUrl('menuitem')\n        };\n    }\n\n    function bbContextMenuButton() {\n        return {\n            restrict: 'E',\n            replace: true,\n            templateUrl: getTemplateUrl('menubutton')\n        };\n    }\n\n    function toggleAccordion($event, $scope) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        $scope.accordionLocals.accordionOpen = !$scope.accordionLocals.accordionOpen;\n    }\n\n    function BBSubmenuController($scope) {\n        var self = this;\n\n        self.toggleAccordion = function ($event) {\n            toggleAccordion($event, $scope);\n        };\n    }\n\n    BBSubmenuController.$inject = ['$scope'];\n\n    function bbSubmenu() {\n        return {\n            controller: 'bbSubmenuController',\n            restrict: 'E',\n            scope: {\n                heading: '=?bbSubmenuHeading'\n            },\n            link: function ($scope, el, attrs) {\n                $scope.accordionLocals = {\n                    accordionOpen: false,\n                    staticHeader: false\n                };\n\n                if (angular.isDefined(attrs.bbSubmenuHeading)) {\n                    $scope.accordionLocals.staticHeader = true;\n                }\n\n                $scope.toggleAccordion = function ($event) {\n                    toggleAccordion($event, $scope);\n                };\n            },\n            transclude: true,\n            templateUrl: getTemplateUrl('submenu')\n        };\n    }\n\n    function bbSubmenuHeading() {\n        return {\n            restrict: 'E',\n            require: '^bbSubmenu',\n            scope: true,\n            link: function ($scope, el, attrs, submenuCtrl) {\n                $scope.toggleAccordion = function ($event) {\n                    submenuCtrl.toggleAccordion($event);\n                };\n            },\n            transclude: true,\n            templateUrl: getTemplateUrl('submenuheading')\n        };\n    }\n\n    angular.module('sky.contextmenu', ['ui.bootstrap.dropdown', 'ui.bootstrap.accordion'])\n        .controller('bbSubmenuController', BBSubmenuController)\n        .directive('bbContextMenu', bbContextMenu)\n        .directive('bbContextMenuItem', bbContextMenuItem)\n        .directive('bbContextMenuButton', bbContextMenuButton)\n        .directive('bbSubmenu', bbSubmenu)\n        .directive('bbSubmenuHeading', bbSubmenuHeading);\n}());\n","/*global angular, jQuery, require */\n\n/** @module Data\n\n@summary The data service provides access to convenience functions that allow you to manipulate data.\n@icon database\n@description The data service provides methods to load data and save data through web service endpoints.\n\n### bbData Functions ###\n\n  - `load(loadObj)` &mdash; Takes an object with `data`, `resources`, and `text` properties and returns a promise that contains the result of an HTTP GET request. An `httpResults` property contains the results from the underlying calls to [Angular's `$http` service](https://docs.angularjs.org/api/ng/service/$http). The object includes metadata about the response such as the HTTP status code.\n    - `data` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.data` contains the promise results. For example: `bbData.load({data: '/foo/data'})` or `bbData.load({data: {a: '/foo/data1', b: '/foo/data2'}})`. Requests to the URLs are made with credentials.\n    - `resources` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.resources` contains the promise results. Requests to the URLs are made without credentials.\n    - `text` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.text` contains the promise results. Requests to the URLs are made without credentials, and the results are returned as strings instead of objects.\n    - `loadManager` &mdash; Specifies an object with `name` and `scope` properties that creates a wait while it and its child load managers retreive data.\n  - `query(url, queryParams)` &mdash; Creates a URL with a query string based on the queryParam's properties. For example: `bbData.query('/foo/search', {x: 'y', z: 123});` returns `/foo/search?x=y&z=123`.\n  - `post(url, data)` &mdash; Within `bbData.load`, creates a post request from a URL and data object. For example: `bbData.load({data: bbData.post('/foo/post', postData)});`.\n  - `save(saveObj)` &mdash; Issues an HTTP post to store data on the remote server. Takes an argument with the `url`, `data`, and `type` properties.\n    - `url` &mdash; Specifies the URL to send the request to.\n    - `data` &mdash; Specifies the object to POST to the URL.\n    - `type` &mdash; Specifies the HTTP verb to use with the request. *(Default: `POST`)* \n  - `cancel(promise)` &mdash; Takes a promise returned by `bbData.load` or `bbData.save` and cancels the underlying HTTP request. The promise is then rejected.\n*/\n\n(function ($) {\n    'use strict';\n\n    var DEFAULT_PROP = '__DEFAULT__',\n        REQUEST_TYPE_DATA = 0,\n        REQUEST_TYPE_RESOURCES = 1,\n        REQUEST_TYPE_TEXT = 2;\n\n    function fillUrls(option, props, urls) {\n        var item,\n            p,\n            url;\n\n        /*istanbul ignore else: sanity check */\n        if (option) {\n            if (angular.isString(option) || option.BB_DATA_POST) {\n                url = option;\n\n                option = {};\n                option[DEFAULT_PROP] = url;\n            }\n\n            for (p in option) {\n                /*istanbul ignore else */\n                if (option.hasOwnProperty(p)) {\n                    item = option[p];\n                    url = item;\n\n                    props.push(p);\n                    urls.push(url);\n                }\n            }\n        }\n    }\n\n    function loadManager(options) {\n        // A service endpoint for tracking loading items.\n\n        var item,\n            loadingItems = [],\n            nonblockingForAdditionalItems = false,\n            result,\n            scope,\n            waitingForFirstItem = false;\n\n        function cancelWaiting() {\n            options.waitForFirstItem = false;\n            options.nonblockWaitForAdditionalItems = false;\n\n            if (nonblockingForAdditionalItems) {\n                nonblockingForAdditionalItems = false;\n                scope.$emit(\"bbEndWait\", { nonblocking: true });\n            }\n\n            if (waitingForFirstItem) {\n                waitingForFirstItem = false;\n                scope.$emit(\"bbEndWait\");\n            }\n        }\n\n        function startNonblockingForAdditionalItems() {\n            nonblockingForAdditionalItems = true;\n            scope.$emit(\"bbBeginWait\", { nonblocking: true });\n        }\n\n        function markCompleted(item) {\n            var i = loadingItems.indexOf(item);\n\n            if (i !== -1) {\n                loadingItems.splice(i, 1);\n                if (loadingItems.length === 0) {\n                    result.isLoading = false;\n\n                    if (nonblockingForAdditionalItems) {\n                        nonblockingForAdditionalItems = false;\n                        scope.$emit(\"bbEndWait\", { nonblocking: true });\n                    }\n                }\n            }\n\n            if (!result.isFirstItemLoaded) {\n                result.isFirstItemLoaded = true;\n                if (waitingForFirstItem) {\n                    waitingForFirstItem = false;\n                    scope.$emit(\"bbEndWait\");\n                }\n            }\n\n            if (result.isLoading && options.nonblockWaitForAdditionalItems && !nonblockingForAdditionalItems) {\n                startNonblockingForAdditionalItems();\n            }\n        }\n\n        function registerItem(item) {\n            if (!result.isLoading) {\n                if (result.isFirstItemLoaded && options.nonblockWaitForAdditionalItems) {\n                    startNonblockingForAdditionalItems();\n                }\n            }\n            loadingItems.push(item);\n            result.isLoading = true;\n        }\n\n        // Initialize values\n        scope = options.scope;\n\n        if (options.load) {\n            item = {\n                name: options.name,\n                load: options.load\n            };\n        }\n\n        result = {\n            isFirstItemLoaded: false,\n            isLoading: false,\n            loadingItems: loadingItems,\n            cancelWaiting: cancelWaiting\n        };\n\n        if (options.waitForFirstItem) {\n            waitingForFirstItem = true;\n            scope.$emit(\"bbBeginWait\");\n        }\n\n        // Start loading any item that is handed directly to the loader.\n        if (item) {\n            // Add the current item to the list.\n            registerItem(item);\n\n            // Start loading the item.\n            result.loaded = item.load().finally(function () {\n                markCompleted(item);\n                scope.$parent.$emit(\"bbData.loadManager.markCompleted\", item);\n            });\n\n            scope.$parent.$emit(\"bbData.loadManager.registerItem\", item);\n        }\n\n        if (options.isAggregate) {\n            // Listen to items being registered by child loadManagers.\n            scope.$on(\"bbData.loadManager.registerItem\", function (e, item) {\n                e.stopPropagation();\n                registerItem(item);\n            });\n\n            // Listen to items being marked completed by child loadManagers.\n            scope.$on(\"bbData.loadManager.markCompleted\", function (e, item) {\n                e.stopPropagation();\n                markCompleted(item);\n            });\n        }\n\n        return result;\n    }\n\n    function bbData($http, $q, $templateCache, bbDataConfig, $window) {\n        function ajaxUrl(url, requestType) {\n            var filter,\n                parts;\n\n            requestType = requestType || 0;\n\n            if ($window.define && $window.define.amd && $window.require) {\n                parts = url.split('?');\n\n                // Grab the portion before the query string and get the fully-qualified URL.\n                url = parts.shift();\n                url = require.toUrl(url);\n\n                // If there was anything after the first question mark, put it back.\n                url += '?' + parts.join('');\n            }\n\n            switch (requestType) {\n            case REQUEST_TYPE_DATA:\n                filter = bbDataConfig.dataUrlFilter;\n                break;\n            case REQUEST_TYPE_RESOURCES:\n                filter = bbDataConfig.resourceUrlFilter;\n                break;\n            case REQUEST_TYPE_TEXT:\n                filter = bbDataConfig.textUrlFilter;\n                break;\n            }\n\n            if (angular.isFunction(filter)) {\n                url = filter(url);\n            }\n\n            return url;\n        }\n\n        function createAjaxPromise(item, isPost, requestType, timeoutPromise) {\n            var data,\n                httpOptions,\n                isGet,\n                textContent,\n                type,\n                url;\n\n            requestType = requestType || 0;\n\n            if (item.BB_DATA_POST || isPost) {\n                data = item.data;\n                type = item.type || 'post';\n                url = item.url;\n            } else {\n                type = 'get';\n                url = item;\n                isGet = true;\n            }\n\n            if (isGet && requestType === REQUEST_TYPE_TEXT) {\n                // Check the Angular template cache using the raw URL first in case the text content is compiled into\n                // the module bundle.\n                textContent = $templateCache.get(url);\n\n                if (textContent) {\n                    return $q(function (resolve) {\n                        resolve({\n                            data: textContent\n                        });\n                    });\n                }\n            }\n\n            url = ajaxUrl(url, requestType);\n\n            httpOptions = {\n                method: type,\n                url: url,\n                cache: requestType !== 0,\n                data: data ? JSON.stringify(data) : null,\n                dataType: requestType !== 0 ? 'text' : 'json',\n                withCredentials: requestType === 0,\n                timeout: timeoutPromise\n            };\n\n            if (data instanceof $window.FormData) {\n                // Angular sets the Content-Type to application/json by default, but when posting FormData\n                // it should clear out the Content-Type and let the browser determine it.\n                // https://uncorkedstudios.com/blog/multipartformdata-file-upload-with-angularjs\n                angular.extend(httpOptions, {\n                    transformRequest: angular.identity,\n                    headers: {\n                        'Content-Type': undefined\n                    }\n                });\n            }\n\n            return $http(httpOptions);\n        }\n\n        function addPromises(items, urls, requestType, timeoutPromise) {\n            var i,\n                n,\n                url;\n\n            if (urls) {\n                for (i = 0, n = urls.length; i < n; i++) {\n                    url = urls[i];\n                    items.push(createAjaxPromise(url, null, requestType, timeoutPromise));\n                }\n            }\n        }\n\n        function nextId() {\n            nextId.index = nextId.index || 0;\n            nextId.index++;\n            return nextId.index;\n        }\n\n        function trackHTTPTimeoutForPromise(fn) {\n            var id = nextId(),\n                promise,\n                httpTimeout = $q.defer();\n\n            trackHTTPTimeoutForPromise[id] = httpTimeout;\n\n            promise = fn(httpTimeout.promise);\n            promise._id = id;\n\n            function clearPromiseId() {\n                delete trackHTTPTimeoutForPromise[id];\n            }\n\n            promise.then(clearPromiseId, clearPromiseId);\n\n            return promise;\n        }\n\n        function loadData(options) {\n            return trackHTTPTimeoutForPromise(function (timeoutPromise) {\n                return $q(function (resolve, reject) {\n                    var dataOption,\n                        dataProps,\n                        dataUrls,\n                        resourcesOption,\n                        resourcesProps,\n                        resourcesUrls,\n                        promises = [],\n                        textOption,\n                        textProps,\n                        textUrls;\n\n                    function success(args) {\n                        var argIndex = 0,\n                            result = {\n                                httpResults: {}\n                            };\n\n                        function addResult(name, props) {\n                            var resultData,\n                                httpResult,\n                                i,\n                                n,\n                                p,\n                                resultItem,\n                                resultItemHttpResults;\n\n                            if (props) {\n                                for (i = 0, n = props.length; i < n; i++) {\n                                    p = props[i];\n                                    httpResult = args[argIndex];\n                                    resultData = httpResult.data;\n\n                                    if (p === DEFAULT_PROP) {\n                                        resultItem = resultData;\n                                        resultItemHttpResults = httpResult;\n                                    } else {\n                                        resultItem = resultItem || {};\n                                        resultItem[p] = resultData;\n\n                                        resultItemHttpResults = resultItemHttpResults || {};\n                                        resultItemHttpResults[p] = httpResult;\n                                    }\n\n                                    argIndex++;\n                                }\n                            }\n\n                            if (angular.isDefined(resultItem)) {\n                                result[name] = resultItem;\n                            }\n\n                            if (angular.isDefined(resultItemHttpResults)) {\n                                result.httpResults[name] = resultItemHttpResults;\n                            }\n                        }\n\n                        addResult('data', dataProps, true);\n                        addResult('resources', resourcesProps);\n                        addResult('text', textProps);\n\n                        resolve(result);\n                    }\n\n                    function failure() {\n                        /*jshint validthis: true */\n                        reject.apply(this, arguments);\n                    }\n\n                    dataOption = options.data;\n                    resourcesOption = options.resources;\n                    textOption = options.text;\n\n                    if (dataOption) {\n                        dataProps = [];\n                        dataUrls = [];\n                        fillUrls(dataOption, dataProps, dataUrls);\n                    }\n\n                    if (resourcesOption) {\n                        resourcesProps = [];\n                        resourcesUrls = [];\n                        fillUrls(resourcesOption, resourcesProps, resourcesUrls);\n                    }\n\n                    if (textOption) {\n                        textProps = [];\n                        textUrls = [];\n                        fillUrls(textOption, textProps, textUrls);\n                    }\n\n                    addPromises(promises, dataUrls, REQUEST_TYPE_DATA, timeoutPromise);\n                    addPromises(promises, resourcesUrls, REQUEST_TYPE_RESOURCES, timeoutPromise);\n                    addPromises(promises, textUrls, REQUEST_TYPE_TEXT, timeoutPromise);\n\n                    $q.all(promises)\n                        .then(success)\n                        .catch(failure);\n                });\n            });\n        }\n\n        return {\n            cancel: function (promise) {\n                if (promise && promise._id && trackHTTPTimeoutForPromise[promise._id]) {\n                    trackHTTPTimeoutForPromise[promise._id].resolve();\n                }\n            },\n            load: function (options) {\n                if (options.loadManager) {\n                    options.loadManager.load = function () {\n                        return loadData(options);\n                    };\n\n                    return loadManager(options.loadManager).loaded;\n                }\n\n                return loadData(options);\n            },\n            loadManager: loadManager,\n            query: function (url, params) {\n                return url + '?' + $.param(params);\n            },\n            post: function (url, data) {\n                return {\n                    url: url,\n                    data: data,\n                    BB_DATA_POST: true\n                };\n            },\n            save: function (options) {\n                return trackHTTPTimeoutForPromise(function (timeoutPromise) {\n                    return createAjaxPromise(options, true, null, timeoutPromise);\n                });\n            }\n        };\n    }\n\n    bbData.$inject = ['$http', '$q', '$templateCache', 'bbDataConfig', '$window'];\n\n    angular.module('sky.data', [])\n        .constant('bbDataConfig', {})\n        .factory('bbData', bbData);\n}(jQuery));\n","/*jshint browser: true */\n/*global angular, jQuery */\n\n/** @module Date Picker\n@icon calendar-o\n@summary The date picker wraps the ui.bootstrap.datepicker directive from Angular UI Bootstrap to create an input text box with a calendar to select dates.\n@description The `bb-datepicker` directive wraps the ui.bootstrap.datepicker directive from [Angular UI Bootstrap](https://angular-ui.github.io/bootstrap/). It creates an input text box with a calendar picker to select dates.\n\n## Date Picker Settings\n  - `bb-custom-validation` &mdash; Specifies an object thta contains a function to validate entries in the text box.\n    - `formatValue` &mdash; A function to call when users enter text in the textbox. The only parameter to pass to the function is the raw value of the text box. If a problem occurs when formatting the input value, the function returns an object or a promise of an object with the `formattedValue` property and optionally the `formattingErrorMessage` property.\n  - `bb-date-format` &mdash; Specifies the format string to use for dates in the text box. This overrides the SKY UX default of `MM/dd/yyyy` that is set in the `bbDatepickerConfig`'s `currentCultureDateFormatString` property. You set up the format string just like format strings for the [Angular date filter](https://docs.angularjs.org/api/ng/filter/date).\n  - `bb-date-options` &mdash; Specifies an options object to customize the date picker. This includes all valid options for the Angular UI Bootstrap `datepicker-options` object. You can set application defaults for the `showWeeks` and `startingDay` properties of the Angular UI Bootstrap date picker in the `bbDatepickerConfig` constant defined in `sky.datepicker`. The SKY UX defaults for `showWeeks` and `startingDay` are  `false` and `0`.\n  - `bb-datepicker-name` &mdash; Provides the value to bind to the `name` attribute of the date picker input. The value is used in validation and form submission.\n  - `close-on-date-selection` &mdash; Indicates whether to close the date picker's calendar after a date is selected. *(Default: `true`)*\n  - `datepicker-append-to-body` &mdash; Indicates whether to append the date picker popup element to `body` instead of the date picker text box. *(Default: `false`)*\n  - `max-date` &mdash; A JavaScript Date object that sets a maximum date for the date picker control and input. Input validation is bound to `$scope.myFormName.inputName.$error.maxDate`. You can set this value globally in `bbDatepickerConfig`'s `maxDate` property.\n  - `min-date` &mdash; A JavaScript Date object that sets a minimum date for the date picker control and input. Input validation is bound to `$scope.myFormName.inputName.$error.minDate`. You can set this value globally in  `bbDatepickerConfig`'s `minDate` property.\n  - `ng-model` &mdash; Specifies an object to bind the date value in and out of the date picker. This is set to a JavaScript Date object when set or parsed from the Bootstrap date picker.\n  - `placeholder` &mdash; Overrides the default placeholder text of the `bb-datepicker` input.\n  - `required` &mdash; Indicates whether the date picker's text box is a required field.\n  - `show-button-bar` &mdash; Indicates whether to display a button bar under the date picker. *(Default: `false`)*\n\n## Validation\nThe `bb-datepicker` directive sets validation on the date picker input using `bb-datepicker-name` for the input name. The validity of the date in the input is in the `dateFormat` validator. To check if a date value is valid, you can access this through `$scope.myFormName.inputName.$error.dateFormat`. The error message for an invalid date is in `$scope.myFormName.inputName.invalidFormatMessage`.\n\n*/\n(function ($) {\n    'use strict';\n    angular.module('sky.datepicker', ['sky.resources', 'sky.moment', 'ui.bootstrap.datepicker'])\n        .constant('bbDatepickerConfig', {\n            currentCultureDateFormatString: 'MM/dd/yyyy',\n            showWeeks: false,\n            startingDay: 0,\n            minDate: '',\n            maxDate: ''\n        })\n        .directive('bbDatepicker', ['bbResources', 'bbDatepickerConfig', 'bbDatepickerParser', '$timeout', '$q', function (bbResources, bbDatepickerConfig, bbDatepickerParser, $timeout, $q) {\n            return {\n                replace: true,\n                restrict: 'E',\n                require: 'ngModel',\n                scope: {\n                    date: '=ngModel',\n                    dateOptions: '=?bbDateOptions',\n                    customValidation: '=?bbCustomValidation',\n                    format: '=?bbDateFormat',\n                    maxDate: '=?maxDate',\n                    minDate: '=?minDate',\n                    placeholderText: '=?placeholder'\n                },\n                templateUrl: 'sky/templates/datepicker/datepicker.html',\n                controller: ['$scope', function ($scope) {\n                    var self = this;\n\n\n                    $scope.getInputNgModel = function () {\n                        if (angular.isFunction(self.getInputNgModel)) {\n                            return self.getInputNgModel();\n                        } else {\n                            return null;\n                        }\n                    };\n                }],\n                link: function ($scope, el, attr, ngModel) {\n                    var parsedDate,\n                        inputEl,\n                        skipValidation = false,\n                        dateChangeInternal = false;\n\n                    function getBodyDatepicker() {\n                        return $('body > ul[uib-datepicker-popup-wrap]');\n                    }\n\n                    function positionAbsoluteDatepicker() {\n                        var calendarButtonEl = el.find('span.bb-datepicker-button-container'),\n                            inputEl = el.find('input'),\n                            datepickerScope = el.find('input').isolateScope(),\n                            datepickerEl = getBodyDatepicker(),\n                            inputWidth,\n                            buttonWidth,\n                            datepickerWidth;\n\n                        inputWidth = inputEl.innerWidth();\n                        buttonWidth = calendarButtonEl.innerWidth();\n                        datepickerWidth = datepickerEl.innerWidth();\n\n                        if (datepickerWidth < (inputWidth + buttonWidth)) {\n                            datepickerScope.position.left = datepickerScope.position.left + inputWidth + buttonWidth - datepickerWidth;\n                        }\n                    }\n\n                    function open($event) {\n                        $event.preventDefault();\n                        $event.stopPropagation();\n\n                        //add syle class when datepicker appended to body because necessary bb-datefield class will no longer be wrapping it.\n                        if ($scope.locals.appendToBody) {\n                            $timeout(function () {\n                                getBodyDatepicker().addClass('bb-datefield');\n                                positionAbsoluteDatepicker();\n                            });\n                        }\n\n                        $scope.locals.opened = !$scope.locals.opened;\n                    }\n\n                    function setDate() {\n                        var inputNgModel;\n                        if (angular.isDate($scope.date)) {\n                            $scope.locals.date = $scope.date;\n                        } else if (!$scope.locals.hasCustomValidation) {\n                            parsedDate = bbDatepickerParser.runParsers($scope.date, $scope.format);\n                            if (angular.isDate(parsedDate)) {\n                                $scope.date = parsedDate;\n                                $scope.locals.date = parsedDate;\n                            } else {\n                                $scope.locals.date = $scope.date;\n                                inputNgModel = $scope.getInputNgModel();\n                                if (inputNgModel && !inputNgModel.$validators.date($scope.date)) {\n                                    inputNgModel.invalidFormatMessage = bbResources.date_field_invalid_date_message;\n                                    inputNgModel.$setValidity('dateFormat', false);\n                                }\n                            }\n                        } else {\n                            $scope.locals.date = $scope.date;\n                        }\n                    }\n\n                    $scope.locals = {\n                        showButtonBar: false,\n                        appendToBody: false,\n                        date: '',\n                        opened: false,\n                        open: open,\n                        loaded: false,\n                        closeOnSelection: true,\n                        dateOptions: {\n                            showWeeks: bbDatepickerConfig.showWeeks,\n                            startingDay: bbDatepickerConfig.startingDay\n                        },\n                        hasCustomValidation: false,\n                        inputName: attr.bbDatepickerName\n                    };\n\n                    if (!$scope.maxDate && bbDatepickerConfig.maxDate) {\n                        $scope.maxDate = bbDatepickerConfig.maxDate;\n                    }\n\n                    if (!$scope.minDate && bbDatepickerConfig.minDate) {\n                        $scope.minDate = bbDatepickerConfig.minDate;\n                    }\n\n                    $scope.resources = bbResources;\n\n                    if (angular.isDefined(attr.showButtonBar)) {\n                        $scope.locals.showButtonBar = attr.showButtonBar;\n                    }\n\n                    if (angular.isDefined(attr.closeOnDateSelection)) {\n                        $scope.locals.closeOnSelection = attr.closeOnDateSelection;\n                    }\n\n                    if (angular.isDefined(attr.datepickerAppendToBody)) {\n                        $scope.locals.appendToBody = (attr.datepickerAppendToBody === 'true');\n                    }\n\n                    if (angular.isUndefined($scope.format)) {\n                        $scope.format = bbDatepickerConfig.currentCultureDateFormatString;\n                    }\n\n                    if (angular.isDefined($scope.dateOptions)) {\n                        angular.extend($scope.locals.dateOptions, $scope.dateOptions);\n\n                    }\n\n                    if (angular.isDefined($scope.customValidation)) {\n                        if (angular.isFunction($scope.customValidation.formatValue)) {\n                            $scope.locals.hasCustomValidation = true;\n                        }\n                    }\n\n                    $scope.locals.required = angular.isDefined(attr.required);\n\n\n                    if ($scope.placeholderText === null || angular.isUndefined($scope.placeholderText)) {\n                        $scope.placeholderText = $scope.format.toLowerCase();\n                    }\n\n                    setDate();\n\n                    $scope.$watch('date', function (newValue, oldValue) {\n                        if (newValue !== oldValue && !dateChangeInternal) {\n                            setDate();\n                        } else if (dateChangeInternal) {\n                            dateChangeInternal = false;\n                        }\n                    });\n\n                    $scope.$watch('locals.date', function () {\n\n                        if ($scope.date !== $scope.locals.date) {\n                            if (angular.isDate($scope.locals.date)) {\n                                dateChangeInternal = true;\n                                $scope.date = $scope.locals.date;\n                            }\n                        }\n\n                    });\n\n                    function hasRequiredError() {\n                        var inputNgModel = $scope.getInputNgModel();\n\n                        return inputNgModel && inputNgModel.$error && inputNgModel.$error.required;\n                    }\n\n\n                    function dateFormatValidator() {\n                        var customFormattingResult,\n                            deferred,\n                            inputNgModel;\n\n                        function resolveValidation() {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                deferred[inputNgModel.invalidFormatMessage ? 'reject' : 'resolve']();\n                                inputNgModel.$setValidity('dateFormat', !inputNgModel.invalidFormatMessage || inputNgModel.invalidFormatMessage === '');\n                            } else {\n                                deferred.resolve();\n                            }\n                        }\n\n                        function setInvalidFormatMessage(errorMessage) {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                inputNgModel.invalidFormatMessage = errorMessage;\n                            }\n                        }\n\n                        function handleCustomFormattingValidation(result) {\n                            result = result || {};\n\n                            setInvalidFormatMessage(result.formattingErrorMessage);\n                            resolveValidation();\n\n                            if (result.formattedValue !== $scope.date) {\n                                skipValidation = true;\n                                dateChangeInternal = true;\n                                $scope.date = result.formattedValue;\n                                $scope.locals.date = result.formattedValue;\n                            }\n\n                        }\n\n                        function datepickerIsPristine() {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                return inputNgModel.$pristine;\n                            } else {\n                                return true;\n                            }\n                        }\n\n                        deferred = $q.defer();\n\n                        if (skipValidation || angular.isDate($scope.locals.date) || $scope.locals.date === '' || ($scope.locals.required && hasRequiredError()) || datepickerIsPristine()) {\n                            setInvalidFormatMessage(null);\n                            resolveValidation();\n                        } else if ($scope.locals.hasCustomValidation && angular.isString($scope.locals.date)) {\n                            customFormattingResult = $scope.customValidation.formatValue($scope.locals.date);\n                            if (customFormattingResult.then) {\n                                customFormattingResult.then(handleCustomFormattingValidation);\n                            } else {\n                                handleCustomFormattingValidation(customFormattingResult);\n                                return deferred.promise;\n                            }\n                        } else {\n                            inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null && inputNgModel.$error && inputNgModel.$error.date) {\n                                setInvalidFormatMessage(bbResources.date_field_invalid_date_message);\n                            }\n                            resolveValidation();\n                        }\n\n                        skipValidation = false;\n                        return deferred.promise;\n                    }\n\n                    ngModel.$asyncValidators.dateFormat = dateFormatValidator;\n\n                    $scope.locals.loaded = true;\n\n                    //Timeout allows the locals.loaded to be applied to dom and ng-if=true to go into effect.\n                    $timeout(function () {\n                        inputEl = el.find('input');\n                        inputEl.on('change blur', function () {\n                            $timeout(function () {\n                                var inputNgModel;\n\n                                //allows validation to kick off for invalid dates\n                                if (angular.isUndefined($scope.locals.date) && angular.isDefined(inputEl.val()) && inputEl.val() !== '') {\n                                    dateChangeInternal = true;\n                                    $scope.date = inputEl.val();\n\n\n                                } else if ($scope.locals.required && hasRequiredError()) {\n                                    dateChangeInternal = true;\n                                    $scope.date = '';\n                                    inputNgModel = $scope.getInputNgModel();\n                                    inputNgModel.invalidFormatMessage = null;\n                                    inputNgModel.$setValidity('dateFormat', true);\n                                } else if ($scope.date !== $scope.locals.date) {\n\n                                    dateChangeInternal = true;\n                                    $scope.date = $scope.locals.date;\n\n                                }\n\n                            });\n                        });\n                    });\n\n                }\n            };\n        }])\n        .directive('bbDatepickerCustomValidate', ['$filter', 'bbDatepickerParser', function ($filter, bbDatepickerParser) {\n            return {\n                restrict: 'A',\n                require: ['ngModel', '^bbDatepicker'],\n                link: function ($scope, el, attr, controllers) {\n                    var ngModel = controllers[0],\n                        format = attr.uibDatepickerPopup;\n\n                    if (attr.bbDatepickerCustomValidate && attr.bbDatepickerCustomValidate === 'true') {\n                        ngModel.$parsers = [];\n                        ngModel.$validators.date = function () {\n                            return true;\n                        };\n                    } else {\n                        ngModel.$parsers.unshift(function (viewValue) {\n                            var newDate = ngModel.$viewValue,\n                                date = null;\n                            //date was changed from datepicker or is empty so just return\n                            if (typeof newDate === 'object' || newDate === '') {\n                                return newDate;\n                            }\n\n                            date = bbDatepickerParser.runParsers(newDate, format);\n\n                            if (angular.isDate(date)) {\n                                el.val($filter('date')(date, format));\n                            }\n\n                            return date ? date : viewValue;\n                        });\n                    }\n\n                    controllers[1].getInputNgModel = function () {\n                        return ngModel;\n                    };\n                }\n            };\n        }])\n    .directive('bbMinDate', function () {\n        return {\n            restrict: 'A',\n            require: 'ngModel',\n            link: function ($scope, element, attrs, ngModel) {\n                ngModel.$validators.minDate = function (modelValue) {\n                    return !$scope.minDate || !modelValue || !angular.isDate(modelValue) || !angular.isDate($scope.minDate) || modelValue >= $scope.minDate;\n                };\n            }\n        };\n    })\n    .directive('bbMaxDate', function () {\n        return {\n            restrict: 'A',\n            require: 'ngModel',\n            link: function ($scope, element, attrs, ngModel) {\n                ngModel.$validators.maxDate = function (modelValue) {\n                    return !$scope.maxDate || !modelValue || !angular.isDate(modelValue) || !angular.isDate($scope.maxDate) || modelValue <= $scope.maxDate;\n                };\n            }\n        };\n    })\n    .factory('bbDatepickerParser', ['bbMoment', function (bbMoment) {\n\n        function parseUTCString(value) {\n            var date = null,\n                dateArray,\n                datePart;\n\n            if (angular.isString(value) && value.indexOf('T00:00:00') !== -1) {\n                datePart = value.split('T')[0];\n\n                dateArray = datePart.split('-');\n                date = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n            }\n            return date;\n        }\n\n        function parseNoSeparatorDateString(value, format) {\n            var date = null,\n                yearBegin = format.indexOf('y'),\n                monthBegin = format.indexOf('M'),\n                dayBegin = format.indexOf('d'),\n                yearIndex,\n                monthIndex,\n                dayIndex;\n            if (angular.isString(value) && value.length === 8 && !isNaN(value)) {\n                if ((dayBegin < yearBegin) && (monthBegin < yearBegin)) {\n                    yearIndex = 4;\n                    if (monthBegin < dayBegin) {\n                        dayIndex = 2;\n                        monthIndex = 0;\n                    } else {\n                        dayIndex = 0;\n                        monthIndex = 2;\n                    }\n                } else if ((yearBegin < monthBegin) && (monthBegin < dayBegin)) {\n                    yearIndex = 0;\n                    monthIndex = 4;\n                    dayIndex = 6;\n                } else {\n                    return null;\n                }\n\n                date = new Date(value.substr(yearIndex, 4), (value.substr(monthIndex, 2) - 1), value.substr(dayIndex, 2));\n            }\n            return date;\n        }\n\n        function matchSeparator(value) {\n            return value.match(/[.\\/\\-\\s].*?/);\n        }\n\n        function dateHasSeparator(value) {\n            /*\n            * Validation criteria:\n            * A separator exists\n            * There is no separator at the beginning\n            * There is no separator at the end\n            * Two separators exist\n            * All parts of the date have a non-zero value\n            */\n\n            var separator = matchSeparator(value),\n                valueArray = value.split(separator),\n                separatorAtEnd = value.indexOf(separator, value.length - 1) !== -1,\n                separatorAtBeginning = value.indexOf(separator) === 0,\n                hasTwoSeparators = valueArray.length - 1 === 2,\n                anyPartIsZero = valueArray.some(function (e) {\n                    return Number(e) === 0;\n                });\n\n            return (separator && !separatorAtEnd && !separatorAtBeginning && hasTwoSeparators && !anyPartIsZero);\n        }\n\n        function isMomentParsable(value, format) {\n            var yearParts,\n                yearIndex,\n                monthIndex,\n                dayIndex,\n                separator;\n\n            if (angular.isString(value) && dateHasSeparator(value)) {\n\n                if (value.length === 10) {\n                    return true;\n                } else if (value.length === 9 || value.length === 8) {\n                    //insure that years have 4 characters\n                    separator = matchSeparator(value);\n                    yearParts = value.split(separator);\n                    yearIndex = format.indexOf('y');\n                    monthIndex = format.indexOf('M');\n                    dayIndex = format.indexOf('d');\n                    if (yearIndex > monthIndex && yearIndex > dayIndex) {\n                        return yearParts[2].length === 4;\n                    }\n\n                    if (yearIndex < monthIndex && yearIndex < dayIndex) {\n                        return yearParts[0].length === 4;\n                    }\n\n                }\n\n            }\n\n            return false;\n        }\n\n\n\n        function parseMoment(value, format) {\n            var date = null,\n                momentDate;\n\n            if (isMomentParsable(value, format)) {\n                momentDate = bbMoment(value, format.toUpperCase());\n                if (momentDate.isValid()) {\n                    date = momentDate.toDate();\n                }\n            }\n\n            return date;\n        }\n\n        return {\n            parseUTCString: parseUTCString,\n            parseNoSeparatorDateString: parseNoSeparatorDateString,\n            parseMoment: parseMoment,\n            runParsers: function (value, format) {\n                var date = null;\n\n                if (!value || angular.isDate(value) || value === '') {\n                    return value;\n                }\n\n                date = parseUTCString(value);\n\n                if (angular.isDate(date)) {\n                    return date;\n                }\n\n                date = parseNoSeparatorDateString(value, format);\n\n                if (angular.isDate(date)) {\n                    return date;\n                }\n\n                date = parseMoment(value, format);\n\n                return date;\n\n            }\n        };\n    }]);\n\n\n}(jQuery));\n","/*jshint browser: true */\n/*global angular */\n\n/** @module Date Range Picker\n@icon calendar\n@summary The date-range picker creates an input text box with a dropdown to select date ranges from a set of well-known options.\n @description The date-range picker directive creates an input text box where users can select date ranges from a set of well-known options. The directive works hand-in-hand with a date-range picker service to provide more service-oriented functionality.\n\n### Date-range Picker Settings ###\n\n - `bb-date-range-picker-value` &mdash; Specifies an object that tracks the value of the date-range picker control. The `.dateRangeType` property provides the integer (ENUM) value of the date-range type selected in the picker. For details about the ENUM, see the Date-range Picker Service section below.\n - `bb-date-range-picker-automation-id` &mdash; Specifies a string to use when creating the `bb-auto-field` attribute on elements in the date-range picker.\n - `bb-date-range-picker-options` &mdash; *(Optional.)* Specifies an options object that can customize the behavior of the date-range picker.\n\n### Date-range Picker Options Settings ###\n\n - `availableDateRangeTypes` &mdash; Optional. Provides an array of integers (`dateRangeTypes` ENUM) to specify an ordered list of date-range types for the dropdown.  Common variations are available in the date-range picker service.\n\n### Date-range Picker Service ###\nThe date-range picker service provides functionality that works closely with the directive. The service provides the following members:\n\n - `dateRangeTypes` &mdash; An ENUM of all date-range types that the date-range picker understands and can include in the dropdown.\n - `defaultDateRangeOptions` &mdash; An array of `dateRangeTypes` that provides the default order and set of date-range types included in the dropdown.\n - `pastDateRangeOptions` &mdash; An array of `dateRangeTypes` that are appropriate to filter for things that occurred in the past. For example, you don't want to search for items created \"next month.\"\n - `getDateRangeTypeCaption` &mdash; A function to get the caption of the dropdown item for a given `bb-date-range-picker-value`.\n - `getDateRangeFilterDescription` &mdash; A function to get the description of a given `bb-date-range-picker-value`.\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.daterangepicker', ['sky.resources'])\n        .factory('bbDateRangePicker', ['bbResources', function (bbResources) {\n\n            var dateRangeTypes,\n                defaultDateRangeOptions,\n                pastDateRangeOptions;\n\n            dateRangeTypes = {\n                AT_ANY_TIME: 0,\n                NEXT_WEEK: 1,\n                THIS_MONTH: 2,\n                NEXT_MONTH: 3,\n                THIS_QUARTER: 4,\n                NEXT_QUARTER: 5,\n                THIS_FISCAL_YEAR: 6,\n                NEXT_FISCAL_YEAR: 7,\n                THIS_CALENDAR_YEAR: 8,\n                NEXT_CALENDAR_YEAR: 9,\n                LAST_WEEK: 10,\n                LAST_MONTH: 11,\n                LAST_QUARTER: 12,\n                LAST_FISCAL_YEAR: 13,\n                LAST_CALENDAR_YEAR: 14,\n                TODAY: 15,\n                YESTERDAY: 16,\n                TOMORROW: 17,\n                THIS_WEEK: 18\n            };\n\n            defaultDateRangeOptions = [\n                dateRangeTypes.AT_ANY_TIME,\n                dateRangeTypes.YESTERDAY,\n                dateRangeTypes.TODAY,\n                dateRangeTypes.TOMORROW,\n                dateRangeTypes.LAST_WEEK,\n                dateRangeTypes.THIS_WEEK,\n                dateRangeTypes.NEXT_WEEK,\n                dateRangeTypes.LAST_MONTH,\n                dateRangeTypes.THIS_MONTH,\n                dateRangeTypes.NEXT_MONTH,\n                dateRangeTypes.LAST_QUARTER,\n                dateRangeTypes.THIS_QUARTER,\n                dateRangeTypes.NEXT_QUARTER,\n                dateRangeTypes.LAST_CALENDAR_YEAR,\n                dateRangeTypes.THIS_CALENDAR_YEAR,\n                dateRangeTypes.NEXT_CALENDAR_YEAR,\n                dateRangeTypes.LAST_FISCAL_YEAR,\n                dateRangeTypes.THIS_FISCAL_YEAR,\n                dateRangeTypes.NEXT_FISCAL_YEAR\n            ];\n\n            pastDateRangeOptions = [\n                dateRangeTypes.AT_ANY_TIME,\n                dateRangeTypes.YESTERDAY,\n                dateRangeTypes.TODAY,\n                dateRangeTypes.LAST_WEEK,\n                dateRangeTypes.THIS_WEEK,\n                dateRangeTypes.LAST_MONTH,\n                dateRangeTypes.THIS_MONTH,\n                dateRangeTypes.LAST_QUARTER,\n                dateRangeTypes.THIS_QUARTER,\n                dateRangeTypes.LAST_CALENDAR_YEAR,\n                dateRangeTypes.THIS_CALENDAR_YEAR,\n                dateRangeTypes.LAST_FISCAL_YEAR,\n                dateRangeTypes.THIS_FISCAL_YEAR\n            ];\n\n            function getDateRangeTypeCaption(dateRangePickerValue) {\n                if (angular.isNumber(dateRangePickerValue)) {\n                    // If the input is the enum value itself, then map it to the object structure we expect before proceeding.\n                    dateRangePickerValue = { dateRangeType: dateRangePickerValue };\n                } else {\n                    // If the value is undefiend, then map it to a null object.\n                    dateRangePickerValue = dateRangePickerValue || {};\n                }\n\n                if (!angular.isDefined(dateRangePickerValue.dateRangeType)) {\n                    // If the enum value is undefined, then it represents any time.\n                    dateRangePickerValue.dateRangeType = dateRangeTypes.AT_ANY_TIME;\n                }\n\n                switch (dateRangePickerValue.dateRangeType) {\n                case dateRangeTypes.AT_ANY_TIME:\n                    return bbResources.date_range_picker_at_any_time;\n\n                case dateRangeTypes.THIS_WEEK:\n                    return bbResources.date_range_picker_this_week;\n\n                case dateRangeTypes.NEXT_WEEK:\n                    return bbResources.date_range_picker_next_week;\n\n                case dateRangeTypes.THIS_MONTH:\n                    return bbResources.date_range_picker_this_month;\n\n                case dateRangeTypes.NEXT_MONTH:\n                    return bbResources.date_range_picker_next_month;\n\n                case dateRangeTypes.THIS_QUARTER:\n                    return bbResources.date_range_picker_this_quarter;\n\n                case dateRangeTypes.NEXT_QUARTER:\n                    return bbResources.date_range_picker_next_quarter;\n\n                case dateRangeTypes.THIS_FISCAL_YEAR:\n                    return bbResources.date_range_picker_this_fiscal_year;\n\n                case dateRangeTypes.NEXT_FISCAL_YEAR:\n                    return bbResources.date_range_picker_next_fiscal_year;\n\n                case dateRangeTypes.THIS_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_this_calendar_year;\n\n                case dateRangeTypes.NEXT_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_next_calendar_year;\n\n                case dateRangeTypes.LAST_WEEK:\n                    return bbResources.date_range_picker_last_week;\n\n                case dateRangeTypes.LAST_MONTH:\n                    return bbResources.date_range_picker_last_month;\n\n                case dateRangeTypes.LAST_QUARTER:\n                    return bbResources.date_range_picker_last_quarter;\n\n                case dateRangeTypes.LAST_FISCAL_YEAR:\n                    return bbResources.date_range_picker_last_fiscal_year;\n\n                case dateRangeTypes.LAST_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_last_calendar_year;\n\n                case dateRangeTypes.TODAY:\n                    return bbResources.date_range_picker_today;\n\n                case dateRangeTypes.YESTERDAY:\n                    return bbResources.date_range_picker_yesterday;\n\n                case dateRangeTypes.TOMORROW:\n                    return bbResources.date_range_picker_tomorrow;\n\n                }\n            }\n\n            function getDateRangeFilterDescription(dateRangePickerValue) {\n                // If the value is undefiend, then map it to a null object.\n                dateRangePickerValue = dateRangePickerValue || {};\n\n                if (!angular.isDefined(dateRangePickerValue.dateRangeType)) {\n                    // If the enum value is undefined, then it represents any time.\n                    dateRangePickerValue.dateRangeType = dateRangeTypes.AT_ANY_TIME;\n                }\n\n                switch (dateRangePickerValue.dateRangeType) {\n                case dateRangeTypes.AT_ANY_TIME:\n                    return bbResources.date_range_picker_filter_description_at_any_time;\n\n                case dateRangeTypes.THIS_WEEK:\n                    return bbResources.date_range_picker_filter_description_this_week;\n\n                case dateRangeTypes.NEXT_WEEK:\n                    return bbResources.date_range_picker_filter_description_next_week;\n\n                case dateRangeTypes.THIS_MONTH:\n                    return bbResources.date_range_picker_filter_description_this_month;\n\n                case dateRangeTypes.NEXT_MONTH:\n                    return bbResources.date_range_picker_filter_description_next_month;\n\n                case dateRangeTypes.THIS_QUARTER:\n                    return bbResources.date_range_picker_filter_description_this_quarter;\n\n                case dateRangeTypes.NEXT_QUARTER:\n                    return bbResources.date_range_picker_filter_description_next_quarter;\n\n                case dateRangeTypes.THIS_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_this_fiscal_year;\n\n                case dateRangeTypes.NEXT_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_next_fiscal_year;\n\n                case dateRangeTypes.THIS_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_this_calendar_year;\n\n                case dateRangeTypes.NEXT_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_next_calendar_year;\n\n                case dateRangeTypes.LAST_WEEK:\n                    return bbResources.date_range_picker_filter_description_last_week;\n\n                case dateRangeTypes.LAST_MONTH:\n                    return bbResources.date_range_picker_filter_description_last_month;\n\n                case dateRangeTypes.LAST_QUARTER:\n                    return bbResources.date_range_picker_filter_description_last_quarter;\n\n                case dateRangeTypes.LAST_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_last_fiscal_year;\n\n                case dateRangeTypes.LAST_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_last_calendar_year;\n\n                case dateRangeTypes.TODAY:\n                    return bbResources.date_range_picker_filter_description_today;\n\n                case dateRangeTypes.YESTERDAY:\n                    return bbResources.date_range_picker_filter_description_yesterday;\n\n                case dateRangeTypes.TOMORROW:\n                    return bbResources.date_range_picker_filter_description_tomorrow;\n\n                }\n            }\n\n            return {\n                dateRangeTypes: dateRangeTypes,\n                defaultDateRangeOptions: defaultDateRangeOptions,\n                pastDateRangeOptions: pastDateRangeOptions,\n                getDateRangeTypeCaption: getDateRangeTypeCaption,\n                getDateRangeFilterDescription: getDateRangeFilterDescription\n            };\n\n        }])\n        .directive('bbDateRangePicker', ['bbDateRangePicker', function (bbDateRangePicker) {\n            /// <summary>\n            /// This directive provides a date range filter control\n            /// </summary>\n\n            return {\n                replace: true,\n                restrict: 'E',\n                templateUrl: 'sky/templates/daterangepicker/daterangepicker.html',\n                scope: {\n                    bbDateRangePickerValue: \"=\",\n                    bbDateRangePickerAutomationId: \"=\",\n                    bbDateRangePickerOptions: '='\n                },\n                controller: ['$scope', function ($scope) {\n\n                    $scope.locals = {\n                        bbDateRangePicker: bbDateRangePicker\n                    };\n\n                    $scope.$watch(\"bbDateRangePickerValue\", function (newVal) {\n                        if (!newVal) {\n                            $scope.bbDateRangePickerValue = {\n                                dateRangeType: bbDateRangePicker.dateRangeTypes.AT_ANY_TIME\n                            };\n                            return;\n                        }\n                        newVal.dateRangeType = newVal.dateRangeType || bbDateRangePicker.dateRangeTypes.AT_ANY_TIME;\n                    }, true);\n                }]\n            };\n        }]);\n\n}());\n","/*jshint browser: true */\n/*global angular */\n\n/** @module File Attachments\n@icon cloud-upload\n@summary The file attachments module provides the ability to add multiple files to a form and to display information about files after they are added.\n@description The file attachments module contains two directives to make it easier to add multiple files to a form.\nThe `bb-file-drop` directive provides an element that can both be clicked to select a file from the user's\nlocal drive or serve as a drop zone where files can be dragged from the user's local drive.  The directive can\nalso optionally display controls for the user to add a hyperlink to a file on the web.\n\nThe contents of the directive may be left blank to display the default UI for the drop zone, or you may include your\nown custom content to be displayed instead of the default UI.\n\nAlso note that upon the initialization of the Sky module, dragging and dropping files will be disabled for the entire window so that\naccidentally dropping a file outside the target zone doesn't result in the file being opened in the browser window.  If you are\nimplementing your own file drop functionality outside of the file drop directive, you can place the `bb-file-drop-target` CSS\nclass on the element you wish to receive drop events and that element will be exempt from the drop exclusion rule.\n\n### File Drop Settings ###\n\n- `bb-file-drop-accept` *(Optional)* A comma-delimited string literal of MIME types that may be dropped or selected (e.g. `bb-file-drop-accept=\"fileAttachmentDemo.validFileTypes\"` or `bb-file-drop-accept=\"'image/png'\"`) or a custom validation function (e.g. `bb-file-drop-accept=\"fileAttachmentDemo.validate($file)\"`).\n- `bb-file-drop-multiple` *(Default: `true`)* A flag indicating whether multiple files may be dropped at once.\n- `bb-file-drop-allow-dir` *(Default: `true`)* A flag indicating whether a directory can be selected.\n- `bb-file-drop-min-size` *(Optional)* The minimum size in bytes of a valid file.\n- `bb-file-drop-max-size` *(Optional)* The maximum size in bytes of a valid file.\n- `bb-file-drop-change` A function that is called when a file or files are selected when the user drops files onto the\ndrop zone or selects them by clicking the element.  This function accepts 2 parameters:\n - `files` An array of valid files that were dropped or selected.  Each item is a JavaScript [File](https://developer.mozilla.org/en-US/docs/Web/API/File)\n object.\n - `rejectedFiles` An array of files that did not meet the specified file type and/or size requirements.\n- `bb-file-drop-link` *(Optional)* The attribute with no value can be specified)* Indicates that an option to add hyperlinks\nshould be displayed.\n- `bb-file-drop-link-change` *(Optional)* A function that is called when the user adds a hyperlink.  The function accepts one\n`link` parameter.  The `link` will have a `url` property containing the link the user added.\n- `bb-file-drop-noclick` Specify this attribute when you want to disable the ability to select a file from a file dialog by clicking the element.\n\nThe `bb-file-item` directive displays summary information about a file that has been added to a form.  By default\nit displays the file's name and a delete button, and if the file from the user's local drive rather than a hyperlink,\na the file's size and thumbnail will also be displayed.  Any content inside this directive will be displayed to the right\nof the preview image.\n\n### File Item Settings ###\n\n- `bb-file-item` The file or hyperlink to display.  If the item is a file, the file size and a preview will be displayed.\n- `bb-file-item-delete` A function to call when an item's delete button is clicked.  The deleted item will be passed\nto the function.\n */\n(function () {\n    'use strict';\n\n    angular.module(\n        'sky.fileattachments',\n        [\n            'sky.fileattachments.filedrop',\n            'sky.fileattachments.fileitem',\n            'sky.fileattachments.filesize'\n        ]\n    );\n}());\n","/*global angular, jQuery */\n\n(function ($) {\n    'use strict';\n\n    function run($window) {\n        $($window).on('dragover drop', function (e) {\n            if (!$(e.target).hasClass('bb-file-drop-target')) {\n                e.preventDefault();\n            }\n        });\n    }\n\n    run.$inject = ['$window'];\n\n    function bbFileDrop($parse, $templateCache) {\n        return {\n            link: function (scope, el, attrs) {\n                scope.bbFileDrop = {\n                    hasTranscludeContents: $.trim(el.find('.bb-file-drop-contents-custom').html()).length > 0,\n                    allowLinks: angular.isDefined(attrs.bbFileDropLink),\n                    addLink: function ($event) {\n                        $event.preventDefault();\n                        scope.bbFileDropLinkChange({\n                            link: {\n                                url: scope.bbFileDrop.url\n                            }\n                        });\n                        \n                        scope.bbFileDrop.url = null;\n                    },\n                    fileChange: function ($files, $event, $rejectedFiles) {\n                        scope.bbFileDropChange({\n                            files: $files,\n                            rejectedFiles: $rejectedFiles\n                        });\n                    }\n                };\n            },\n            scope: {\n                bbFileDropChange: '&',\n                bbFileDropLinkChange: '&'\n            },\n            template: function (el, attrs) {\n                var dropEl;\n\n                el.html($templateCache.get('sky/templates/fileattachments/filedrop.html'));\n\n                dropEl = el.find('.bb-file-drop');\n\n                dropEl.attr({\n                    'ngf-allow-dir': attrs.bbFileDropAllowDir,\n                    'ngf-accept': attrs.bbFileDropAccept,\n                    'ngf-multiple': attrs.bbFileDropMultiple || 'true',\n                    'ngf-min-size': attrs.bbFileDropMinSize || '0',\n                    'ngf-max-size': attrs.bbFileDropMaxSize || '500000'\n                });\n\n                if (angular.isDefined(attrs.bbFileDropNoclick)) {\n                    dropEl.addClass('bb-file-drop-noclick');\n                } else {\n                    dropEl.attr('ngf-select', '');\n                }\n            },\n            transclude: true\n        };\n    }\n\n    bbFileDrop.$inject = ['$parse', '$templateCache'];\n\n    angular.module('sky.fileattachments.filedrop', ['ngFileUpload', 'sky.resources'])\n        .run(run)\n        .directive('bbFileDrop', bbFileDrop);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function bbFileItem() {\n        return {\n            link: function (scope) {\n                function getFileTypeUpper() {\n                    var fileType = '';\n\n                    if (scope.item) {\n                        fileType = scope.item.type || '';\n                    }\n\n                    return fileType.toUpperCase();\n                }\n\n                function getFileExtensionUpper() {\n                    var extension = '',\n                        name;\n\n                    if (scope.item) {\n                        name = scope.item.name || '';\n\n                        extension = name.substr(name.lastIndexOf('.')) || '';\n                    }\n\n                    return extension.toUpperCase();\n                }\n\n                scope.bbFileItem = {\n                    isFile: function () {\n                        var item = scope.item;\n\n                        return item && angular.isDefined(item.size);\n                    },\n                    isImg: function () {\n                        var fileTypeUpper = getFileTypeUpper(),\n                            slashIndex;\n\n                        slashIndex = fileTypeUpper.indexOf('/');\n\n                        if (slashIndex >= 0) {\n                            switch (fileTypeUpper.substr(fileTypeUpper.indexOf('/') + 1)) {\n                            case 'BMP':\n                            case 'GIF':\n                            case 'JPEG':\n                            case 'PNG':\n                                return true;\n                            }\n                        }\n\n                        return false;\n                    }\n                };\n\n                scope.$watch('item.type', function () {\n                    var cls,\n                        extensionUpper = getFileExtensionUpper(),\n                        fileTypeUpper;\n\n                    switch (extensionUpper) {\n                        case '.PDF':\n                            cls = 'pdf';\n                            break;\n                        case '.GZ':\n                        case '.RAR':\n                        case '.TGZ':\n                        case '.ZIP':\n                            cls = 'archive';\n                            break;\n                        case '.PPT':\n                        case '.PPTX':\n                            cls = 'powerpoint';\n                            break;\n                        case '.DOC':\n                        case '.DOCX':\n                            cls = 'word';\n                            break;\n                        case '.XLS':\n                        case '.XLSX':\n                            cls  = 'excel';\n                            break;\n                        case '.TXT':\n                            cls = 'text';\n                            break;\n                        case '.HTM':\n                        case '.HTML':\n                            cls = 'code';\n                            break;\n                    }\n\n                    if (!cls) {\n                        fileTypeUpper = getFileTypeUpper();\n\n                        switch (fileTypeUpper.substr(0, fileTypeUpper.indexOf('/'))) {\n                            case 'AUDIO':\n                                cls = 'audio';\n                                break;\n                            case 'IMAGE':\n                                // Normally images are displayed as thumbnails, but if an image type is not recognized\n                                // as being widely supported by modern browsers (e.g. TIFF files) then an icon should\n                                // be displayed instead.\n                                cls = 'image';\n                                break;\n                            case 'TEXT':\n                                cls = 'text';\n                                break;\n                            case 'VIDEO':\n                                cls = 'video';\n                                break;\n                        }\n                    }\n\n                    scope.bbFileItem.otherCls = 'fa-file-' + (cls ? cls + '-' : '') + 'o';\n                });\n            },\n            scope: {\n                item: '=bbFileItem',\n                itemDelete: '&bbFileItemDelete'\n            },\n            templateUrl: 'sky/templates/fileattachments/fileitem.html',\n            transclude: true\n        };\n    }\n\n    angular.module('sky.fileattachments.fileitem', ['ngFileUpload', 'sky.fileattachments.filesize', 'sky.resources'])\n        .directive('bbFileItem', bbFileItem);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function bbFileSize($filter, bbFormat, bbResources) {\n        return function (input) {\n            var decimalPlaces = 0,\n                dividend = 1,\n                formattedSize,\n                roundedSize,\n                template;\n            \n            if (input === null || angular.isUndefined(input)) {\n                return '';\n            }\n            \n            if (Math.abs(input) === 1) {\n                template = bbResources.file_size_b_singular;\n            } else if (input < 1000) {\n                template = bbResources.file_size_b_plural;\n            } else if (input < 1e6) {\n                template = bbResources.file_size_kb;\n                dividend = 1000;\n            } else if (input < 1e9) {\n                template = bbResources.file_size_mb;\n                dividend = 1e6;\n                decimalPlaces = 1;\n            } else {\n                template = bbResources.file_size_gb;\n                dividend = 1e9;\n                decimalPlaces = 1;\n            }\n\n            roundedSize = Math.floor(input / (dividend / Math.pow(10, decimalPlaces))) / Math.pow(10, decimalPlaces);\n\n            formattedSize = $filter('number')(roundedSize);\n\n            return bbFormat.formatText(template, formattedSize);\n        };\n    }\n    \n    bbFileSize.$inject = ['$filter', 'bbFormat', 'bbResources'];\n    \n    angular.module('sky.fileattachments.filesize', ['sky.format', 'sky.resources'])\n        .filter('bbFileSize', bbFileSize);\n}());","/*global angular */\n\n/** @module Format\n@icon paragraph\n@summary The format service provides functions to format text with a format string and to escape HTML characters.\n@description The format service gives you the following functions:\n\n  - `formatText(formatString, args)` Formats the args with a given format string.\n  - `escape(text)` Replaces the `<`, `>`, and `&` tags with `&lt;`, `&gt;`, and `&amp;`.\n\n*/\n\n(function () {\n    'use strict';\n    var tagsToReplace = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;'\n    };\n\n    function replaceTag(tag) {\n        return tagsToReplace[tag];\n    }\n\n    function isEmpty(str) {\n        return str === null || angular.isUndefined(str);\n    }\n\n    angular.module('sky.format', [])\n        .factory('bbFormat', function () {\n            return {\n                formatText: function (format) {\n                    var args;\n\n                    if (isEmpty(format)) {\n                        return '';\n                    }\n\n                    args = arguments;\n\n                    return String(format).replace(/\\{(\\d+)\\}/g, function (match, capture) {\n                        /*jslint unparam: true */\n                        return args[parseInt(capture, 10) + 1];\n                    });\n                },\n                escape: function (str) {\n                    if (isEmpty(str)) {\n                        return '';\n                    }\n\n                    return String(str).replace(/[&<>]/g, replaceTag);\n                }\n            };\n        });\n}());\n","/*jslint browser: false, plusplus: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    function buildCategoryList(columns) {\n        var categories = [],\n            column,\n            index,\n            len;\n\n        len = columns.length;\n\n        for (index = 0; index < len; index++) {\n            column = columns[index];\n\n            if (column.category) {\n                if (categories.indexOf(column.category) === -1) {\n                    categories.push(column.category);\n                }\n            }\n        }\n\n        return categories;\n    }\n\n\n    function columnCompare(a, b) {\n        a = a.title.toLocaleLowerCase();\n        b = b.title.toLocaleLowerCase();\n\n        if (a < b) {\n            return -1;\n        }\n\n        if (a > b) {\n            return 1;\n        }\n\n        return 0;\n    }\n    \n    function getInitialSelectedColumns(columns, selectedIds) {\n        var selectedColumns = [];\n        \n        angular.forEach(columns, function (column) {\n            if (selectedIds.indexOf(column.id) >= 0) {\n                selectedColumns.push(column);\n            }\n        });\n        \n        return selectedColumns;\n    }\n\n    function BBGridColumnPickerController($scope, availableColumns, initialSelectedColumnIds, columnPickerHelpKey, listMode) {\n        var columns = [],\n            initialSelectedColumns;\n\n        angular.forEach(availableColumns, function (column) {\n            columns.push({\n                id: column.id,\n                name: column.name,\n                title: column.caption,\n                category: column.category,\n                description: column.description\n            });\n        });\n        \n        initialSelectedColumns = getInitialSelectedColumns(columns, initialSelectedColumnIds);\n\n        columns.sort(columnCompare);\n\n        $scope.columns = columns;\n        $scope.categories = buildCategoryList(columns);\n        $scope.locals = {};\n        $scope.locals.selectedColumns = initialSelectedColumns.slice(0);\n        $scope.columnPickerHelpKey = columnPickerHelpKey;\n        $scope.listMode = listMode;\n        \n        $scope.applyChanges = function () {\n            var column,\n                scopeColumns = $scope.columns,\n                selectedColumns = $scope.locals.selectedColumns,\n                columnIds = [],\n                i;\n            \n            //Loop through previously selected columns.  If they are still selected, add\n            //them to the resulting list in their original order.\n            angular.forEach(initialSelectedColumnIds, function (columnId) {\n                for (i = 0; i < scopeColumns.length; i++) {\n                    column = scopeColumns[i];\n\n                    if (column.id === columnId) {\n                        if (selectedColumns.indexOf(column) >= 0) {\n                            columnIds.push(column.id);\n                        }\n                        break;\n                    }\n                }\n            });\n\n            //Loop through all columns.  If they are selected and not already in the list\n            //then add them to the end.\n            angular.forEach(selectedColumns, function (column) {\n                var id = column.id;\n                \n                if (columnIds.indexOf(id) < 0) {\n                    columnIds.push(id);\n                }\n            });\n\n            $scope.$close(columnIds);\n        };\n    }\n    \n    BBGridColumnPickerController.$inject = ['$scope', 'columns', 'selectedColumnIds', 'columnPickerHelpKey', 'listMode'];\n\n    angular.module('sky.grids.columnpicker', ['sky.checklist', 'sky.resources'])\n        .controller('BBGridColumnPickerController', BBGridColumnPickerController);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    angular.module('sky.grids.actionbar', ['sky.mediabreakpoints', 'sky.resources'])\n    .directive('bbGridActionBar', ['bbMediaBreakpoints', 'bbResources', '$timeout', function (bbMediaBreakpoints, bbResources, $timeout) {\n        return {\n                require: '^bbGrid',\n                replace: true,\n                transclude: true,\n                restrict: 'E',\n                scope: {\n                    bbMultiselectActions: '=',\n                    bbSelectionsUpdated: '&'\n                },\n                controller: ['$scope', function ($scope) {\n                    $scope.locals = {\n                        actions: $scope.bbMultiselectActions,\n                        showActionBar: false,\n                        mobileButtons: false,\n                        showMobileActions: false\n                    };\n\n                    $scope.resources = bbResources;\n                }],\n                link: function ($scope, element, attrs, bbGrid) {\n                    /*jslint unparam: true */\n                    var visibleSelected = [];\n                    \n                    function updateActionBar(data, selected) {\n                        var action,\n                            i,\n                            showActionBar;\n                        \n                        //this notation is necessary because the argument is passed through grid and then to the controller\n                        //in which grid resides.\n                        visibleSelected = bbGrid.getVisibleSelections(data, selected);\n                        \n                        $scope.bbSelectionsUpdated({ selections: { selections: visibleSelected } });\n\n                        showActionBar = false;\n                        if ($scope.locals.actions) {\n                            //only show the action bar if an action has an available selection\n                            for (i = 0; i < $scope.locals.actions.length; i++) {\n                                action = $scope.locals.actions[i];\n                                if (action.selections.length > 0) {\n                                    showActionBar = true;\n                                }\n                            }\n                        }\n                        \n                        $scope.locals.showActionBar = showActionBar;\n\n                        if (showActionBar) {\n                            $timeout(function () {\n                                bbGrid.syncActionBarViewKeeper();\n                            });\n                        }\n                    }\n                    \n                    \n                    bbGrid.scope.$watchCollection('selectedRows', function (newValue) {\n                        updateActionBar(bbGrid.scope.options.data, newValue);\n                    });\n\n                    bbGrid.scope.$watchCollection('options.data', function (newValue) {\n                        updateActionBar(newValue, bbGrid.scope.selectedRows);\n                    });\n                    \n                    //on mobile do an ng-if that changes the stuff.\n                    function mediaBreakpointHandler(newBreakpoints) {\n                        $scope.locals.mobileButtons = newBreakpoints.xs;\n                    }\n\n                    bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                    element.on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                    });\n\n                    $scope.locals.clearSelection = function () {\n                        \n                        //If the visible selections are the same as the selected rows we can just reset all multiselected rows\n                        if (visibleSelected.length === bbGrid.scope.selectedRows.length) {\n                            bbGrid.resetMultiselect();\n                        } else {\n                            bbGrid.toggleMultiselectRows(visibleSelected);\n                        }\n                        \n                    };\n\n                    $scope.locals.chooseAction = function () {\n                        $scope.locals.showMobileActions = true;\n                    };\n\n                    $scope.locals.cancelChooseAction = function () {\n                        $scope.locals.showMobileActions = false;\n                    };\n                },\n                templateUrl: 'sky/templates/grids/actionbar.html'\n            };\n    }]);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    angular.module('sky.grids.filters', ['sky.help', 'sky.resources', 'sky.mediabreakpoints'])\n    .directive('bbGridFilters', ['bbHelp', 'bbResources', 'bbMediaBreakpoints', function (bbHelp, bbResources, bbMediaBreakpoints) {\n        return {\n            require: '^bbGrid',\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbOptions: \"=\"\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.applyFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.applyFilters) {\n                        options.applyFilters(args);\n                        $scope.updateFilters(args.filters);\n\n                        if (bbMediaBreakpoints.getCurrent().xs) {\n                            $scope.locals.expanded = false;\n                        }\n                    }\n                };\n                $scope.clearFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.clearFilters) {\n                        options.clearFilters(args);\n                        $scope.updateFilters(args.filters);\n                    }\n                };\n            }],\n            link: function ($scope, element, attrs, bbGrid) {\n                /*jslint unparam: true */\n                var box = element.find('.bb-grid-filters-box'),\n                    filtersContainer = element.find('.bb-grid-filters-container');\n\n                $scope.locals = {\n                    expanded: false\n                };\n\n                $scope.viewKeeperOptions = {};\n\n                bbGrid.viewKeeperChangedHandler = function (val) {\n                    $scope.viewKeeperOptions.viewKeeperOffsetElId = val;\n                };\n\n                bbGrid.toggleFilterMenu = function (isOpen) {\n                    if (angular.isDefined(isOpen)) {\n                        $scope.locals.expanded = isOpen;\n                    } else {\n                        $scope.locals.expanded = !$scope.locals.expanded;\n                    }\n\n                    if ($scope.locals.expanded) {\n                        bbHelp.close();\n                    }\n                };\n\n                bbGrid.openFilterMenu = function () {\n                    $scope.locals.expanded = true;\n                };\n\n                bbGrid.scope.$watch('gridCreated', function (newValue) {\n                    if (newValue) {\n                        element.parents('.bb-grid-container').prepend(element);\n                        element.show();\n\n                        if ($scope.locals.expanded) {\n                            animateFilters($scope.locals.expanded);\n                        }\n                    }\n                });\n\n                $scope.updateFilters = function (filters) {\n                    bbGrid.setFilters(filters);\n                };\n\n                $scope.resources = bbResources;\n\n                function animateFilters(isExpanded) {\n                    var animationDuration = 250;\n                    if (isExpanded) {\n                        box.css('left', '240px');\n                        filtersContainer.show();\n                        box.animate({ 'left': '0' }, animationDuration);\n                    } else {\n                        box.animate({ 'left': '240px' }, {\n                            duration: animationDuration,\n                            complete: function () {\n                                box.css('left', '0');\n                                filtersContainer.hide();\n                            }\n                        });\n                    }\n                }\n\n                $scope.$watch('locals.expanded', function (newValue, oldValue) {\n                    if (newValue !== oldValue || newValue) {\n                        animateFilters(newValue);\n                    }\n                });\n\n            },\n            templateUrl: 'sky/templates/grids/filters.html'\n        };\n    }])\n    .directive('bbGridFiltersGroup', function () {\n        return {\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbGridFiltersGroupLabel: '=',\n                isCollapsed: '=?bbGridFiltersGroupIsCollapsed'\n            },\n            templateUrl: 'sky/templates/grids/filtersgroup.html'\n        };\n    })\n    .directive('bbGridFiltersSummary', ['bbResources', function (bbResources) {\n        return {\n            require: '^bbGrid',\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbOptions: \"=\"\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.clearFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.clearFilters) {\n                        options.clearFilters(args);\n                        $scope.updateFilters(args.filters);\n                    }\n                };\n\n                $scope.resources = bbResources;\n\n            }],\n            link: function ($scope, element, attrs, bbGrid) {\n                /*jslint unparam: true */\n\n                bbGrid.scope.$watch('gridCreated', function () {\n                    var toolbarContainer = element.parents('.bb-grid-container').find('.bb-grid-toolbar-container .bb-grid-filter-summary-container');\n                    toolbarContainer.append(element);\n                });\n\n\n                $scope.updateFilters = function (filters) {\n                    bbGrid.setFilters(filters);\n                };\n\n                $scope.openFilterMenu = function () {\n                    if (bbGrid.openFilterMenu) {\n                        bbGrid.openFilterMenu();\n                    }\n                };\n                $scope.$watch(function () {\n                    return element.is(':visible');\n                }, function (newValue, oldValue) {\n                    if (newValue !== oldValue) {\n                        bbGrid.syncViewKeepers();\n                    }\n                });\n            },\n            templateUrl: 'sky/templates/grids/filterssummary.html'\n        };\n    }]);\n\n}());\n","/*jslint plusplus: true */\n/*global angular, jQuery */\n\n/** @module Grid\n@icon table\n@summary The grid builds a full-featured grid with a search box, column picker, and filter form.\n @description The grid directive allows you to build a full-featured grid with a search box, column picker, and filter form.\n\n ### Dependencies ###\n\n- **[jqGrid](https://github.com/free-jqgrid/jqGrid) (4.7.0 or higher)**\n- **[enquire.js](http://wicky.nillia.ms/enquire.js/) (2.1.2 or later)**\n---\n\nThe grid directive allows you to build a full-featured grid with a search box, column picker and filter form.\n\n### Grid Settings ###\n- `bb-grid-filters` A directive you can use inside the bb-grid directive to create a filter flyout menu.\n  - `bb-options` An options object for bb-grid-filters that contains the following:\n      - `applyFilters` A function that is called when you click the apply filters button. You can pass updated filters to `bb-grid` by setting `args.filters`.\n      - `clearFilters` A function that is called when you click the clear filters button. You can pass updated filters to `bb-grid` by setting `args.filters`.\n  - `bb-grid-filters-group` A directive you can use inside of `bb-grid-filters` that creates labels (with the `bb-grid-filters-group-label` option) and collapsible areas.\n- `bb-grid-filters-summary` A directive you can use inside the bb-grid directive to create a summary toolbar for your applied filters.\n  - `bb-options` An options object for `bb-grid-filters-summary` that contains the following:\n      - `clearFilters` A function that is called when you click the clear filters (x) icon. You can pass updated filters to `bb-grid` by setting `args.filters`.\n\n- `bb-grid-options` An object with the following properties:\n  - `columns` An array of available columns.  Each column can have these properties:\n        - `allow_see_more` Allows the column to have a see more link to view overflow content.\n        - `caption` The text to display in the column header and column chooser.\n        - `category` A category for the column, can be used to filter in the column chooser.\n        - `center_align` True if the column header and contents should be center aligned.\n        - `controller` The controller function if the column is templated. This allows a cell to perform logic while displaying formatted or complex data. You can access row data from the grid in the column template controller using `$scope.rowData`.\n        - `description` A description for the column, seen in the column chooser.\n        - `exclude_from_search` If true, then the column does not highlight text on search.\n        - `id` A unique identifier for the column.  The ID is referenced by the option object's `selectedColumnIds` property.\n        - `jsonmap` The name of the property that maps to the column's data.\n        - `name` The name of the column.\n        - `right_align` True if the column header and contents should be right aligned.\n        - `template_url` The url for the column template to show formatted or complex data in a cell. The properties of the cell data object can be accessed using the format `data.property_name`.\n        - `width_all` The default width (in pixels) for a column if no breakpoint specific column is specified (`width_xs`, `width_sm`, `width_md`, `width_lg`). If no value is specified, columns will default to 150px, and if the columns do not take up the available room in the grid, the last column will be extended.\n        - `width_xs` The width of the column for screen sizes less than 768px.\n        - `width_sm` The width of the column for screen sizes from 768px to 991px.\n        - `width_md` The width of the column for screen sizes from 992px to 1199px.\n        - `width_lg` The width of the column for screen sizes greater than 1199px.\n  - `data` An array of objects representing the rows in the grid.  Each row should have properties that correspond to the `columns` `jsonmap` properties.\n  - `fixedToolbar` Prevents the toolbar and grid headers from scrolling with the window. Defaults to false.\n  - `filtersAreActive` If true, the filter button highlights to indicate that filters are active.\n  - `filtersOpen` If set to true, opens filters. If set to false, closes filters.\n  - `getContextMenuItems` If a function is specified, then the grid rows will attempt to create a bootstrap dropdown based on the return value of the function. The return value should be an array of objects that represent the items in a dropdown. The objects should contain the following properties:\n      - `id` A unique string identifier for the option.\n      - `title` The title shown for the dropdown option.\n      - `cmd` A function that will be called when the dropdown option is clicked. It should return false if you wish to close the dropdown after the function is called.\n  - `hasInlineFilters` If true, toggles hide/show on the transcluded content in the `bb-grid` directive when the filter button is pressed.\n  - `hasMoreRows` If set to true, then the `See more` button will appear below the grid when the grid does not use pagination.\n  - `hideColPicker` If true, hides the grid column picker in the toolbar.\n  - `hideFilters` If true, hides the filters button in the toolbar.\n  - `multiselect` If true, adds a multiselect checkbox column to the listbuilder.\n  - `onAddClick` If a function is specified, then an add button will appear in the grid toolbar that will call the `onAddClick` function when clicked.\n  - `onAddClickLabel` Label for the add button.\n  - `searchText` The text entered in the grid search box, set by bbGrid.\n  - `selectedColumnIds` An array of unique identifiers indicating the visible columns in the order in which they should be displayed.\n  - `sortOptions` Options around column sorting:\n      - `excludedColumns` An array of column names that should be excluded.\n      - `column` The name of the column that the data should be sorted by, set by bbGrid.\n      - `descending` Set to true by bbGrid if the sort should be in descending order.\n- `bb-grid-pagination` An object set when you intend to use pagination instead of infinite scrolling with your grid. It has the following properties:\n  - `itemsPerPage` The number of rows you wish to show in the grid per page, defaults to 5.\n  - `maxPages` The maximum number of pages to show in the pagination bar, defualts to 5.\n  - `recordCount` The total number of records available through pagination.\n- `bb-multiselect-actions` An array of actions that can be shown in the multiselect action bar. Each action can have the following:\n  - `actionCallback` A function that will be called when the action is clicked.\n  - `automationId` An identifier that will be placed in the `data-bbauto` attribute for automation purposes.\n  - `isPrimary` If true, this action will have the primary button color.\n  - `selections` The selected row objects from the list builder that are associated with this action, this can be updated through the `bb-selections-updated` function.\n  - `title` The text that will appear on the button for the action.\n- `bb-selected-rows` An object that has two way binding to the multiselected rows. It can be used to set the multiselected rows from the parent controller of the directive.\n- `bb-selections-updated` A function which will be called when multiselect selections are updated. The selections are passed to the function as an argument and you can update your multiselect actions accordingly.\n\n### Custom Grid Toolbar ###\nIf you need more content in the grid toolbar beyond the add button, search input, column chooser, and filter button, then you can add custom content between the add button and search input.\n\nTo do this, the `bb-grid-custom-toolbar` attribute must be added to the `bb-grid` directive. Then, place a `bb-grid-toolbar` directive with your custom controls inside of the `bb-grid` directive.\n\n### Grid Events ###\n\n  - `includedColumnsChanged` Fires when the user has changed the grid columns.  If you plan to handle reloading the grid after this change (e.g. you need\nto reload data from the server as a result of the column change), set the event handler's `data` parameter's `willResetData` property to `true` to avoid\nreloading the grid with the current data after the event has fired.\n  - `loadMoreRows` Fires when a page changes (when using pagination) or when the 'See more' button is clicked. When raised from a page change, a data object with top and skip parameters is included so that the calling controller can retrieve the proper paged data.\n\n*/\n(function ($) {\n    'use strict';\n\n    var DEFAULT_ITEMS_PER_PAGE = 5,\n        DEFAULT_MAX_PAGES = 5,\n        DEFAULT_COLUMN_SIZE = 150,\n        MULTISELECT_COLUMN_SIZE = 35,\n        DROPDOWN_TOGGLE_COLUMN_SIZE = 40,\n        DROPDOWN_TOGGLE_COLUMN_NAME = 'dropdownToggle',\n        MULTISELECT_COLUMN_NAME = 'cb';\n\n\n    function arrayObjectIndexOf(array, obj) {\n        var i;\n        for (i = 0; i < array.length; i++) {\n            if (angular.equals(array[i], obj)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    angular.module('sky.grids', ['sky.contextmenu', 'sky.mediabreakpoints', 'sky.viewkeeper', 'sky.highlight', 'sky.resources', 'sky.data', 'sky.grids.filters', 'sky.grids.actionbar', 'sky.window', 'sky.grids.toolbar'])\n        .controller('bbGridContextMenuController', ['$scope', function ($scope) {\n            function toggleDropdown($event) {\n                $event.preventDefault();\n                $event.stopPropagation();\n                $scope.locals.is_open = !$scope.locals.is_open;\n            }\n\n            $scope.locals = {\n                is_open: false,\n                items: [],\n                toggleDropdown: toggleDropdown\n            };\n\n            /*istanbul ignore else: sanity check */\n            if (angular.isFunction($scope.getContextMenuItems)) {\n                $scope.locals.items = $scope.getContextMenuItems($scope.rowData.id, $scope.rowData);\n            }\n        }])\n\n\n        .directive('bbGrid', ['$window', '$compile', '$templateCache', 'bbMediaBreakpoints', 'bbViewKeeperBuilder', 'bbHighlight', 'bbResources', 'bbData', '$controller', '$timeout', 'bbWindow',\n\n            function ($window, $compile, $templateCache, bbMediaBreakpoints, bbViewKeeperBuilder, bbHighlight, bbResources, bbData, $controller, $timeout, bbWindow) {\n                return {\n                    replace: true,\n                    transclude: true,\n                    restrict: 'E',\n                    scope: {\n                        options: '=bbGridOptions',\n                        multiselectActions: '=?bbMultiselectActions',\n                        updateMultiselectActions: '&bbSelectionsUpdated',\n                        paginationOptions: '=?bbGridPagination',\n                        selectedRows: '=?bbSelectedRows'\n                    },\n                    controller: ['$scope', function ($scope) {\n                        var locals,\n                            self = this;\n\n                        self.setFilters = function (filters) {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.setFilters)) {\n                                locals.setFilters(filters);\n                            }\n                        };\n\n                        self.syncViewKeepers = function () {\n                            /*istanbul ignore else: sanity check */\n                            if ($scope.syncViewKeepers) {\n                                $scope.syncViewKeepers();\n                            }\n                        };\n\n                        self.syncActionBarViewKeeper = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction($scope.syncActionBarViewKeeper)) {\n                                $scope.syncActionBarViewKeeper();\n                            }\n                        };\n\n                        self.resetMultiselect = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.resetMultiselect)) {\n                                locals.resetMultiselect();\n                            }\n                        };\n\n                        self.getVisibleSelections = function (data, selected) {\n                            var i,\n                                index,\n                                result = [];\n\n                            for (i = 0; i < selected.length; i++) {\n                                index = arrayObjectIndexOf(data, selected[i]);\n                                if (index > -1) {\n                                    result.push(selected[i]);\n                                }\n                            }\n                            return result;\n                        };\n\n                        self.toggleMultiselectRows = function (visibleSelectedRows) {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.toggleMultiselectRows)) {\n                                locals.toggleMultiselectRows(visibleSelectedRows);\n                            }\n                        };\n\n                        self.syncGridHeaderScrollToTopScrollbar = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.topScrollbarScroll)) {\n                                locals.topScrollbarScroll();\n                            }\n                        };\n\n                        self.scope = $scope;\n\n                        $scope.resources = bbResources;\n\n                        locals = $scope.locals = {\n                            gridId: 'bbgrid-table-' + $scope.$id,\n                            hasAdd: false,\n                            hasColPicker: true,\n                            hasFilters: true,\n                            applySearchText: function () {\n                                /*istanbul ignore else: sanity check */\n                                if (angular.isFunction(self.applySearchText)) {\n                                    self.applySearchText();\n                                }\n                            },\n                            loadMore: function () {\n                                $scope.$emit('loadMoreRows');\n                            }\n                        };\n\n                        $scope.$watch('options.viewKeeperOffsetElId', function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                if (self.viewKeeperChangedHandler) {\n                                    self.viewKeeperChangedHandler(newValue);\n                                }\n                            }\n                        });\n                    }],\n                    link: function ($scope, element, attr) {\n                        $scope.customToolbar = {\n                            hasCustomToolbar: false\n                        };\n                        $scope.customToolbar.hasCustomToolbar = angular.isDefined(attr.bbGridCustomToolbar);\n\n                        $scope.$watch('locals.hasCustomToolbar', function () {\n                            var breakpoints = {},\n                                cellScopes,\n                                columnCount = 0,\n                                columnModel,\n                                compiledTemplates = [],\n                                currentExtendedColumnWidth,\n                                extendedColumnIndex,\n                                extendedColumnName,\n                                fullGrid,\n                                getContextMenuItems,\n                                hasTemplatedColumns,\n                                header,\n                                id,\n                                locals = $scope.locals,\n                                localRowSelect = false,\n                                needsExtendedColumnResize,\n                                originalExtendedColumnWidth,\n                                seemore_template = 'sky/templates/grids/seemore.html',\n                                dropdown_template = 'sky/templates/grids/dropdown.html',\n                                reorderingColumns,\n                                tableBody,\n                                tableEl = element.find('table'),\n                                tableDomEl = tableEl[0],\n                                tableWrapper = element.find('.table-responsive'),\n                                tableWrapperWidth,\n                                toolbarContainer = element.find('.bb-grid-toolbar-viewkeeper'),\n                                toolbarContainerId,\n                                totalColumnWidth,\n                                verticalOffSetElId,\n                                vkActionBarAndBackToTop,\n                                vkToolbars,\n                                vkHeader,\n                                windowEl = $($window),\n                                windowEventId,\n                                resizeStartColWidth,\n                                hasPristineColumns = true,\n                                scrollbarWidth;\n\n                            function getTopScrollbar() {\n                                return element.find('.bb-grid-top-scrollbar');\n                            }\n\n                            function getTopScrollbarDiv() {\n                                return element.find('.bb-grid-top-scrollbar > div');\n                            }\n\n                            function updateGridLoadedTimestampAndRowCount(count) {\n                                $scope.locals.timestamp = new Date().getTime();\n                                $scope.locals.rowcount = count;\n                            }\n\n                            function reInitGrid() {\n                                if ($scope.options && $scope.options.selectedColumnIds && $scope.options.selectedColumnIds.length > 0 && tableEl[0].grid) {\n\n                                    initGrid();\n\n                                    if ($scope.options.data && $scope.options.data.length > 0) {\n                                        setRows($scope.options.data);\n                                    }\n                                }\n                            }\n\n                            function mediaBreakpointHandler(newBreakpoints) {\n                                breakpoints = newBreakpoints;\n                                reInitGrid();\n                            }\n\n                            function buildColumnClasses(column) {\n                                var classes = '';\n\n                                //if this column does not allow search then add the appropriate class. This is used when highlighting search results\n                                if (column.exclude_from_search) {\n                                    classes += \"bb-grid-no-search \";\n                                }\n\n                                return classes;\n                            }\n\n                            function getEmptyString() {\n                                return '';\n                            }\n\n                            function buildCellAttribute(rowId, cellValue, rawObject, column) {\n                                /*jslint unparam: true*/\n                                return \"data-grid-field='\" + column.name + \"'\" + \"data-bbauto-field='\" + column.name + \"'\" + \"data-bbauto-index='\" + (tableEl.getInd(rowId) - 1) + \"'\";\n                            }\n\n                            function getColumnById(columns, id) {\n                                var column,\n                                    i;\n\n                                for (i = 0; i < columns.length; i++) {\n                                    column = columns[i];\n                                    if (column.id === id) {\n                                        return column;\n                                    }\n                                }\n                            }\n\n                            function resetExtendedColumn() {\n                                //wipe out extended column stuff\n                                extendedColumnName = null;\n                                currentExtendedColumnWidth = null;\n                                originalExtendedColumnWidth = null;\n                                extendedColumnIndex = null;\n                                needsExtendedColumnResize = false;\n                            }\n\n                            function getBreakpointsWidth(column) {\n                                var columnDefault;\n\n                                if (column.width_all > 0) {\n                                    columnDefault = column.width_all;\n                                } else {\n                                    columnDefault = DEFAULT_COLUMN_SIZE;\n                                }\n\n                                if (breakpoints.xs) {\n                                    return column.width_xs > 0 ? column.width_xs : columnDefault;\n                                } else if (breakpoints.sm) {\n                                    return column.width_sm > 0 ? column.width_sm : columnDefault;\n                                } else if (breakpoints.md) {\n                                    return column.width_md > 0 ? column.width_md : columnDefault;\n                                } else if (breakpoints.lg) {\n                                    return column.width_lg > 0 ? column.width_lg : columnDefault;\n                                }\n\n                                return columnDefault;\n                            }\n\n                            function buildColumnModel(columns, selectedColumnIds) {\n                                var colModel = [],\n                                    column,\n                                    colWidth,\n                                    index,\n                                    gridColumn;\n\n                                hasTemplatedColumns = false;\n\n                                if (getContextMenuItems) {\n                                    colModel.push({\n                                        classes: 'bb-grid-dropdown-cell',\n                                        fixed: true,\n                                        sortable: false,\n                                        name: DROPDOWN_TOGGLE_COLUMN_NAME,\n                                        label: ' ',\n                                        width: DROPDOWN_TOGGLE_COLUMN_SIZE,\n                                        title: false,\n                                        hidedlg: true,\n                                        resizable: false,\n                                        search: false,\n                                        template_url: dropdown_template,\n                                        controller: 'bbGridContextMenuController',\n                                        cellattr: buildCellAttribute,\n                                        formatter: getEmptyString,\n                                        is_context_menu: true\n                                    });\n\n                                    /*istanbul ignore else: sanity check */\n                                    if (!compiledTemplates[dropdown_template]) {\n                                        compiledTemplates[dropdown_template] = $compile($templateCache.get(dropdown_template));\n                                    }\n\n                                    hasTemplatedColumns = true;\n\n                                    totalColumnWidth = totalColumnWidth + DROPDOWN_TOGGLE_COLUMN_SIZE;\n                                }\n\n\n                                resetExtendedColumn();\n\n                                for (index = 0; index < selectedColumnIds.length; index++) {\n                                    column = getColumnById(columns, selectedColumnIds[index]);\n\n                                    if (column) {\n\n                                        colWidth = getBreakpointsWidth(column);\n\n                                        //If this is the last selected column and the sum of the columns is shorter than the area available, extend the last column\n                                        if ((index === (selectedColumnIds.length - 1)) && (tableWrapper.width() > (colWidth + totalColumnWidth))) {\n                                            needsExtendedColumnResize = true;\n                                            originalExtendedColumnWidth = colWidth;\n                                            extendedColumnName = column.name;\n                                            extendedColumnIndex = index;\n\n                                            //If multiselect and/or contextmenu exist, then the last column index is shifted.\n                                            if (locals.multiselect) {\n                                                extendedColumnIndex =  extendedColumnIndex + 1;\n                                            }\n                                            if (getContextMenuItems) {\n                                                extendedColumnIndex = extendedColumnIndex + 1;\n                                            }\n\n                                            colWidth = tableWrapper.width() - totalColumnWidth;\n                                            currentExtendedColumnWidth = colWidth;\n                                        }\n\n                                        gridColumn = {\n                                            index: column.id.toString(),\n                                            sortable: false,\n                                            id: column.id,\n                                            name: column.name,\n                                            label: column.caption,\n                                            align: (column.right_align ? 'right' : (column.center_align ? 'center' : 'left')),\n                                            classes: buildColumnClasses(column),\n                                            cellattr: buildCellAttribute,\n                                            controller: column.controller,\n                                            template_url: column.template_url,\n                                            jsonmap: column.jsonmap,\n                                            allow_see_more: column.allow_see_more,\n                                            width: colWidth\n                                        };\n\n                                        if (column.allow_see_more && !gridColumn.template_url) {\n                                            gridColumn.template_url = seemore_template;\n\n                                            if (!compiledTemplates[seemore_template]) {\n                                                compiledTemplates[seemore_template] = $compile($templateCache.get(seemore_template));\n                                            }\n                                        }\n\n                                        if (gridColumn.template_url) {\n                                            //Setup a formatter to return an empty string until the\n                                            //angular template is processed for the cell.\n                                            gridColumn.formatter = getEmptyString;\n                                            hasTemplatedColumns = true;\n                                        } else if (column.colFormatter) {\n                                            gridColumn.formatter = column.colFormatter;\n                                        }\n\n                                        colModel.push(gridColumn);\n\n                                        totalColumnWidth = totalColumnWidth + colWidth;\n                                    }\n                                }\n\n                                return colModel;\n                            }\n\n                            function getColumnElementIdFromName(columnName) {\n                                return locals.gridId + \"_\" + columnName;\n                            }\n\n                            function getColumnNameFromElementId(columnName) {\n                                /*istanbul ignore else: sanity check */\n                                if (columnName) {\n                                    return columnName.replace(locals.gridId + \"_\", \"\");\n                                }\n                            }\n\n                            function getDesiredGridWidth() {\n                                var width = tableWrapper.width();\n\n                                if (width < totalColumnWidth) {\n                                    width = totalColumnWidth;\n                                    tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n                                } else {\n                                    tableWrapper.addClass('bb-grid-table-wrapper');\n                                }\n\n                                return width;\n                            }\n\n                            function setScrollbarHeight() {\n                                var topScrollbar = getTopScrollbar(),\n                                    topScrollbarDiv = getTopScrollbarDiv();\n\n                                if (totalColumnWidth > (topScrollbar.width()) && !breakpoints.xs) {\n                                    topScrollbar.height(scrollbarWidth);\n                                    topScrollbarDiv.height(scrollbarWidth);\n                                } else {\n                                    topScrollbar.height(0);\n                                    topScrollbarDiv.height(0);\n                                }\n                            }\n\n                            function resetTopScrollbar() {\n                                var topScrollbarDiv = getTopScrollbarDiv();\n                                topScrollbarDiv.width(totalColumnWidth);\n                                setScrollbarHeight();\n                            }\n\n                            function setColumnSize(columnName, columnSize, totalWidth) {\n\n                                /* jqGrid does not provide a function to change a single column column size.\n                                   This code snippet mirrors how jqGrid changes column size in their own dragEnd\n                                   function.\n                                */\n                                tableEl[0].p.colModel[extendedColumnIndex].width = columnSize;\n                                tableEl[0].grid.headers[extendedColumnIndex].width = columnSize;\n                                tableEl[0].grid.headers[extendedColumnIndex].el.style.width = columnSize + 'px';\n                                tableEl[0].grid.cols[extendedColumnIndex].style.width = columnSize + 'px';\n                                tableEl[0].p.tblwidth = totalWidth || tableEl[0].p.tblwidth;\n                                $('table:first', tableEl[0].bDiv).css(\"width\", tableEl[0].p.tblwidth + 'px');\n                                $('table:first', tableEl[0].hDiv).css(\"width\", tableEl[0].p.tblwidth + 'px');\n                                tableEl[0].grid.hDiv.scrollLeft = tableEl[0].grid.bDiv.scrollLeft;\n                            }\n\n                            function resizeExtendedColumn(changedWidth, isIncreasing) {\n                                var extendedShrinkWidth = currentExtendedColumnWidth - originalExtendedColumnWidth;\n\n                                //If the extended portion of the last column is less than the amount resized\n                                if (extendedShrinkWidth <= changedWidth) {\n                                    //decrease extended column to original size\n\n\n                                    //increase grid width by remainder and wipe out all the extended stuff\n                                    if (isIncreasing) {\n                                        totalColumnWidth = totalColumnWidth + (changedWidth - extendedShrinkWidth);\n                                    } else {\n                                        totalColumnWidth = totalColumnWidth - extendedShrinkWidth;\n                                    }\n                                    setColumnSize(extendedColumnName, originalExtendedColumnWidth, totalColumnWidth);\n\n                                    tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n                                    resetExtendedColumn();\n\n                                } else {\n                                    //decrease extended column width by changedWidth\n                                    currentExtendedColumnWidth = currentExtendedColumnWidth - changedWidth;\n\n\n                                    if (!isIncreasing) {\n                                        totalColumnWidth = totalColumnWidth - changedWidth;\n                                    }\n                                    setColumnSize(extendedColumnName, currentExtendedColumnWidth, totalColumnWidth);\n\n                                }\n                                tableEl.setGridWidth(totalColumnWidth, false);\n                                resetTopScrollbar();\n                            }\n\n                            function resetGridWidth(oldWidth, newWidth) {\n                                var changedWidth,\n                                    topScrollbar = getTopScrollbar(),\n                                    width;\n\n                                topScrollbar.width(tableWrapper.width());\n                                if (needsExtendedColumnResize && newWidth < oldWidth) {\n                                    changedWidth = oldWidth - newWidth;\n                                    resizeExtendedColumn(changedWidth, false);\n                                } else {\n                                    if (totalColumnWidth === oldWidth) {\n                                        totalColumnWidth = newWidth;\n                                    }\n\n                                    width = getDesiredGridWidth();\n\n                                    /*istanbul ignore else: sanity check */\n                                    if (width > 0) {\n                                        tableEl.setGridWidth(width);\n                                        resetTopScrollbar();\n                                    }\n                                }\n                            }\n\n                            function getLastIndex() {\n                                var lastIndex = $scope.options.selectedColumnIds.length - 1;\n\n                                if (locals.multiselect) {\n                                    lastIndex = lastIndex + 1;\n                                }\n                                if (getContextMenuItems) {\n                                    lastIndex = lastIndex + 1;\n                                }\n\n                                return lastIndex;\n                            }\n\n                            function resizeStart(event, index) {\n                                var lastIndex = getLastIndex(),\n                                    jqGridEl,\n                                    thEls;\n\n                                hasPristineColumns = false;\n\n                                jqGridEl = element.find('.ui-jqgrid');\n\n                                //if resizing last element and tableEl smaller than table wrapper\n\n                                if (index === lastIndex && tableWrapperWidth > jqGridEl.width()) {\n                                    //increase width of child of table-responsive\n                                    jqGridEl.width(tableWrapperWidth);\n                                    //increase width of hdiv\n                                    element.find('.ui-jqgrid-hdiv').width(tableWrapperWidth);\n                                    //make padding right on tr of headers\n                                    element.find('.ui-jqgrid-hdiv tr').css('padding-right', tableWrapperWidth.toString() + 'px');\n                                }\n\n                                fullGrid.find('.ui-jqgrid-resize-mark').height(fullGrid.height());\n                                thEls = element.find('.ui-jqgrid .ui-jqgrid-hdiv .ui-jqgrid-htable th');\n                                resizeStartColWidth = parseInt(thEls[index].style.width);\n\n                            }\n\n                            function syncHeaderToTableWrapper() {\n                                if (vkHeader && vkHeader.isFixed) {\n                                    header.width(tableWrapper.width());\n                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                }\n                            }\n\n                            function resizeStop(newWidth, index) {\n                                var changedWidth;\n\n                                tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n\n                                changedWidth = newWidth - resizeStartColWidth;\n\n                                //If your last column was extended and this is the first resize\n                                if (needsExtendedColumnResize) {\n                                    //If the column you're resizing is not the extended column and you're increasing the size\n                                    if (index !== extendedColumnIndex && changedWidth > 0) {\n\n                                        resizeExtendedColumn(changedWidth, true);\n\n                                        resetExtendedColumn();\n                                        syncHeaderToTableWrapper();\n\n                                        return;\n                                    }\n                                    resetExtendedColumn();\n                                }\n\n                                totalColumnWidth = totalColumnWidth + changedWidth;\n                                tableEl.setGridWidth(totalColumnWidth, false);\n                                resetTopScrollbar();\n                                syncHeaderToTableWrapper();\n\n                                return;\n                            }\n\n                            function setSortStyles() {\n                                var className,\n                                    headerElId,\n                                    sortOptions;\n                                /*istanbul ignore else: sanity check */\n                                if (header) {\n                                    header.find('th').removeClass('sorting-asc').removeClass('sorting-desc');\n                                    /* istanbul ignore else: sanity check */\n                                    if ($scope.options) {\n                                        sortOptions = $scope.options.sortOptions;\n                                        if (sortOptions && sortOptions.column) {\n                                            headerElId = getColumnElementIdFromName(sortOptions.column);\n\n                                            if (sortOptions.descending) {\n                                                className = 'sorting-desc';\n                                            } else {\n                                                className = 'sorting-asc';\n                                            }\n\n                                            header.find('#' + headerElId).addClass(className);\n                                        }\n                                    }\n                                }\n                            }\n\n                            function columnIsSortable(columnName) {\n                                var excludedColumns,\n                                    sortOptions = $scope.options.sortOptions;\n\n                                if (columnName === DROPDOWN_TOGGLE_COLUMN_NAME || columnName === MULTISELECT_COLUMN_NAME) {\n                                    return false;\n                                }\n\n\n                                /*istanbul ignore else: sanity check */\n                                if (sortOptions) {\n                                    excludedColumns = sortOptions.excludedColumns;\n                                    if (excludedColumns) {\n                                        if (excludedColumns.indexOf(columnName) > -1) {\n                                            return false;\n                                        }\n                                    }\n                                }\n                                return true;\n                            }\n\n                            function highlightSearchText() {\n                                var options = $scope.options;\n                                if (options && options.searchText) {\n                                    bbHighlight(tableEl.find(\"td\").not('.bb-grid-no-search'), options.searchText, 'highlight');\n                                } else {\n                                    bbHighlight.clear(tableEl);\n                                }\n                            }\n\n                            function linkCellValue(scope, cell, linkFunction) {\n                                linkFunction(scope, function (cloned) {\n                                    cell.append(cloned);\n                                });\n                            }\n\n                            function afterInsertRow(rowid, rowdata, rowelem) {\n                                /*jshint validthis: true */\n                                var cell,\n                                    column,\n                                    columnData,\n                                    i,\n                                    itemScope,\n                                    row,\n                                    rowIndex;\n\n                                if (hasTemplatedColumns) {\n\n                                    if (!tableBody) {\n                                        tableBody = $(this);\n                                    }\n\n                                    row = tableBody.find('#' + rowid);\n\n                                    for (i = 0; i < columnModel.length; i++) {\n                                        column = columnModel[i];\n\n                                        if (column.template_url) {\n\n                                            cell = row.find('[data-grid-field=\"' + column.name + '\"]');\n                                            columnData = rowdata[column.name];\n\n                                            //Create a new scope and apply the cell object's properties to it.\n                                            itemScope = $scope.$new(true);\n\n                                            itemScope.data = columnData;\n                                            itemScope.rowData = rowelem;\n\n                                            if (column.allow_see_more) {\n                                                itemScope.skyResources = $scope.resources;\n                                            }\n\n                                            if (column.is_context_menu) {\n                                                itemScope.getContextMenuItems = getContextMenuItems;\n                                            }\n\n                                            //make the resources from the caller available to the column templates\n                                            if ($scope.options.resources) {\n                                                itemScope.resources = $scope.options.resources;\n                                            }\n\n                                            if (column.controller) {\n                                                $controller(column.controller, {\n                                                    $scope: itemScope\n                                                });\n                                            }\n\n                                            cellScopes.push(itemScope); //Stash scope for cleanup later.\n\n                                            linkCellValue(itemScope, cell, compiledTemplates[column.template_url]);\n                                        }\n                                    }\n                                }\n\n                                rowIndex = tableEl.getInd(rowid);\n\n                                //check if row should be multiselected\n                                if ($scope.selectedRows && $scope.selectedRows.length > 0) {\n\n                                    row = $scope.options.data[(rowIndex - 1)];\n                                    if (row && arrayObjectIndexOf($scope.selectedRows, row) > -1) {\n                                        tableEl.setSelection(rowid, false);\n                                    }\n                                }\n                            }\n\n                            function setColumnHeaderAlignment() {\n                                var alignmentClass,\n                                    column,\n                                    i;\n\n                                for (i = 0; i < columnModel.length; i++) {\n                                    column = columnModel[i];\n                                    if (column.align === 'center') {\n                                        alignmentClass = 'bb-grid-th-center';\n                                    } else if (column.align === 'right') {\n                                        alignmentClass = 'bb-grid-th-right';\n                                    } else {\n                                        alignmentClass = 'bb-grid-th-left';\n                                    }\n\n                                    tableEl.setLabel(column.name, '', alignmentClass);\n\n                                }\n                            }\n\n                            function gridComplete() {\n                                setColumnHeaderAlignment();\n                            }\n\n                            function gridColumnsReordered(orderedColumns) {\n                                var i,\n                                    offset = 0,\n                                    oldIndex,\n                                    selectedColumnIds = $scope.options.selectedColumnIds,\n                                    newSelectedColumnIds = [];\n\n                                resetExtendedColumn();\n\n                                //Need to account for context menu if it exists.  It will always be the first\n                                //column before and after the reorder\n                                if (angular.isFunction(getContextMenuItems)) {\n                                    offset += 1;\n                                }\n\n                                if (locals.multiselect) {\n                                    offset += 1;\n                                }\n\n                                for (i = offset; i < orderedColumns.length; i++) {\n                                    oldIndex = orderedColumns[i];\n                                    newSelectedColumnIds.push(selectedColumnIds[oldIndex - offset]);\n                                }\n\n                                reorderingColumns = true;\n                                $scope.options.selectedColumnIds = newSelectedColumnIds;\n                                $scope.$apply();\n                            }\n\n                            function getSortable() {\n                                var sortable = {\n                                    update: gridColumnsReordered\n                                };\n\n                                if (getContextMenuItems) {\n                                    sortable.exclude = \"#\" + $scope.locals.gridId + \"_\" + DROPDOWN_TOGGLE_COLUMN_NAME;\n                                }\n\n                                return sortable;\n                            }\n\n                            function clearSelectedRowsObject() {\n                                $scope.selectedRows = [];\n                            }\n\n\n                            function resetMultiselect() {\n                                clearSelectedRowsObject();\n                                tableEl.resetSelection();\n                            }\n\n\n\n                            function onSelectAll(rowIds, status) {\n                                /*jslint unparam: true */\n                                var allRowData;\n\n                                localRowSelect = true;\n\n                                clearSelectedRowsObject();\n\n                                if (status === true) {\n                                    allRowData = $scope.options.data;\n                                    if (allRowData && allRowData.length > 0) {\n                                        $scope.selectedRows = allRowData.slice();\n                                    }\n                                }\n                                $scope.$apply();\n                            }\n\n\n                            function toggleMultiselectRows(visibleSelectedRows) {\n                                var i,\n                                    index,\n                                    rowIds;\n\n                                rowIds = tableEl.getDataIDs();\n\n                                for (i = 0; i < visibleSelectedRows.length; i++) {\n                                    index = arrayObjectIndexOf($scope.options.data, visibleSelectedRows[i]);\n                                    tableEl.setSelection(rowIds[index], true);\n                                }\n                            }\n\n\n                            function onSelectRow(rowId, status) {\n                                $timeout(function () {\n                                    var index,\n                                        rowIndex = tableEl.getInd(rowId),\n                                        row;\n                                    row = $scope.options.data[(rowIndex - 1)];\n\n                                    localRowSelect = true;\n\n                                    index = arrayObjectIndexOf($scope.selectedRows, row);\n\n                                    if (status === true && index === -1 && row) {\n                                        $scope.selectedRows.push(row);\n                                    } else if (status === false && index > -1) {\n                                        $scope.selectedRows.splice(index, 1);\n                                    }\n                                });\n                            }\n\n                            function setMultiselectRow(rowId, rowIndex) {\n                                var row;\n\n                                tableEl.setSelection(rowId, false);\n                                row  = $scope.options.data[(rowIndex - 1)];\n                                $scope.selectedRows.push(row);\n                            }\n\n                            function beforeSelectRow(rowId, e) {\n                                var endIndex,\n                                    i,\n                                    lastSelectedRow,\n                                    rowIds,\n                                    startIndex = parseInt(tableEl.getInd(rowId));\n\n                                localRowSelect = true;\n\n                                if (e.shiftKey) {\n                                    lastSelectedRow = tableEl.getInd(tableEl.getGridParam('selrow'));\n                                    resetMultiselect();\n\n                                    //if lastSelectedRow is undefined or null, set to 1\n                                    if (angular.isUndefined(lastSelectedRow) || lastSelectedRow === null) {\n                                        lastSelectedRow = 1;\n                                    }\n\n                                    endIndex = parseInt(lastSelectedRow);\n\n                                    rowIds = tableEl.getDataIDs();\n\n                                    //set shift click selection first so last selected row is set properly\n                                    if (endIndex < startIndex) {\n                                        for (i = startIndex; i >  endIndex - 1; i = i - 1) {\n                                            setMultiselectRow(rowIds[(i - 1)], i);\n                                        }\n                                    } else if (endIndex > startIndex) {\n                                        for (i = startIndex; i <  endIndex + 1; i = i + 1) {\n                                            setMultiselectRow(rowIds[(i - 1)], i);\n                                        }\n                                    } else {\n                                        $scope.$apply();\n                                        return true;\n                                    }\n\n                                    $scope.$apply();\n                                    return false;\n                                }\n                                return true;\n                            }\n\n                            function pageChanged() {\n                                var skip = ($scope.locals.currentPage - 1) * $scope.paginationOptions.itemsPerPage,\n                                    top = $scope.paginationOptions.itemsPerPage;\n\n                                $scope.$emit('loadMoreRows', {top: top, skip: skip});\n\n                            }\n\n                            function initializePagination() {\n                                if (angular.isDefined($scope.paginationOptions)) {\n\n                                    if (!$scope.paginationOptions.itemsPerPage) {\n                                        $scope.paginationOptions.itemsPerPage = DEFAULT_ITEMS_PER_PAGE;\n                                    }\n\n                                    if (!$scope.paginationOptions.maxPages) {\n                                        $scope.paginationOptions.maxPages = DEFAULT_MAX_PAGES;\n                                    }\n\n                                    $scope.paginationOptions.pageChanged = pageChanged;\n\n                                    $scope.locals.currentPage = 1;\n                                }\n                            }\n\n                            function fancyCheckOff() {\n                                element.find('td .bb-check-checkbox').off();\n                            }\n\n                            function wrapCheckboxEl(checkboxEl) {\n                                checkboxEl.wrap('<label class=\"bb-check-wrapper\"></label>');\n                                checkboxEl.after('<span class=\"bb-check-checkbox\"></span>');\n                            }\n\n                            function setUpFancyCheckHeader() {\n                                var headerCheckEl =  header.find('th .cbox');\n                                wrapCheckboxEl(headerCheckEl);\n                            }\n\n                            function setUpFancyCheckCell() {\n                                var checkCellEl = element.find('td .cbox');\n                                wrapCheckboxEl(checkCellEl);\n                                element.find('td .bb-check-checkbox').on('click', function (event) {\n                                    event.preventDefault();\n                                });\n                            }\n\n                            function getIdPrefix() {\n                                return 'bb-grid-row-' + $scope.$id + '-';\n                            }\n\n                            function initGrid() {\n                                var columns,\n                                    jqGridOptions,\n                                    selectedColumnIds,\n                                    useGridView = true,\n                                    hoverrows = false;\n\n                                totalColumnWidth = 0;\n\n                                hasPristineColumns = true;\n\n                                tableWrapperWidth = tableWrapper.width();\n\n                                locals.multiselect = false;\n\n                                //Clear reference to the table body since it will be recreated.\n                                tableBody = null;\n\n                                //Unload grid if it already exists.\n                                tableEl.jqGrid('GridUnload');\n                                fancyCheckOff();\n\n                                tableEl = element.find('table');\n                                tableDomEl = tableEl[0];\n\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n\n                                    columns = $scope.options.columns;\n                                    selectedColumnIds = $scope.options.selectedColumnIds;\n                                    getContextMenuItems = $scope.options.getContextMenuItems;\n\n                                    if ($scope.options.multiselect) {\n                                        locals.multiselect = true;\n                                        hoverrows = true;\n\n                                        totalColumnWidth = totalColumnWidth + MULTISELECT_COLUMN_SIZE;\n                                    }\n                                    $scope.searchText = $scope.options.searchText;\n                                }\n\n                                // Allow grid styles to be changed when grid is in multiselect mode (such as the\n                                // header checkbox alignment).\n                                element[locals.multiselect ? 'addClass' : 'removeClass']('bb-grid-multiselect');\n\n\n                                if (getContextMenuItems) {\n                                    useGridView = false;\n                                }\n\n                                if (columns && selectedColumnIds) {\n\n\n                                    columnModel = buildColumnModel(columns, selectedColumnIds);\n                                    columnCount = columnModel.length;\n\n                                    jqGridOptions = {\n                                        afterInsertRow: afterInsertRow,\n                                        autoencode: true,\n                                        beforeSelectRow: beforeSelectRow,\n                                        colModel: columnModel,\n                                        datatype: angular.noop,\n                                        gridComplete: gridComplete,\n                                        gridView: useGridView,\n                                        height: 'auto',\n                                        hoverrows: hoverrows,\n                                        idPrefix: getIdPrefix(),\n                                        multiselect: locals.multiselect,\n                                        multiselectWidth: MULTISELECT_COLUMN_SIZE,\n                                        onSelectAll: onSelectAll,\n                                        onSelectRow: onSelectRow,\n                                        resizeStart: resizeStart,\n                                        resizeStop: resizeStop,\n                                        rowNum: -1,\n                                        shrinktofit: false,\n                                        sortable: getSortable(),\n                                        width: getDesiredGridWidth()\n                                    };\n\n\n                                    tableEl.jqGrid(jqGridOptions);\n\n                                    header = $(tableDomEl.grid.hDiv);\n\n                                    //Attach click handler for sorting columns\n                                    header.find('th').on('click', function () {\n                                        var sortOptions = $scope.options.sortOptions,\n                                            columnName;\n\n                                        if (!sortOptions) {\n                                            sortOptions = $scope.options.sortOptions = {};\n                                        }\n\n                                        columnName = getColumnNameFromElementId(this.id);\n\n                                        if (columnIsSortable(columnName)) {\n                                            sortOptions.column = columnName;\n                                            sortOptions.descending = $(this).hasClass('sorting-asc');\n                                            $scope.$apply();\n                                        }\n                                    });\n\n                                    fullGrid = header.parents('.ui-jqgrid:first');\n\n                                    if (vkHeader) {\n                                        vkHeader.destroy();\n                                    }\n\n                                    $scope.locals.showToolbar = true;\n\n                                    getTopScrollbar().width(tableWrapper.width());\n                                    resetTopScrollbar();\n\n                                    if (!$scope.options.fixedToolbar) {\n                                        vkHeader = new bbViewKeeperBuilder.create({\n                                            el: header[0],\n                                            boundaryEl: tableWrapper[0],\n                                            verticalOffSetElId: toolbarContainerId,\n                                            setWidth: true,\n                                            onStateChanged: function () {\n                                                if (vkHeader.isFixed) {\n                                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                                } else {\n                                                    header.scrollLeft(0);\n                                                }\n\n                                            }\n                                        });\n                                    }\n\n                                    setSortStyles();\n\n                                    setUpFancyCheckHeader();\n\n                                    $scope.gridCreated = true;\n\n                                }\n\n                            }\n\n                            function destroyCellScopes() {\n                                var i;\n                                if (cellScopes) {\n                                    for (i = 0; i < cellScopes.length; i++) {\n                                        cellScopes[i].$destroy();\n                                    }\n                                }\n                                cellScopes = [];\n                            }\n\n                            function loadColumnTemplates(callback) {\n                                var columns,\n                                    templateUrlsToLoad = {};\n\n                                //Identify any template URLs that haven't been compiled\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n                                    columns = $scope.options.columns;\n                                    /*istanbul ignore else: sanity check */\n                                    if (columns) {\n                                        angular.forEach(columns, function (column) {\n                                            var templateUrl = column.template_url;\n\n                                            if (templateUrl && !compiledTemplates[templateUrl]) {\n                                                templateUrlsToLoad[templateUrl] = templateUrl;\n                                            }\n                                        });\n                                    }\n                                }\n\n                                //Load template URLs that need compiling\n                                bbData.load({\n                                    text: templateUrlsToLoad\n                                }).then(function (result) {\n                                    var p,\n                                        template;\n\n                                    // Compile templates and store them for use when adding rows.\n                                    for (p in result.text) {\n                                        /*istanbul ignore else: sanity check */\n                                        if (result.text.hasOwnProperty(p)) {\n                                            template = result.text[p];\n\n                                            /*istanbul ignore else: sanity check */\n                                            if (template) {\n                                                compiledTemplates[p] = $compile(template);\n                                            }\n                                        }\n                                    }\n\n                                    callback();\n                                });\n                            }\n\n                            function handleTableWrapperResize() {\n                                var newWidth = tableWrapper.width(),\n                                    topScrollbar = getTopScrollbar();\n\n                                if (tableWrapperWidth && tableWrapperWidth !== newWidth) {\n                                    if (hasPristineColumns) {\n                                        resetGridWidth(tableWrapperWidth, newWidth);\n                                    } else {\n                                        topScrollbar.width(newWidth);\n                                    }\n                                    tableWrapperWidth = newWidth;\n                                } else {\n                                    tableWrapperWidth = newWidth;\n                                }\n                            }\n\n                            function setRows(rows) {\n                                /*istanbul ignore else: sanity check */\n                                if (tableDomEl.addJSONData) {\n                                    loadColumnTemplates(function () {\n\n                                        if (locals.multiselect) {\n                                            element.find('td').off('mousedown.gridmousedown');\n                                        }\n\n                                        tableEl.resetSelection();\n\n                                        fancyCheckOff();\n\n                                        destroyCellScopes();\n                                        tableDomEl.addJSONData(rows);\n                                        $timeout(highlightSearchText);\n                                        handleTableWrapperResize();\n                                        /*istanbul ignore next: sanity check */\n                                        updateGridLoadedTimestampAndRowCount(rows ? rows.length : 0);\n\n                                        setUpFancyCheckCell();\n\n                                    });\n                                }\n                            }\n\n                            function setupToolbarViewKeepers() {\n                                if (vkToolbars) {\n                                    vkToolbars.destroy();\n                                }\n\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n                                    verticalOffSetElId = $scope.options.viewKeeperOffsetElId;\n                                }\n\n                                if (!$scope.options || !$scope.options.fixedToolbar) {\n                                    vkToolbars = new bbViewKeeperBuilder.create({\n                                        el: toolbarContainer[0],\n                                        boundaryEl: tableWrapper[0],\n                                        setWidth: true,\n                                        verticalOffSetElId: verticalOffSetElId,\n                                        onStateChanged: function () {\n                                            $timeout(function () {\n                                                locals.isScrolled = vkToolbars.isFixed;\n                                            });\n                                        }\n                                    });\n                                }\n\n\n                                vkActionBarAndBackToTop = new bbViewKeeperBuilder.create({\n                                    el: element.find('.bb-grid-action-bar-and-back-to-top')[0],\n                                    boundaryEl: element[0],\n                                    setWidth: true,\n                                    verticalOffSetElId: verticalOffSetElId,\n                                    fixToBottom: true\n                                });\n                            }\n\n                            function backToTop() {\n                                vkToolbars.scrollToTop();\n                            }\n\n                            locals.resetMultiselect = resetMultiselect;\n\n                            locals.toggleMultiselectRows = toggleMultiselectRows;\n\n                            locals.setFilters = function (filters) {\n                                $scope.options.filters = filters;\n                                $scope.locals.applySearchText();\n                            };\n\n                            if (angular.isUndefined($scope.selectedRows) || !angular.isArray($scope.selectedRows)) {\n                                $scope.selectedRows = [];\n                            }\n\n                            scrollbarWidth = bbWindow.getScrollbarWidth();\n\n                            id = $scope.$id;\n                            toolbarContainerId = id + '-toolbar-container';\n\n                            locals.backToTop = backToTop;\n\n                            //Apply unique id to the table.  ID is required by jqGrid.\n                            toolbarContainer.attr('id', toolbarContainerId);\n\n                            $scope.$watch('options.selectedColumnIds', function (newValue) {\n                                var columnChangedData;\n\n                                /*istanbul ignore else: sanity check */\n                                if (newValue) {\n                                    if (reorderingColumns) {\n                                        reorderingColumns = false;\n                                        return;\n                                    }\n\n                                    initGrid();\n\n                                    // re-evaluated so the grid won't automatically be reloaded with existing data.\n                                    columnChangedData = {\n                                        willResetData: false\n                                    };\n\n                                    $scope.$emit('includedColumnsChanged', columnChangedData);\n\n\n                                    if (!columnChangedData.willResetData && $scope.options.data && $scope.options.data.length > 0) {\n                                        // Data won't change as a result of the columns changing; reload existing data.\n                                        setRows($scope.options.data);\n                                    }\n                                }\n                            }, true);\n\n                            $scope.$watchCollection('selectedRows', function (newSelections) {\n                                var i,\n                                    index,\n                                    rowIds;\n\n                                if (localRowSelect) {\n                                    localRowSelect = false;\n                                    return;\n                                }\n\n                                if (tableEl[0].grid && $scope.options.data && $scope.options.data.length > 0) {\n                                    //blow away existing selections\n                                    tableEl.resetSelection();\n\n                                    rowIds = tableEl.getDataIDs();\n\n                                    for (i = 0; i < newSelections.length; i++) {\n\n                                        index = arrayObjectIndexOf($scope.options.data, newSelections[i]);\n\n                                        if (index > -1) {\n                                            tableEl.setSelection(rowIds[index], false);\n                                        }\n\n                                    }\n                                }\n\n                            });\n\n                            $scope.$watch('paginationOptions', initializePagination, true);\n\n                            $scope.$watchCollection('options.data', setRows);\n\n                            $scope.syncViewKeepers = function () {\n                                /*istanbul ignore else: sanity check */\n                                if (vkToolbars) {\n                                    vkToolbars.syncElPosition();\n                                }\n                            };\n\n                            $scope.syncActionBarViewKeeper = function () {\n                                /*istanbul ignore else: sanity check */\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.syncElPosition();\n                                }\n                            };\n\n                            $scope.$watch('options.sortOptions', setSortStyles, true);\n\n                            $scope.$watchGroup(['options.viewKeeperOffsetElId', 'options.fixedToolbar'], function () {\n                                setupToolbarViewKeepers();\n                            });\n\n                            $scope.$watch('options.filters', function (f) {\n                                $scope.$broadcast('updateAppliedFilters', f);\n                            });\n\n                            bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                            tableWrapper.on('scroll', function () {\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkHeader) {\n                                    vkHeader.syncElPosition();\n                                }\n\n                                if (header.hasClass('bb-viewkeeper-fixed')) {\n                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                }\n\n                                getTopScrollbar().scrollLeft(tableWrapper.scrollLeft());\n                            });\n\n                            windowEventId = 'bbgrid' + id;\n\n                            windowEl.on('resize.' + windowEventId + ', orientationchange.' + windowEventId, function () {\n                                handleTableWrapperResize();\n                            });\n\n                            // Reinitialize grid when grid element resizes from 0\n                            $scope.$watch(function () {\n                                return element.width();\n                            }, function (newValue, oldValue) {\n                                if (newValue !== oldValue && oldValue === 0) {\n                                    reInitGrid();\n                                }\n                            });\n\n                            $scope.locals.topScrollbarScroll = function () {\n                                var topScrollbar = getTopScrollbar();\n                                tableWrapper.scrollLeft(topScrollbar.scrollLeft());\n                                if (header.hasClass('bb-viewkeeper-fixed')) {\n                                    header.scrollLeft(topScrollbar.scrollLeft());\n                                }\n                            };\n\n                            $scope.locals.hasWaitAndEmpty = function () {\n                                return $scope.options && $scope.options.loading && (!$scope.options.data || $scope.options.data.length < 1);\n                            };\n\n\n                            element.on('$destroy', function () {\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkToolbars) {\n                                    vkToolbars.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkHeader) {\n                                    vkHeader.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.destroy();\n                                }\n\n                                windowEl.off('resize.' + windowEventId + ', orientationchange.' + windowEventId);\n\n                                fancyCheckOff();\n\n                                bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                            });\n                        });\n                    },\n                    templateUrl: 'sky/templates/grids/grid.html'\n                };\n            }]);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n\n    function BBGridToolbar(bbResources, bbModal) {\n        return {\n            require: '?^bbGrid',\n            scope: {\n                options: '=?bbToolbarOptions'\n            },\n            transclude: true,\n            link: function ($scope, el, attr, bbGrid) {\n                var topScrollbarEl = el.find('.bb-grid-top-scrollbar');\n\n                function applySearchText() {\n                    var searchEl;\n\n                    searchEl = el.find('.bb-search-container input');\n                    /*istanbul ignore else: sanity check */\n                    if (angular.isFunction(searchEl.select) && searchEl.length > 0 && $scope.searchText) {\n                        searchEl.eq(0).select();\n                    }\n\n                    $scope.options.searchText = $scope.searchText;\n                }\n\n                function openColumnPicker() {\n                    bbModal.open({\n                        templateUrl: 'sky/templates/grids/columnpicker.html',\n                        controller: 'BBGridColumnPickerController',\n                        resolve: {\n                            columns: function () {\n                                return $scope.options.columns;\n                            },\n                            selectedColumnIds: function () {\n                                return $scope.options.selectedColumnIds;\n                            },\n                            columnPickerHelpKey: function () {\n                                return $scope.options.columnPickerHelpKey;\n                            },\n                            listMode: function () {\n                                return $scope.options.columnPickerMode;\n                            }\n                        }\n                    }).result.then(function (selectedColumnIds) {\n                        $scope.options.selectedColumnIds = selectedColumnIds;\n                    });\n                }\n\n                function toggleFilterMenu(isOpen) {\n                    if ($scope.options && $scope.options.hasInlineFilters) {\n                        if (angular.isDefined(isOpen)) {\n                            $scope.toolbarLocals.filtersVisible = isOpen;\n                        } else {\n                            $scope.toolbarLocals.filtersVisible = !$scope.toolbarLocals.filtersVisible;\n                        }\n                    /*istanbul ignore else: sanity check */\n                    } else if (bbGrid !== null && angular.isFunction(bbGrid.toggleFilterMenu)) {\n                        bbGrid.toggleFilterMenu(isOpen);\n                    }\n                }\n\n                function moveInlineFilters() {\n                    el.parents('.bb-grid-container').find('.bb-filters-inline')\n                        .appendTo(el.find('.bb-grid-filter-inline-container'));\n\n                }\n\n                $scope.toolbarLocals = {\n                    applySearchText: applySearchText,\n                    openColumnPicker: openColumnPicker,\n                    toggleFilterMenu: toggleFilterMenu\n                };\n\n                $scope.resources = bbResources;\n\n                /*istanbul ignore else: sanity check */\n                if (bbGrid !== null && angular.isUndefined($scope.options)) {\n                    $scope.$watch(function () {\n                        return bbGrid.scope.options;\n                    }, function (newValue) {\n                        $scope.options = newValue;\n                    });\n                }\n\n                //grid columns changed, initialize toolbar stuff\n                $scope.$watch('options.selectedColumnIds', function (newValue) {\n                    if (angular.isDefined(newValue)) {\n\n                        $scope.searchText = $scope.options.searchText;\n\n                        if ($scope.options.hasInlineFilters) {\n                            moveInlineFilters();\n                        }\n\n                        /*istanbul ignore else: sanity check */\n                        if (bbGrid !== null) {\n                            bbGrid.applySearchText = applySearchText;\n                        }\n\n                        if (angular.isFunction($scope.options.onAddClick)) {\n                            $scope.toolbarLocals.hasAdd = true;\n                        }\n                    }\n                }, true);\n\n                $scope.$watch('options.filtersOpen', function (newValue) {\n                    if (angular.isDefined(newValue)) {\n                        toggleFilterMenu(newValue);\n                    }\n                });\n\n                /*istanbul ignore else: sanity check */\n                if (bbGrid !== null) {\n                    topScrollbarEl.on('scroll', function () {\n                        bbGrid.syncGridHeaderScrollToTopScrollbar();\n                    });\n                }\n\n                $scope.$on('$destroy', function () {\n                    /*istanbul ignore else: sanity check */\n                    if (bbGrid !== null) {\n                        topScrollbarEl.off();\n                    }\n                });\n\n\n            },\n            templateUrl: 'sky/templates/grids/gridtoolbar.html'\n        };\n    }\n\n    BBGridToolbar.$inject = ['bbResources', 'bbModal'];\n\n    angular.module('sky.grids.toolbar', ['sky.resources', 'sky.modal', 'sky.grids.columnpicker'])\n        .directive('bbGridToolbar', BBGridToolbar);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Help\n@icon question\n@summary The help service allows Angular components to open and close the help panel programmatically.\n @description The help service allows other Angular components to open or close the help panel programmatically. When the widget opens, it interrogates the page to identify the current help topic and display the relevant help content. Settings for this service are controlled with the `bbHelpConfig` object.\n\n ### Dependencies ###\n\n - **[easyXDM](http://easyxdm.net/wp/) (2.4.19 or higher)** Used to make cross-domain requests to the help server\n\n---\n\n### bbHelp Methods ###\n\n- `init()` Adds a global help button to the top-right corner of the page.  The appropriate `bbHelpConfig` options should be supplied before calling `init()`.\n- `open()` Opens help using the specified help key.  If `init()` has not yet been called then the global add button will be added to the page before opening the help topic.\n- `close()` Closes the current help topic.\n\n### bbHelpConfig Settings ###\n\n - `caseCentral` Optional. Can customize the Case Central URL if needed, or set to empty string to remove this link.\n - `clientId` Optional. Used to pass the client / site id to the chat session.\n - `communityUrl` Optional. Can be provided in order for a link to Community to appear.\n - `customLocales` Optional.  An array of additional locales for which the product has help content other than the default help content locale.  This array should contain strings like 'en-gb' or 'fr'.\n - `getChatData` Optional. Function that returns the appropriate chat key and website id to use for the product based on the user's locale. e.g.\n   ```\n   getChatData: function(userLocale) {\n            if (locale === 'en-gb') {\n                return {\n                    key: '3674699029499270000',\n                    websiteId: ' 3506212574036402816'\n                };\n            }\n            return {\n                key: ' 171147028994005462',\n                websiteId: '2766361919244160000'\n            };\n        }\n    ```\n - `getCurrentHelpKey` A function that returns the page's current help URL. This way, if a user navigates around your app, at any point clicking the help panel can call this to determine the appropriate help file to show. e.g. `function() { return 'myHelpFile.html'}`\n - `helpBaseUrl` Optional. Provide the base URL to your help files. If omitted, the productId will be inserted into the URL https://www.blackbaud.com/files/support/helpfiles/{ProductId}/content/ to construct the base URL.  This parameter override is available if help content must exist at some other path instead.\n - `knowledgebaseUrl` Optional. Can customize the knowledgebase URL if needed, or set to empty string to remove this link.\n - `onHelpLoaded` Optional. An callback function after the help panel is loaded.\n - `productId` The current product identifier used to build the URL to the product's help content.\n - `url` The URL to the Help Widget that will be included.\n - `userData` Optional. Object used to pass information about the current user to the chat session. e.g `{ emailAddress: '', firstName: '', lastName: ''}`\n\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.help', ['ui.router'])\n        .constant('bbHelpConfig', {\n            onHelpLoaded: null,\n            productId: 'Sky',\n            customLocales: [],\n            url: null\n        })\n        .factory('bbHelp', ['$q', '$state', '$window', 'bbHelpConfig', function ($q, $state, $window, bbHelpConfig) {\n            var initPromise;\n\n            function helpwidgetLoaded() {\n                return !!($window.BBHELP && $window.BBHELP.HelpWidget);\n            }\n\n            function init() {\n                var configOnHelpLoaded,\n                    deferred;\n\n                if (!initPromise) {\n                    deferred = $q.defer();\n                    initPromise = deferred.promise;\n\n                    if (helpwidgetLoaded()) {\n                        deferred.resolve();\n                    } else if (bbHelpConfig.url) {\n                        jQuery.ajax({\n                            cache: true,\n                            dataType: 'script',\n                            url: bbHelpConfig.url\n                        }).done(function () {\n                            var config = angular.extend({}, bbHelpConfig);\n\n                            if (!config.getCurrentHelpKey) {\n                                config.getCurrentHelpKey = function () {\n                                    // $state.current.helpKeyOverride outranks $state.current.pageData.helpKey\n                                    if ($state.current.helpKeyOverride) {\n                                        return $state.current.helpKeyOverride;\n                                    }\n\n                                    if ($state.current.pageData) {\n                                        return $state.current.pageData.helpKey;\n                                    }\n                                    return null;\n                                };\n                            }\n\n                            configOnHelpLoaded = config.onHelpLoaded;\n\n                            config.onHelpLoaded = function () {\n                                if (angular.isFunction(configOnHelpLoaded)) {\n                                    configOnHelpLoaded.apply(this, arguments);\n                                }\n\n                                deferred.resolve();\n                            };\n\n                            $window.BBHELP.HelpWidget.load(config);\n                        });\n                    } else {\n                        initPromise = null;\n                        throw new Error('bbHelpConfig.url is not defined.');\n                    }\n                }\n\n                return initPromise;\n            }\n\n            function open() {\n                var args = arguments;\n\n                init().then(function () {\n                    $window.BBHELP.HelpWidget.open.apply($window.BBHELP.HelpWidget, args);\n                });\n            }\n\n            function close() {\n                if (helpwidgetLoaded()) {\n                    $window.BBHELP.HelpWidget.close.apply($window.BBHELP.HelpWidget, arguments);\n                }\n            }\n\n            return {\n                init: init,\n                open: open,\n                close: close\n            };\n        }]);\n\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Help Button\n@icon question-circle\n@summary The help button creates a help icon to launch a help key that is different than the default help based on page context.\n @description The help button directive creates a help icon that can be clicked to launch a specific help key that is different than the default help based on page context. Optionally, it can override the page help context throughout the duration that the help button exists on the page.\n\n### Help Button Settings ###\n\n - `bb-help-key` Specifies the help key that will be opened when the help button is clicked.\n - `bb-set-help-key-override` *(Default: `false`)* If `true`, then this button will override the current page help context, so clicking on the help ear will open to this help key while this button exists.\n\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.helpbutton', ['sky.help'])\n        .directive('bbHelpButton', ['$state', '$window', 'bbHelp', function ($state, $window, bbHelp) {\n            /// <summary>\n            /// This directive provides a button that launches the Blackbaud Help Widget.\n            /// The bbHelpKey attribute sets the help key. The widget will show the given key's corresponding help page\n            /// The bbSetHelpKeyOverride attribute, when set to \"true\", makes this directive's help key override the current page help key.\n            ///     The help key override will be removed when the directive is removed from the page.\n            /// </summary>\n\n            function link(scope, el, attrs) {\n                /*jslint unparam: true */\n                var oldHelpKeyOverride;\n\n                el.addClass('bb-helpbutton fa fa-question-circle close');\n\n                if (attrs.bbSetHelpKeyOverride && attrs.bbSetHelpKeyOverride.toLowerCase() === 'true') {\n                    oldHelpKeyOverride = $state.current.helpKeyOverride;\n                    $state.current.helpKeyOverride = attrs.bbHelpKey;\n\n                    el.on(\"remove\", function () {\n                        $state.current.helpKeyOverride = oldHelpKeyOverride;\n                    });\n                }\n\n                el.click(function () {\n                    bbHelp.open(attrs.bbHelpKey);\n                });\n            }\n\n            return {\n                link: link\n            };\n        }]);\n\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Highlight\n@icon paint-brush\n@summary The highlight component highlights portions of text inside DOM elements.\n @description The highlight directive allows you to highlight portions of text inside DOM elements. Set the `bb-highlight` attribute to the text you want to highlight, and all matching text within the element will be highlighted.\n\n### Highlight Options ###\n\n- `bb-highlight-beacon` A property on your scope that will cause highlighting to occur when its value changes. This is needed when the highlight directive can't tell that the contents of the element to be highlighted has changed. For instance, if the element with the `bb-highlight` attribute also has the `ng-bind` attribute, the highlight directive can detect this and update highlighting whenever this value changes. However if you use a different directive to update the element's contents or the `bb-highlight` attribute is specified on a parent element of the element to be highlighted, you will need to use `bb-highlight-beacon` to notify the highlight directive to update the highlighted text.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.highlight', [])\n        .factory('bbHighlight', function () {\n            var DATA_CLASS_NAME = 'bb-hightlight-class',\n                DEFAULT_CLASS_NAME = 'highlight';\n\n            // Copied and modified from here so we don't have yet another jQuery plugin dependency.\n            // http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html\n            function highlight(el, pat, classn) {\n                function innerHighlight(node, pat) {\n                    var pos,\n                        skip = 0,\n                        spannode,\n                        middlebit,\n                        i,\n                        middleclone;\n\n                    classn = classn || DEFAULT_CLASS_NAME;\n\n                    el.data(DATA_CLASS_NAME, classn);\n\n                    if (node.nodeType === 3) {\n                        pos = node.data.toUpperCase().indexOf(pat);\n                        if (pos >= 0) {\n                            spannode = document.createElement('span');\n                            spannode.className = String(classn);\n                            middlebit = node.splitText(pos);\n                            middlebit.splitText(pat.length);\n                            middleclone = middlebit.cloneNode(true);\n                            spannode.appendChild(middleclone);\n                            middlebit.parentNode.replaceChild(spannode, middlebit);\n                            skip = 1;\n                        }\n                    } else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n                        for (i = 0; i < node.childNodes.length; ++i) {\n                            i += innerHighlight(node.childNodes[i], pat);\n                        }\n                    }\n                    return skip;\n                }\n\n                return el.length && pat && pat.length ? el.each(function () {\n                    innerHighlight(this, pat.toUpperCase());\n                }) : el;\n            }\n\n            function removeHighlight(el) {\n                var classn = el.data(DATA_CLASS_NAME) || DEFAULT_CLASS_NAME;\n\n                return el.find('span.' + classn).each(function () {\n                    var parentNode = this.parentNode;\n\n                    parentNode.replaceChild(this.firstChild, this);\n                    parentNode.normalize();\n                }).end();\n            }\n\n            highlight.clear = removeHighlight;\n\n            return highlight;\n        })\n        .directive('bbHighlight', ['bbHighlight', function (bbHighlight) {\n            return {\n                link: function (scope, el, attrs) {\n                    function highlight() {\n                        var highlightText = scope.$eval(attrs.bbHighlight);\n                        \n                        bbHighlight.clear(el);\n\n                        if (highlightText) {\n                            bbHighlight(el, highlightText);\n                        }\n                    }\n                    \n                    scope.$watch(attrs.bbHighlight, function () {\n                        highlight();\n                    });\n\n                    if (attrs.bbHighlightBeacon) {\n                        scope.$watch(attrs.bbHighlightBeacon, function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                scope.$evalAsync(highlight);\n                            }\n                        }, true);\n                    }\n                    \n                    if (attrs.ngBind) {\n                        scope.$watch(attrs.ngBind, function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                highlight();\n                            }\n                        });\n                    }\n                },\n                priority: 1, // Make sure ng-bind (which has a priortiy of 0) is processed before this\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*global angular, define, enquire, require */\n\n/** @module Media Breakpoints\n@icon mobile\n@summary The media breakpoints service calls callback functions when a Bootstrap grid system breakpoint is hit to manipulate the user interface programmatically when CSS media queries are not sufficient.\n @description The media breakpoints service can call one or more callback functions whenever a [Bootstrap grid system breakpoint](http://getbootstrap.com/css/#grid-media-queries) is hit. This allows for manipulating the UI programmatically in cases where CSS media queries are not sufficient.\n\n### Dependencies ##\n\n - **[enquire.js](http://wicky.nillia.ms/enquire.js/) (2.1.2 or later)**\n\n---\n\n### Media Breakpoint Methods ###\n\n - `register(callback)` Registers a callback method with the service that will be called any time a media breakpoint is hit. The callback function will be called with the following arguments:\n  - `breakpoint` An object with `xs`, `sm`, `md` and `lg` properties. The property corresponding with the current breakpoint will be set to `true` and the rest set to `false`.\n - `unregister(callback)` Unregisters the specified callback method. This should be called whenever the controller's `$scope` is destroyed.\n - `getCurrent()` Gets the current media breakpoint object.\n */\n\n(function () {\n    'use strict';\n\n    var mediaBreakpointsConfig = {\n            mediaQueries: {\n                xs: '(max-width: 767px)',\n                sm: '(min-width: 768px) and (max-width: 991px)',\n                md: '(min-width: 992px) and (max-width: 1199px)',\n                lg: '(min-width: 1200px)'\n            }\n        },\n        bp = {},\n        handlers = [],\n        mediaBreakpoints;\n\n\n\n    function runRegisterEnquire($window, $timeout) {\n        function registerEnquire(enquire) {\n            var mediaQueries = mediaBreakpointsConfig.mediaQueries,\n                p;\n\n            function updateStatus(newSize) {\n                var handler,\n                    i;\n                bp.xs = bp.sm = bp.md = bp.lg = false;\n                bp[newSize] = true;\n\n                for (i = 0; i < handlers.length; i += 1) {\n                    handler = handlers[i];\n\n                    /*istanbul ignore else */\n                    if (handler) {\n                        handler(bp);\n                    }\n                }\n                $timeout(angular.noop);\n            }\n\n\n            function registerQuery(name) {\n                if (!angular.isDefined(enquire.queries[mediaQueries[name]])) {\n                    enquire.register(mediaQueries[name], function () {\n                        updateStatus(name);\n                    });\n                }\n            }\n\n            for (p in mediaQueries) {\n                /*istanbul ignore else */\n                if (mediaQueries.hasOwnProperty(p)) {\n                    registerQuery(p);\n                }\n            }\n        }\n\n        /* istanbul ignore next boilerplate RequireJS detection */\n        if (typeof define === 'function' && define.amd) {\n            // AMD. Register as an anonymous module.\n            require(['enquire'], registerEnquire);\n        } else if ($window.enquire) {\n            // Browser globals\n            registerEnquire(enquire);\n        }\n    }\n\n    runRegisterEnquire.$inject = ['$window', '$timeout'];\n\n    mediaBreakpoints = {\n        register: function (callback) {\n            handlers.push(callback);\n\n            //Fire handler immediately\n            callback(bp);\n        },\n\n        unregister: function (callback) {\n            var i;\n\n            for (i = 0; i < handlers.length; i += 1) {\n                if (handlers[i] === callback) {\n                    handlers.splice(i, 1);\n                    break;\n                }\n            }\n        },\n\n        getCurrent: function () {\n            return bp;\n        }\n    };\n\n    angular.module('sky.mediabreakpoints', [])\n        .constant('bbMediaBreakpointsConfig', mediaBreakpointsConfig)\n        .run(runRegisterEnquire)\n        .factory('bbMediaBreakpoints', [function () {\n            return mediaBreakpoints;\n        }]);\n}());\n","/*jshint browser: true */\n/*global angular, jQuery */\n\n/** @module Modal\n@icon list-alt\n@summary The modal component launches modals in a way that is consistent with Sky UX applications.\n @description The modal directive and service can be used to launch modals in a consistent way in a Sky UX application. Rather than using the ui-bootstrap `$uibModal.open`, use `bbModal.open` instead. This takes the same options object but allows for some custom default behaviors in Sky UX.\n\nIn addition to the `bbModal` service for lauching modals, a `bb-modal` directive should be used to have common look-and-feel for modal content. Within `bb-modal`, use `bb-modal-header` to include a common modal header, `bb-modal-footer` to include a common modal footer and buttons, and `bb-modal-body` to wrap the modal's body content.\n\n### Modal Header Settings ###\n\n - `bb-modal-help-key` Specifies the help key for the modal. This will be be linked from a help button included in the modal header.\n\n### Modal Footer Buttons ##\n\n - `bb-modal-footer-button` Generic button for the modal footer. HTML included in this tag will be included in the contents of the button. You must register events for the button manually.\n\n - `bb-modal-footer-button-primary` Primary button for the modal footer which will have a custom look.  Default content is 'Save', but HTML included in this tag will be included as the contents of the button if provided. You must register events for the button manually.\n\n - `bb-modal-footer-button-cancel` Cancel button for the modal footer. Default content is 'Cancel', but HTML included in this tag will be included as the contents of the button if provided. This button automatically cancels the modal form.\n\n */\n\n(function ($) {\n    'use strict';\n\n    var openModalCount = 0;\n\n    angular.module('sky.modal', ['sky.helpbutton', 'sky.resources', 'ui.bootstrap'])\n        .factory('bbModal', ['$uibModal', '$window', function ($uibModal, $window) {\n            return {\n                open: function (opts) {\n                    var bodyEl,\n                        isIOS,\n                        modalInstance,\n                        scrollTop;\n\n                    function modalClosed() {\n                        openModalCount--;\n                        if (isIOS) {\n                            bodyEl\n                                .removeClass('bb-modal-open-mobile')\n                                .scrollTop(scrollTop);\n                        }\n\n                        bodyEl = null;\n                    }\n\n                    isIOS = /iPad|iPod|iPhone/i.test($window.navigator.userAgent);\n                    bodyEl = $(document.body);\n\n                    // Change default values for modal options\n                    opts = angular.extend({\n                        backdrop: 'static',\n                        windowClass: 'bb-modal'\n                    }, opts);\n\n                    // Mobile browsers exhibit weird behavior when focusing on an input element\n                    // inside a position: fixed element (in this case the modal), and it also\n                    // doesn't propery prohibit scrolling on the window.  Adding this CSS class\n                    // will change the body position to fixed and the modal position to absolute\n                    // to work around this behavior.\n                    if (isIOS) {\n                        // Setting the body position to be fixed causes it to be scrolled to the\n                        // top.  Cache the current scrollTop and set it back when the modal is\n                        // closed.\n                        scrollTop = bodyEl.scrollTop();\n                        bodyEl.addClass('bb-modal-open-mobile');\n                    }\n\n                    modalInstance = $uibModal.open(opts);\n                    openModalCount++;\n\n                    modalInstance.result.then(modalClosed, modalClosed);\n\n                    return modalInstance;\n                }\n            };\n        }])\n        .directive('bbModal', ['$timeout', function ($timeout) {\n            function getPixelValue(val) {\n                val = val || '0';\n\n                return parseFloat(val.replace('px', ''));\n            }\n\n            function getModalBodyWrapperMargin(el) {\n                var margin = 0;\n\n                while (el.not('.modal-dialog') && el.length > 0) {\n                    margin += el.outerHeight() - el.height();\n\n                    el = el.parent();\n                }\n\n                return margin;\n            }\n\n            return {\n                controller: ['$scope', function ($scope) {\n                    this.setBodyEl = function (bodyEl) {\n                        $scope.bodyEl = bodyEl;\n                    };\n                }],\n                replace: true,\n                transclude: true,\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modal.html',\n                link: function ($scope, el) {\n                    var bodyEl,\n                        resizeTimeout,\n                        windowEl = $(window);\n\n                    function fitToWindow() {\n                        var margin,\n                            modalParentEl,\n                            newMaxHeight,\n                            reservedHeight;\n\n                        if (bodyEl && bodyEl.length > 0) {\n                            modalParentEl = el.parents('.modal-dialog');\n\n                            if (modalParentEl.length > 0) {\n                                margin = getPixelValue(modalParentEl.css('margin-bottom')) + getPixelValue(modalParentEl.css('margin-top'));\n\n                                reservedHeight = margin + el.find('.modal-header').outerHeight() + el.find('.modal-footer').outerHeight();\n\n                                // Account for the border, padding, etc. of the elements that wrap the modal body.\n                                reservedHeight += getModalBodyWrapperMargin(el);\n\n                                newMaxHeight = windowEl.height() - reservedHeight;\n\n                                bodyEl.css('max-height', newMaxHeight);\n                            }\n                        }\n                    }\n\n                    $scope.$watch('bodyEl', function (newValue) {\n                        bodyEl = newValue;\n                        fitToWindow();\n                    });\n\n                    $timeout(function () {\n                        fitToWindow();\n                    }, 0);\n\n                    windowEl.on('resize.bbModal' + $scope.$id, function () {\n                        $timeout.cancel(resizeTimeout);\n\n                        resizeTimeout = $timeout(function () {\n                            fitToWindow();\n                        }, 250);\n                    });\n\n                    el.on('$destroy', function () {\n                        windowEl.off('.bbModal' + $scope.$id);\n                    });\n                }\n            };\n        }])\n        .directive('bbModalBody', function () {\n            return {\n                link: function (scope, el, attrs, modalCtrl) {\n                    el.addClass('modal-body container-fluid');\n                    modalCtrl.setBodyEl(el);\n                },\n                require: '^bbModal',\n                restrict: 'A'\n            };\n        })\n        .directive('bbModalHeader', function () {\n            return {\n                controller: angular.noop,\n                replace: true,\n                transclude: true,\n                require: '^bbModal',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalheader.html',\n                scope: {\n                    bbModalHelpKey: '='\n                }\n            };\n        })\n        .directive('bbModalFooter', function () {\n            return {\n                controller: angular.noop,\n                replace: true,\n                transclude: true,\n                require: '^bbModal',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooter.html'\n            };\n        })\n        .directive('bbModalFooterButton', function () {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbutton.html'\n            };\n        })\n        .directive('bbModalFooterButtonPrimary', ['bbResources', function (bbResources) {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbuttonprimary.html',\n                link: function ($scope, el) {\n                    if (el.children().length === 0) {\n                        el.append(\"<span>\" + bbResources.modal_footer_primary_button + \"</span>\");\n                    }\n                }\n            };\n        }])\n        .directive('bbModalFooterButtonCancel', ['bbResources', function (bbResources) {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbuttoncancel.html',\n                link: function ($scope, el) {\n                    if (el.children().length === 0) {\n                        el.append(\"<span>\" + bbResources.modal_footer_cancel_button + \"</span>\");\n                    }\n                }\n            };\n        }]);\n}(jQuery));\n","/*global angular, define, require */\n\n/** @module Moment\n@icon clock-o\n@summary The moment module use the moment.js library to parse, validate, manipulate, or display dates.\n@description The moment module allows you to use the [moment](http://momentjs.com/) library.\n*/\n\n(function () {\n    'use strict';\n\n    function bbMoment($window) {\n        return $window.moment;\n    }\n\n    bbMoment.$inject = ['$window'];\n\n    /*istanbul ignore next boilerplate require gunk */\n    function runRegisterMoment($window) {\n\n        function registerMoment(moment) {\n            $window.moment = moment;\n        }\n\n        if (angular.isUndefined($window.moment) && typeof define === 'function' && define.amd) {\n            require(['moment'], registerMoment);\n        }\n    }\n\n    runRegisterMoment.$inject = ['$window'];\n\n    angular.module('sky.moment', [])\n        .run(runRegisterMoment)\n        .factory('bbMoment', bbMoment);\n\n}());\n","/*global angular, jQuery */\n\n/** @module Navbar\n@icon compass\n@summary The navbar creates a Bootstrap `nav` element and applies Sky UX classes to it.\n @description The navbar directive creates a Bootstrap `nav` element with the appropriate Sky UX classes applied to it and its children, and also adds behavior such as showing sub-navigation items when the user hovers over the dropdown. If you do not wish to use the omnibar for collapsing the navbar into a mobile menu on small screens, then place the `bb-navbar-showmobile` class on the `bb-navbar` directive.\n */\n\n(function ($) {\n    'use strict';\n\n    function toggleOpen(el, action) {\n        $(el)[action + 'Class']('open');\n    }\n\n    angular.module('sky.navbar', [])\n        .directive('bbNavbar', function () {\n            return {\n                restrict: 'E',\n                replace: true,\n                transclude: true,\n                templateUrl: 'sky/templates/navbar/navbar.html',\n                link: function (scope, el) {\n                    /*jslint unparam: true */\n                    $(el).on('mouseenter', '.dropdown', function () {\n                        toggleOpen(this, 'add');\n                    }).on('mouseleave', '.dropdown', function () {\n                        toggleOpen(this, 'remove');\n                    }).on('click', '.dropdown-menu a', function () {\n                        toggleOpen($('.dropdown', el), 'remove');\n                    });\n                }\n            };\n        });\n}(jQuery));\n","/*global angular, jQuery */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.omnibar', [])\n        .constant('bbOmnibarConfig', {\n            appLookupUrl: '',\n            enableHelp: false,\n            enableSearch: false,\n            productId: 'Sky',\n            searchPlaceholder: 'Search',\n            serviceName: 'Sky',\n            signOutUrl: '',\n            tenantId: '',\n            url: 'https://signin.blackbaud.com/omnibar.min.js'\n        })\n        .directive('bbOmnibar', ['$window', 'bbOmnibarConfig', function ($window, bbOmnibarConfig) {\n            return {\n                transclude: true,\n                template: '<div class=\"bb-omnibar-wrap\"></div><div class=\"bb-omnibar-menu-wrap\" ng-transclude></div>',\n                link: function (scope, el) {\n                    var omnibarEl = el.children('.bb-omnibar-wrap'),\n                        omnibarMenuEl = el.find('.bb-omnibar-menu-wrap .bb-omnibar-menu');\n\n                    function afterLoad() {\n                        var searchBox = omnibarEl.find('.searchbox'),\n                            searchContainer = omnibarEl.find('.searchContainer'),\n                            searchValue;\n\n                        // No longer need this holding div now that the menu was moved into the right location in the omnibar.\n                        el.children(\".bb-omnibar-menu-wrap\").remove();\n\n                        if (omnibarEl.find(\".mobile .productmenucontainer\").length === 0) {\n                            $(\".bb-navbar\").addClass(\"bb-navbar-showmobile\");\n                        }\n\n                        searchBox.attr('placeholder', bbOmnibarConfig.searchPlaceholder);\n\n                        scope.searchBox = searchBox;\n\n                        searchBox.on('keyup', function (event) {\n                            var value = searchBox.val();\n\n                            /*istanbul ignore else */\n                            if (value !== searchValue) {\n                                searchValue = value;\n\n                                scope.searchText = value;\n                                scope.$apply();\n                            }\n\n                            scope.$emit('searchBoxKeyUp', event.keyCode);\n                        });\n\n                        scope.$watch('searching', function (searching) {\n                            if (searching) {\n                                searchContainer.addClass('searching');\n                            } else {\n                                searchContainer.removeClass('searching');\n                            }\n                        });\n\n                        scope.$watch('searchText', function (searchText) {\n                            searchText = searchText || '';\n                            if (searchText !== searchBox.val()) {\n                                searchValue = searchText;\n                                searchBox.val(searchText);\n                            }\n                        });\n\n                        scope.$apply();\n\n                        if (angular.isFunction(bbOmnibarConfig.afterLoad)) {\n                            /* jshint validthis: true */\n                            bbOmnibarConfig.afterLoad.apply(this, arguments);\n                        }\n                    }\n\n                    function userLoaded(userData) {\n                        var omnibarIndicatesNullUserTime;\n\n                        //If the user ID loaded in the omnibar does not match the user who loaded the page, sign the\n                        //user out of the application.  This will result in a redirect back to the auth size to update\n                        //the user's claims or ask the user to log back in.\n                        if (userData.id !== bbOmnibarConfig.authenticationUserId && bbOmnibarConfig.signOutUrl) {\n\n                            if (userData.id === null) {\n                                //If userData.id ==null then it may just means the omnibar is stale or there was a problem\n                                //with the interaction of the omnibar and the rex shell SPA client side code.\n                                //\n                                //If we can use localStorage to track data across sessions, then attempt to log out of NXT once\n                                //and see if this fixes it, but avoid an infinite redirect loop with the Auth Svc.\n                                //\n                                //If the browser doesn't support localStorage, then just return.\n                                //\n                                //If we don't back to the auth sign in site here, then it will just stay on the current page\n                                //with the understanding that the omnibar may be in a state of acting as though the user\n                                //is signed out.  The page is still secure because the Auth claims are evaluated on the server.\n                                //This special case is just about dealing with an edge case issue with client side javascript.\n                                if ($window.localStorage) {\n                                    omnibarIndicatesNullUserTime = $window.localStorage.omnibarIndicatesNullUserTime;\n                                    \n                                    if (omnibarIndicatesNullUserTime && (new Date() - Date.parse(omnibarIndicatesNullUserTime)) / 1000 <= 10) {\n                                        // We just looped through Auth within the last 10 seconds, so don't leave again now.\n                                        return;\n                                    }\n\n                                    try {\n                                        // Stash the time that we're doing this redirect to avoid infinite loops.\n                                        $window.localStorage.omnibarIndicatesNullUserTime = (new Date()).toString();\n                                    } catch (e) {\n                                        // Safari private browsing will throw an exception on setting localStroage.\n                                        /*istanbul ignore next: super edge case */\n                                        return;\n                                    }\n                                } else {\n                                    return;\n                                }\n                            }\n\n                            // Log out and redirect to auth service.\n                            $window.location.href = bbOmnibarConfig.signOutUrl;\n                        }\n\n                        if (angular.isFunction(bbOmnibarConfig.userLoaded)) {\n                            /* jshint validthis: true */\n                            bbOmnibarConfig.userLoaded.apply(this, arguments);\n                        }\n                    }\n\n                    $.ajax({\n                        cache: true,\n                        dataType: 'script',\n                        url: bbOmnibarConfig.url\n                    }).done(function () {\n                        var loadOptions = angular.extend({}, bbOmnibarConfig, {\n                            afterLoad: afterLoad,\n                            userLoaded: userLoaded,\n                            menuEl: omnibarMenuEl\n                        });\n\n                        $window.BBAUTH.Omnibar.load(omnibarEl, loadOptions);\n                    });\n                }\n            };\n        }])\n        .directive('bbOmnibarMenu', function () {\n            return {\n                replace: true,\n                require: '^bbOmnibar',\n                restrict: 'E',\n                transclude: true,\n                template: '<div class=\"bb-omnibar-menu\" ng-transclude></div>'\n            };\n        });\n}(jQuery));\n","/*global angular */\n\n/** @module Page\n@icon file-o\n@summary The page component handles functionality around loading pages.\n @description The page directive provides functionality around loading pages.\n\n### Page Settings ###\n\n - `bb-page-status` The status of the page.\n    - `LOADING` Denotes the page is currently loading.\n    - `LOADED` Denotes the page has successfully finished loading.\n    - `NOT_AUTHORIZED` Denotes the page has finished loading and should show the unauthorized content.\n    - `NOT_FOUND` Denotes the page is has finished loading and should redirect to the not found page.\n - `bb-page-uses-load-manager` Allow the page to use the bb-data load manager.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.page', [])\n        .constant('bbPageConfig', {\n            redirectUrl: null,\n            notFoundUrl: null\n        })\n        .factory('bbPage', [function () {\n            var pageStatuses;\n\n            pageStatuses = {\n                LOADING: 0,\n                LOADED: 1,\n                NOT_AUTHORIZED: 2,\n                //ERROR: 3,\n                NOT_FOUND: 4\n            };\n\n            return {\n                pageStatuses: pageStatuses\n            };\n        }])\n        .directive('bbPage', ['$window', 'bbResources', 'bbPage', 'bbPageConfig', 'bbData', '$location',\n            function ($window, bbResources, bbPage, bbPageConfig, bbData, $location) {\n                function link(scope, element) {\n                    var loadManager,\n                        locals;\n\n                    function navigateAway() {\n                        $window.location.href = bbPageConfig.redirectUrl || $window.location.origin;\n                    }\n\n                    function noPageStatusSpecified() {\n                        return element.attr('bb-page-status') === undefined;\n                    }\n\n                    function onShowing() {\n                        if (scope.bbPageUsesLoadManager) {\n                            loadManager = locals.loadManager = bbData.loadManager({\n                                scope: scope,\n                                waitForFirstItem: true,\n                                nonblockWaitForAdditionalItems: true,\n                                isAggregate: true\n                            });\n                        }\n                    }\n\n                    locals = scope.locals = {\n                        navigateAway: navigateAway,\n                        noPageStatusSpecified: noPageStatusSpecified,\n                        pageStatuses: bbPage.pageStatuses,\n                        onShowing: onShowing\n                    };\n\n                    scope.resources = bbResources;\n\n                    scope.$watch('bbPageStatus', function (value, oldValue) {\n                        scope.value = \"something\";\n                        scope.oldValue = oldValue;\n\n                        if (!value) {\n                            scope.$emit(\"bbBeginWait\");\n                        } else if (value && !oldValue) {\n                            scope.$emit(\"bbEndWait\");\n                        }\n\n                        if (value === locals.pageStatuses.NOT_AUTHORIZED) {\n                            if (loadManager) {\n                                loadManager.cancelWaiting();\n                            }\n                        } else if (value === locals.pageStatuses.NOT_FOUND) {\n                            if (loadManager) {\n                                loadManager.cancelWaiting();\n                            }\n\n                            $location.path(bbPageConfig.notFoundUrl).replace();\n                        }\n\n                    });\n                }\n\n                return {\n                    restrict: 'E',\n                    scope: {\n                        bbPageStatus: '=?',\n                        bbPageUsesLoadManager: '@?'\n                    },\n                    templateUrl: 'sky/templates/page/page.html',\n                    transclude: true,\n                    link: link\n                };\n            }]);\n}());\n","/*global angular */\n\n/** @module Pagination\n@icon files-o\n@summary The pagination component displays data across multiple pages and inserts a pagination control to page through the data.\n @description The pagination directive allows list data to be displayed across multiple pages. When the number of items in the list exceeds the page size, a pagination control is displayed.\n\nThe `bb-pagination-content` directive and the `bbPaging` service are used in conjunction with this directive. The `bb-pagination-content` is used to wrap the paged content so that the height of the wrapper can be kept as a constant height across pages regardless of contents. When the list data is bound, the height of the largest page will be used for the wrapper so that the height of the list will not fluctuate as the user pages through it.\nThe `bbPaging` service is used to create the paged data and responds to changes in the pagination directive.\n\n### Pagination Settings ###\n\n - `bb-pagination` The paged data initialized by the `bbPaging` service.\n - `bb-pagination-disabled` Determines whether the use can interact with the pagination control.\n\n### Pagination Content Settings ##\n\n - `bb-pagination-content` The paged data initialized by the `bbPaging` service.\n\n### Paging Settings ##\nThese are optional properties of the object passed to `bbPaging.init()`\n\n - `currentPage` *(Default: `1`)* The initial page to display.\n - `itemsPerPage` *(Default: `5`)* The number of items to display per page.\n */\n\n(function () {\n    'use strict';\n\n    var evtNsPos = 0;\n\n    angular.module('sky.pagination', ['ui.bootstrap.pagination'])\n        .config(['uibPaginationConfig', function (paginationConfig) {\n            paginationConfig.maxSize = 4;\n            paginationConfig.itemsPerPage = 5;\n\n            paginationConfig.nextText = paginationConfig.previousText = '';\n        }])\n        .factory('bbPaging', function () {\n            return {\n                init: function (sourceData, config) {\n                    var paging;\n\n                    function setPageData() {\n                        var startingIndex,\n                            currentPage;\n\n                        if (!paging.disabled && sourceData) {\n                            currentPage = paging.currentPage - 1; // 1-based\n\n                            startingIndex = currentPage * paging.itemsPerPage;\n\n                            paging.items = sourceData.slice(startingIndex, startingIndex + paging.itemsPerPage);\n                        }\n                    }\n\n                    paging = {\n                        currentPage: 1,\n                        itemsPerPage: 5,\n                        totalItems: sourceData ? sourceData.length : 0,\n                        pageChanged: setPageData\n                    };\n\n                    angular.extend(paging, config);\n\n                    setPageData();\n\n                    return paging;\n                }\n            };\n        })\n        .directive('bbPagination', function () {\n            return {\n                restrict: 'A',\n                scope: {\n                    paginationDisabled: '=bbPaginationDisabled'\n                },\n                compile: function (el, attrs) {\n                    var pagedData = attrs.bbPagination;\n\n                    /*jslint white: true */\n                    el.html(\n                        '<uib-pagination ng-show=\"' + pagedData + '.totalItems > ' + pagedData + '.itemsPerPage\" total-items=\"' + pagedData + '.totalItems\" ng-model=\"' + pagedData + '.currentPage\" ng-change=\"' + pagedData + '.pageChanged()\" items-per-page=\"' + pagedData + '.itemsPerPage\"></uib-pagination>' +\n                        '<div class=\"clearfix\"></div>'\n                    );\n                    /*jslint white: false */\n\n                    return function (scope, el) {\n                        scope.$watch('paginationDisabled', function (newValue) {\n                            var paginationDummyEl,\n                                paginationEl;\n\n                            // Since we don't have complete control over the Angular Bootstrap UI pagination directive,\n                            // we can't disable it directly.  Instead just clone the pagination element, disable it\n                            // and show it while hiding the original element when pagination is disabled.\n                            if (angular.isDefined(newValue)) {\n                                paginationEl = el.find('.pagination');\n\n                                if (newValue) {\n                                    paginationDummyEl = paginationEl\n                                        .clone()\n                                        .addClass('bb-pagination-dummy');\n\n                                    paginationEl\n                                        .before(paginationDummyEl)\n                                        .hide();\n\n                                    paginationDummyEl.find('li').addClass('disabled');\n                                } else {\n                                    el.find('.bb-pagination-dummy').remove();\n                                    paginationEl.show();\n                                }\n                            }\n                        });\n                    };\n                }\n            };\n        })\n        .directive('bbPaginationContent', ['$timeout', '$window', '$animate', function ($timeout, $window, $animate) {\n            return {\n                link: function (scope, el) {\n                    var evtNs;\n\n                    evtNsPos += 1;\n\n                    evtNs = \"bbPaginationContent\" + evtNsPos;\n\n                    function removeWindowResizeHandler() {\n                        angular.element($window).off('.' + evtNs);\n                    }\n\n                    scope.$watch('pagedData', function () {\n                        var pageCount,\n                            pagedData,\n                            tries = 0,\n                            windowResizeTimeout;\n\n                        // Try for 1 second to set a min-height on paged data so the paging bar doesn't jump\n                        // up when the user hits a page with less than the max number of items.\n                        function trySetMinHeight() {\n                            $timeout(function () {\n                                var currentPage,\n                                    height = el.height(),\n                                    i,\n                                    maxHeight = 0;\n\n                                function changePage(pageNumber) {\n                                    /* Disable animation for the page change\n                                       to prevent issues with ng-repeat\n                                       that impact min-height measurements */\n                                    $animate.enabled(false, el);\n                                    pagedData.currentPage = pageNumber;\n\n                                    pagedData.pageChanged();\n                                    scope.$apply();\n                                    $animate.enabled(true, el);\n\n                                }\n\n                                if (height === 0 && tries < 5) {\n                                    tries += 1;\n                                    trySetMinHeight();\n                                    return;\n                                }\n\n                                el.addClass('bb-pagination-content bb-pagination-content-calculating');\n\n                                // Cache the current page so we can put it back.\n                                currentPage = pagedData.currentPage;\n\n                                // Reset the min height from any previous iteration.\n                                el.css('min-height', 0);\n\n                                // Navigate through each page and find the tallest page.\n                                for (i = 1; i <= pageCount; i += 1) {\n                                    changePage(i);\n                                    maxHeight = Math.max(el.height(), maxHeight);\n                                }\n\n                                // Set the min height to the height of the tallest page.\n                                el.css('min-height', maxHeight);\n\n                                // Navigate back to the initial page.\n                                changePage(currentPage);\n\n                                el.removeClass('bb-pagination-content-calculating');\n                            }, 200);\n                        }\n\n                        pagedData = scope.pagedData;\n\n                        if (angular.isDefined(scope.pagedData)) {\n                            pageCount = Math.ceil(pagedData.totalItems / (pagedData.itemsPerPage || 1));\n\n                            if (pageCount > 1) {\n                                trySetMinHeight();\n\n                                removeWindowResizeHandler();\n\n                                angular.element($window).on('resize.' + evtNs, function () {\n                                    if (windowResizeTimeout) {\n                                        $timeout.cancel(windowResizeTimeout);\n                                    }\n\n                                    windowResizeTimeout = $timeout(trySetMinHeight, 500);\n                                });\n\n                                el.on('$destroy', removeWindowResizeHandler);\n                            }\n                        }\n                    });\n                },\n                scope: {\n                    pagedData: '=bbPaginationContent'\n                }\n            };\n        }]);\n}());\n","/*jshint unused: false */\n/*global angular, bbPaletteConfig */\n\n(function () {\n'use strict';\n\nvar bbPaletteConfig;\n\n/* LINES BELOW ARE AUTO GENERATED */\nbbPaletteConfig = {\n    \"multi\": [\n        \"#1f91da\",\n        \"#f9b66d\",\n        \"#1dc8a6\",\n        \"#9176c6\",\n        \"#28d7d9\",\n        \"#ef6977\",\n        \"#919191\",\n        \"#7ec2ed\",\n        \"#fbcf9f\",\n        \"#75ebd3\",\n        \"#beaedd\",\n        \"#85e8ea\",\n        \"#f59ca6\",\n        \"#afafaf\"\n    ],\n    \"mono\": [\n        \"#156395\",\n        \"#1c84c6\",\n        \"#44a6e5\",\n        \"#83c4ed\",\n        \"#c1e1f6\"\n    ]\n};\n\nangular.module('sky.palette.config', [])\n    .constant('bbPaletteConfig', bbPaletteConfig);\n\n}());\n","/*global angular */\n\n/** @module Palette\n@icon paint-brush\n@summary The palette service provides methods for consistently producing a sequence of colors for Sky.\n@description The palette service gives you the following functions:\n\n  - `getColorByIndex(index, paletteType)` Get a specific color by it's index in the palette.\n    - 'index' A required integer for the index of the color.\n    - 'paletteType' An optional string representing either `mono` or the default `multi`.\n  - `getColorSequence(requestedLength, paletteType)` Returns an array of colors for the requested length.  When using with `ng-repeat`, be sure to use the `track by` syntax since we return duplicates.\n    - 'requestedLength' A required integer for the size of the array of colors you want returned.\n    - 'paletteType' An optional string representing either `mono` or the default `multi`.\n\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.palette', ['sky.palette.config'])\n        .factory('bbPalette', ['bbPaletteConfig', function (bbPaletteConfig) {\n\n            function getPaletteByType(paletteType) {\n                return bbPaletteConfig[paletteType || 'multi'];\n            }\n\n            return {\n                getColorByIndex: function (index, paletteType) {\n                    var palette = getPaletteByType(paletteType);\n                    return palette[index % palette.length];\n                },\n                getColorSequence: function (requestedLength, paletteType) {\n\n                    var i,\n                        palette = getPaletteByType(paletteType),\n                        paletteLength,\n                        r = [];\n\n                    paletteLength = palette.length;\n                    requestedLength = requestedLength || paletteLength;\n\n                    for (i = 0; i < requestedLength; i++) {\n                        r.push(palette[i % paletteLength]);\n                    }\n\n                    return r;\n                }\n            };\n        }]);\n}());\n","/*global angular, jQuery */\n\n/** @module Popover\n@icon newspaper-o\n@summary The popover component wraps the Angular UI Bootstrap popover directive to create an HTML-formatted popover that is displayed by a trigger element.\n @description The `bb-popover-template` directive enables an HTML-formatted popover to be displayed via a trigger element. This directive is an alternative to the `popover` directive from Angular UI Bootstrap, making it easier to define markup in a template rather than directly in the view's controller.\n\nThe `bb-popover-template` attribute should specify a URL for a template in the `$templateCache` that will be used as the popover content. The scope applied to this template inherits the current scope. A `hide` function is also\nprovided on the scope to dismiss the popover.\n\nThe directive is built as a thin wrapper of the [Angular UI Bootstrap Popover](http://angular-ui.github.io/bootstrap/) directive and supports all of it's optional properties.\n */\n\n(function ($) {\n    'use strict';\n\n    function bbPopoverTemplate($compile) {\n        return {\n            restrict: 'A',\n            scope: true,\n            link: function ($scope, el) {\n                var bbPopoverOpenAttr = 'bbPopoverOpen' + $scope.$id;\n\n                //prevent breaking change by adding quotes around template url and\n                //passing to new directive\n                /*istanbul ignore else */\n                if (!el.attr('bb-uib-popover-template')) {\n                    el.attr('bb-uib-popover-template', \"'\" + el.attr('bb-popover-template') + \"'\");\n                }\n\n                if (!el.attr('popover-is-open')) {\n                    el.attr('popover-is-open', bbPopoverOpenAttr);\n                }\n\n                $scope.bbPopoverAttr = el.attr('popover-is-open');\n\n\n                el.removeAttr('bb-popover-template');\n                $compile(el)($scope);\n            }\n        };\n    }\n\n    bbPopoverTemplate.$inject = ['$compile'];\n\n    function bbUibPopoverTemplate($uibTooltip) {\n        var tooltip = $uibTooltip('bbUibPopoverTemplate', 'popover', 'click', {\n            useContentExp: true\n        });\n\n        return tooltip;\n    }\n\n    bbUibPopoverTemplate.$inject = ['$uibTooltip'];\n\n    function bbUibPopoverTemplatePopup($window, $parse) {\n        return {\n            replace: true,\n            scope: { title: '@', contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&', originScope: '&' },\n            link: function ($scope, el) {\n\n                var origScope = $scope.originScope(),\n                    popoverIsOpenAttr,\n                    windowEl = $($window),\n                    scopeId = $scope.$id;\n\n                popoverIsOpenAttr = origScope.bbPopoverAttr;\n\n                function closePopover() {\n\n                    /* Set the popover is open attribute this way to account for\n                       both variables directly on scope as well as using 'controller\n                       as' \n                    */\n                    /* istanbul ignore else: sanity check */\n                    if (angular.isDefined(origScope.$eval(popoverIsOpenAttr))) {\n                        $parse(popoverIsOpenAttr).assign(origScope, false);\n                    }\n                }\n\n                origScope.hide = function () {\n                    closePopover();\n                };\n\n                $scope.$watch('isOpen()', function (value) {\n                    if (value) {\n                        windowEl.on('click.popover' + scopeId, function (event) {\n                            if (!el.is(event.target) && el.has(event.target).length === 0 && $scope.isOpen) {\n                                $scope.$apply(function () {\n                                    closePopover();\n                                });\n                            }\n                        });\n                    }\n\n                });\n\n\n                $scope.$on('$destroy', function () {\n                    windowEl.off('click.popover' + scopeId);\n                });\n            },\n            templateUrl: 'sky/templates/popover/popup.html'\n        };\n    }\n    bbUibPopoverTemplatePopup.$inject = ['$window', '$parse'];\n\n    angular.module('sky.popover', ['ui.bootstrap.tooltip'])\n        .directive('bbUibPopoverTemplatePopup', bbUibPopoverTemplatePopup)\n        .directive('bbUibPopoverTemplate', bbUibPopoverTemplate)\n        .directive('bbPopoverTemplate', bbPopoverTemplate);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    var serviceModules = [];\n    \n    function bbResoucesFilter(bbResources) {\n        return function (name) {\n            return bbResources[name];\n        };\n    }\n    \n    bbResoucesFilter.$inject = ['bbResources'];\n\n    angular.module('sky.resources', serviceModules)\n        .constant('bbResources', {\n            /* Strings are defined in separate JSON files located in js/sky/locales. */\n        })\n        .filter('bbResources', bbResoucesFilter);\n}());","/*jshint browser: true */\n/*global angular */\n\n/** @module Scroll into View\n@icon eye\n@summary The scroll-into-view component causes an element to scroll into the viewport when its bound value changes.\n @description The scroll-into-view directive causes an element to scroll into the viewport whenever its bound value changes.\n\n### Scroll-into-view Settings ###\n\n - `bb-scroll-into-view` The value that triggers the scroll.\n - `bb-scroll-into-view-highlight` A Boolean indicating whether the element should be highlighted when scrolling completes.\n*/\n\n(function () {\n    'use strict';\n\n    var CLS_HIGHLIGHTING = 'bb-scroll-into-view-highlighting',\n        RETRY_INTERVAL = 100,\n        RETRY_MAX = 10;\n\n    angular.module('sky.scrollintoview', [])\n        .constant('bbScrollIntoViewConfig', {\n            reservedBottom: 0,\n            reservedTop: 0\n        })\n        .factory('bbScrollIntoView', ['$window', 'bbScrollIntoViewConfig', function ($window, bbScrollIntoViewConfig) {\n            function highlightEl(el, options) {\n                if (options.highlight) {\n\n                    // The automatic CSS class removal should be factored out once we have some more instances\n                    // where we use animations.\n                    el\n                        .addClass(CLS_HIGHLIGHTING)\n                        .one(\n                            'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\n                            /*istanbul ignore next */\n                            function () {\n                                el.removeClass(CLS_HIGHLIGHTING);\n                            }\n                        );\n                }\n            }\n\n            function getScrollableParentEl(el) {\n                var overflowY,\n                    parentEl = el.parent();\n\n                while (parentEl.length > 0) {\n                    if (parentEl.is('body')) {\n                        return parentEl;\n                    }\n\n                    overflowY = parentEl.css('overflow-y');\n\n                    /*istanbul ignore else: sanity check (the computed overflow property will likely never return a non-string value) */\n                    if (angular.isString(overflowY)) {\n                        switch (overflowY.toUpperCase()) {\n                        case 'AUTO':\n                        case 'HIDDEN':\n                        case 'SCROLL':\n                            return parentEl;\n                        }\n                    }\n\n                    parentEl = parentEl.parent();\n                }\n            }\n\n            function getHtmlOrBodyScrollTop() {\n                return angular.element('html').scrollTop() || angular.element('body').scrollTop();\n            }\n\n            function scrollIntoView(el, options) {\n                var currentScrollTop,\n                    elBottom,\n                    elHeight,\n                    elOffset,\n                    elTop,\n                    elToScroll,\n                    isScrolledOffBottom,\n                    isScrolledOffTop,\n                    newScrollTop,\n                    parentEl,\n                    parentElIsBody,\n                    parentHeight,\n                    reservedBottom,\n                    reservedTop,\n                    viewportHeight;\n\n                parentEl = getScrollableParentEl(el);\n                parentElIsBody = parentEl.is('body');\n\n                options = options || {};\n\n                reservedBottom = options.reservedBottom;\n                reservedTop = options.reservedTop;\n\n                if (!angular.isDefined(reservedBottom)) {\n                    reservedBottom = 0;\n\n                    if (parentElIsBody) {\n                        reservedBottom = bbScrollIntoViewConfig.reservedBottom || 0;\n                    }\n                }\n\n                if (!angular.isDefined(reservedTop)) {\n                    reservedTop = 0;\n\n                    if (parentElIsBody) {\n                        reservedTop = bbScrollIntoViewConfig.reservedTop || 0;\n                    }\n                }\n\n                if (options.highlight) {\n                    reservedBottom += 50;\n                    reservedTop += 50;\n                }\n\n                if (parentElIsBody) {\n                    currentScrollTop = getHtmlOrBodyScrollTop();\n                } else {\n                    currentScrollTop = parentEl.scrollTop();\n                }\n\n                elOffset = el.offset();\n                elHeight = el.outerHeight();\n\n                elTop = elOffset.top;\n\n                if (!parentElIsBody) {\n                    elTop = (elTop - parentEl.offset().top) + currentScrollTop;\n                }\n\n                elBottom = elTop + elHeight;\n\n                parentHeight = parentElIsBody ? angular.element(window).height() : parentEl.height();\n\n                isScrolledOffBottom = elBottom > parentHeight + (currentScrollTop - reservedBottom);\n                isScrolledOffTop = elTop < (currentScrollTop + reservedTop);\n\n                if (isScrolledOffBottom || isScrolledOffTop) {\n                    if (isScrolledOffBottom) {\n                        newScrollTop = elBottom - (parentHeight - reservedBottom);\n                    }\n\n                    viewportHeight = parentHeight - (reservedTop + reservedBottom);\n\n                    // Ensure the top of the element is visible after scrolling even if it is currently\n                    // scrolled off the bottom of the viewport.\n                    if (!isScrolledOffBottom || elHeight > viewportHeight) {\n                        newScrollTop = elTop - reservedTop;\n                    }\n\n                    elToScroll = parentElIsBody ? angular.element('html, body') : parentEl;\n\n                    elToScroll.animate(\n                        {\n                            scrollTop: Math.round(newScrollTop)\n                        },\n                        {\n                            duration: 250,\n                            always: function () {\n                                highlightEl(el, options);\n                            }\n                        }\n                    );\n                } else {\n                    highlightEl(el, options);\n                }\n            }\n\n            return scrollIntoView;\n        }])\n        .directive('bbScrollIntoView', ['$timeout', 'bbScrollIntoViewConfig', 'bbScrollIntoView', function ($timeout, bbScrollIntoViewConfig, bbScrollIntoView) {\n            function link(scope, el, attrs) {\n                var options,\n                    previousTimeout,\n                    retryCount;\n\n                function doScroll(firstTry) {\n                    if (previousTimeout) {\n                        // Make sure any pending scrolling is canceled.\n                        $timeout.cancel(previousTimeout);\n                    }\n\n                    if (firstTry) {\n                        retryCount = 0;\n                    }\n\n                    /*istanbul ignore else: hard to reach in a unit test */\n                    if (el.is(':visible') && el.children('.collapsing').length === 0) {\n                        options = angular.extend({}, bbScrollIntoViewConfig);\n\n                        if (attrs.bbScrollIntoViewHighlight) {\n                            options.highlight = scope.$eval(attrs.bbScrollIntoViewHighlight);\n                        }\n\n                        bbScrollIntoView(el, options);\n                    } else if (retryCount < RETRY_MAX) {\n                        // Keep trying to scroll until the element is visible or we run out of retry attempts.\n                        retryCount++;\n                        previousTimeout = $timeout(doScroll, RETRY_INTERVAL);\n                    }\n                }\n\n                /*istanbul ignore else: sanity check */\n                if (attrs.bbScrollIntoView) {\n                    scope.$watch(attrs.bbScrollIntoView, function (newValue, oldValue) {\n                        if (newValue && newValue !== oldValue) {\n                            doScroll(true);\n                        }\n                    });\n                }\n            }\n\n            return {\n                link: link,\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular, jQuery */\n\n/** @module Search Field\n@icon search\n@summary The search field builds single- and multi-search fields for local searches or for remote searches of larger datasets on a server.\n @description The search field directive allows you to easily build single- and multi-search fields that can be filtered as the user types. This directive uses all the syntax and settings of the `ui-select` third party control (see the `ui-select` documentation for more information, options, and settings).\n\nThe search field can be used for a local search (i.e. dropdown box where you have all the data already loaded), or it can be used for a remote search to search larger datasets on a server.  Both types support single- and multi-search capabilities.\n\n### Dependencies ###\n\n - **[ui-select](https://github.com/angular-ui/ui-select) (0.11.0 or higher - .js and .css files needed)**\n\n---\n\n### Local Search Settings ###\n\n - `ui-select-choices`\n   - `repeat` Required. An expression that defines the array of choices.  If a `filter` is included, then the choices will be filtered by what the user types, otherwise it will behave just a like a normal dropdown box.  See the `ui-select` documentation for more information.\n\n### Remote Search Settings ###\n\n - `ui-select-choices`\n   - `repeat` Required. An expression that defines the array of choices that will be populated from a remote server.  See the `ui-select` documentation for more information.\n   - `refresh` Required. A function call to load the results from a remote server. The function should at least take `$select.search` as a parameter, and it should guard against calling the remote server with an empty search value.\n     - ***NOTE:** The search control needs to know when you get results back from the server in order to properly display a \"no results\" message when necessary.  In your refresh function, after you receive and store the results, then you MUST fire the `bbSearchFinished` event like this:  `$scope.$broadcast('bbSearchFinished');`.*\n   - `refresh-delay` Optional. The delay in milliseconds after the last keystroke before kicking off the remote search. Default from `ui-select` is 1000 ms.\n\n### Single Search Settings ###\n\n - `ui-select-match` The text of the selection to display in the search field. Note: The value should use the `$select.selected` syntax.\n   - `allow-clear` Optional. Allows you to clear the current value by rendering an \"X\" button.\n   - `placeholder` Optional. Default text when no selection is present.\n\n### Multiple Search Settings ###\n\n - `ui-select`\n   - `multiple` Required. Styles the search to accept multiple search values.\n - `ui-select-match` The text of the selection to display in the search field. Note: The value should use the `$item` syntax.\n   - `placeholder` Optional. Default text when no selection is present.\n */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.searchfield', ['sky.resources'])\n        .directive('uiSelectMatch', ['$timeout', function ($timeout) {\n            return {\n                restrict: 'EA',\n                replace: false,\n                require: '^uiSelect',\n                link: function (scope, element, attrs, $select) {\n                    var selectContainerEl,\n                        origSizeSearchInputFunc,\n                        matchEl,\n                        windowResizeTimeout;\n\n                    function sizeMatchItems() {\n                        //The main logic flow for this function was taken from the ui-select's \"sizeSearchInput()\" function.\n                        //Some things are done below in order to give the tags time to render before we try to fix any\n                        //text overflow issues that may be present.\n\n                        function updateIfVisible(containerOffsetWidth) {\n                            var visible = (containerOffsetWidth > 0);\n\n                            if (visible) {\n                                //Get the container width minus any padding\n                                containerOffsetWidth -= containerOffsetWidth - angular.element(selectContainerEl).width();\n\n                                //For each match item, set the properly width so that text overflows properly\n                                matchEl.find('.ui-select-match-item').css({\n                                    overflow: 'hidden',\n                                    textOverflow: 'ellipsis',\n                                    maxWidth: containerOffsetWidth\n                                });\n                            }\n\n                            return visible;\n                        }\n\n                        $timeout(function () { //Give tags time to render correctly\n                            updateIfVisible(selectContainerEl.offsetWidth);\n                        });\n                    }\n\n                    if ($select.multiple) {\n                        matchEl = element;\n                        selectContainerEl = matchEl.parent().parent()[0];\n                        origSizeSearchInputFunc = $select.sizeSearchInput;\n\n                        //Hook into the ui-select function that controls resizing for multi search\n                        $select.sizeSearchInput = function () {\n                            origSizeSearchInputFunc();\n                            sizeMatchItems();\n                        };\n\n                        //Resize any tags on load\n                        sizeMatchItems();\n\n                        $(window).on('resize.searchField' + scope.$id, function () {\n                            $timeout.cancel(windowResizeTimeout);\n\n                            windowResizeTimeout = $timeout(function () {\n                                sizeMatchItems();\n                            }, 250);\n                        });\n\n                        scope.$on('$destroy', function () {\n                            $(window).off('resize.searchField' + scope.$id);\n                        });\n                    }\n                }\n            };\n        }])\n        .directive('uiSelectChoices', ['$templateCache', 'bbResources', function ($templateCache, bbResources) {\n            return {\n                restrict: 'EA',\n                replace: false,\n                require: '^uiSelect',\n                link: function (scope, element, attrs, $select) {\n                    var searching,\n                        selectContainerEl,\n                        msgEl;\n\n                    function updateUIForSearch(showSearchingMsg) {\n                        var msg;\n\n                        // Remove the no results message if it's currently displayed\n                        if (msgEl) {\n                            msgEl.remove();\n                            msgEl = null;\n                        }\n\n                        if (searching && $select.items.length === 0) {\n                            // Display the \"Searching...\" or \"No results...\" message - only when we have empty results because we\n                            //don't want the message to popup over a list of results as the user types.\n                            msg = showSearchingMsg ? bbResources.searchfield_searching : bbResources.searchfield_no_records;\n\n                            msgEl = angular.element($templateCache.get('sky/templates/searchfield/choices.html'));\n                            msgEl.find('.bb-searchfield-no-records').text(msg);\n\n                            selectContainerEl.append(msgEl);\n                        }\n                    }\n\n                    function clearResults() {\n                        searching = false;\n                        $select.items = []; // Clear out current result set\n                        updateUIForSearch();\n                    }\n\n                    //Remote Searches Only\n                    //If the refresh attribute is set the control is being used as a remote search\n                    if (attrs.refresh) {\n                        selectContainerEl = angular.element(element).parent();\n                        searching = false;\n\n                        //Watch when the search field is opened/closed so that we can update the UI and remove\n                        //the no results message, and remove the results for the next search.\n                        scope.$watch('$select.open', function () {\n                            clearResults();\n                        });\n\n                        //Watch the search results collection for any changes.\n                        //NOTE: This does NOT fire when the collection is empty and the search result\n                        //comes back empty.  To handle that case, see the \"bbSearchFinished\" event below.\n                        scope.$watchCollection('$select.items', function () {\n                            updateUIForSearch();\n                        });\n\n                        //This event should be fired by the consuming code after it gets and stores the results\n                        //from the remote server.  This allows us to handle the problem above where $watchCollection\n                        //doesn't fire when the collection is empty and the results also come back empty.\n                        scope.$on(\"bbSearchFinished\", function () {\n                            updateUIForSearch();\n                        });\n\n                        //Watch all changes to the search text that the user is typing.\n                        scope.$watch('$select.search', function (search) {\n                            searching = (search && search.length > 0);\n\n                            if (searching) {\n                                //Initially shows the \"Searching...\" message until results come back from the remote server\n                                updateUIForSearch(true);\n                            } else {\n                                clearResults();\n                            }\n                        });\n                    }\n                }\n            };\n        }]);\n}(jQuery));\n","/*jslint nomen: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Tab Scroll\n@icon arrows-h\n@summary The tab scroll component makes a row of tabs horizontally scrollable when the row is wider than its container.\n @description ### Dependencies ###\n\nThe `bb-tab-scroll` directive causes the row of tabs to be horizontally scrollable when the width of the tabs exceeds the width of its container.  The tabs are also animated to indicate to the user that they can be scrolled.\n\n### Tab Scroll Settings ###\n\n - `bb-tab-scroll-ready` Used to indicate the tabs are ready to be animated.  This should be used when the tabs are loaded dynamically based on some asynchronous logic like loading data from a web server.\n\n */\n\n(function ($) {\n    'use strict';\n\n    var tabScrollId = 0;\n    angular.module('sky.tabscroll', ['ui.bootstrap.tabs'])\n        .directive('bbTabScroll', ['$timeout', '$window', function ($timeout, $window) {\n            return {\n                link: function (scope, el, attrs) {\n                    var lastWindowResizeTimeout,\n                        lastWindowWidth;\n\n                    function getNavTabsEl() {\n                        return el.children('.nav-tabs');\n                    }\n\n                    function getScrollLeftForEl(navTabsEl, selector) {\n                        var elWidth,\n                            scrollLeft,\n                            tabEl,\n                            tabLeft,\n                            tabPosition,\n                            tabRight;\n\n                        if (angular.isString(selector)) {\n                            tabEl = navTabsEl.children(selector);\n                        } else {\n                            tabEl = selector;\n                        }\n\n                        tabPosition = tabEl.position();\n\n                        if (tabPosition) {\n                            tabLeft = tabPosition.left;\n\n                            if (tabLeft < 0) {\n                                scrollLeft = tabLeft + navTabsEl[0].scrollLeft;\n                            } else {\n                                elWidth = el.width();\n                                tabRight = tabLeft + tabEl.width();\n\n                                if (tabRight > elWidth) {\n                                    scrollLeft = navTabsEl[0].scrollLeft + (tabRight - elWidth);\n                                }\n                            }\n                        }\n\n                        return scrollLeft;\n                    }\n\n                    function getScrollLeft(navTabsEl) {\n                        return getScrollLeftForEl(navTabsEl, '.active') || 0;\n                    }\n\n                    function stopAnimateTabScroll(navTabsEl) {\n                        navTabsEl.stop(true, true);\n                    }\n\n                    function animateTabScroll(navTabsEl, scrollLeft, duration) {\n                        stopAnimateTabScroll(navTabsEl);\n\n                        navTabsEl\n                            .animate(\n                                {\n                                    scrollLeft: scrollLeft\n                                },\n                                {\n                                    duration: duration || 500\n                                }\n                            );\n                    }\n\n                    function showTabsCanScroll(force) {\n                        var hasOverflow,\n                            navTabsEl = getNavTabsEl(),\n                            overflowOccurred,\n                            scrollLeft;\n\n                        /*istanbul ignore else: sanity check */\n                        if (navTabsEl.length > 0) {\n                            hasOverflow = angular.isDefined(getScrollLeftForEl(navTabsEl, 'li:first')) ||\n                                angular.isDefined(getScrollLeftForEl(navTabsEl, 'li:last'));\n\n                            force = force || angular.isDefined(getScrollLeftForEl(navTabsEl, '.active'));\n\n                            overflowOccurred = !showTabsCanScroll.previousHadOverflow && hasOverflow;\n\n                            if (force || overflowOccurred) {\n                                scrollLeft = getScrollLeft(navTabsEl);\n\n                                stopAnimateTabScroll(navTabsEl);\n\n                                if (overflowOccurred) {\n                                    navTabsEl.scrollLeft(navTabsEl[0].scrollWidth - el.width());\n                                }\n\n                                animateTabScroll(navTabsEl, scrollLeft);\n                            }\n                        }\n\n                        showTabsCanScroll.previousHadOverflow = hasOverflow;\n                    }\n\n                    tabScrollId++;\n\n                    el.addClass('bb-tab-scroll');\n\n                    if (attrs.bbTabScrollReady) {\n                        scope.$watch(attrs.bbTabScrollReady, function (newValue, oldValue) {\n                            if (newValue && newValue !== oldValue) {\n                                showTabsCanScroll(true);\n                            }\n                        });\n                    }\n\n                    lastWindowWidth = $($window).width();\n\n                    // Show initial scroll animation whenever the window width changes.\n                    $($window).on('resize.tabscroll' + tabScrollId, function () {\n                        var windowWidth = $($window).width();\n\n                        if (lastWindowWidth !== windowWidth) {\n                            $timeout.cancel(lastWindowResizeTimeout);\n\n                            lastWindowResizeTimeout = $timeout(function () {\n                                showTabsCanScroll();\n                            }, 250);\n                        }\n\n                        lastWindowWidth = windowWidth;\n                    });\n\n                    // Ensure that when a tab is clicked the tab is fully visible and not partially\n                    // scrolled off either side.\n                    el.on('click', '> .nav-tabs > li', function () {\n                        var navTabsEl,\n                            scrollLeft;\n\n                        navTabsEl = getNavTabsEl();\n                        scrollLeft = getScrollLeftForEl(navTabsEl, $(this));\n\n                        if (angular.isDefined(scrollLeft)) {\n                            animateTabScroll(navTabsEl, scrollLeft, 250);\n                        }\n                    });\n\n                    el.on('$destroy', function () {\n                        $($window).off('.tabscroll' + tabScrollId);\n                    });\n                }\n            };\n        }]);\n}(jQuery));\n","/*jslint nomen: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Tabset\n@icon folder-open-o\n@summary The tabset module contains directives for enhancing ui-bootstrap tabs.\n @description ### Additional Dependencies ###\n\n### Tabset Options ###\n\nThe `bb-tabset-add` attribute creates an add button in the tab area and takes a callback that will be executed when the add button is clicked.\n\nThe `bb-tabset-open` attribute creates an open button in the tab area and takes a callback that will be executed when the open button is clicked.\n\n### Collapsing Tabs ###\n\nTo make tabs collapse into a dropdown on a small (mobile device) screen, use the `bb-tabset-collapsible` attribute on a ui-bootstrap `tabset`.\nYou must then use the `bb-tab-collapse-header` attribute on your ui-bootstrap `tab` to specify a title for the dropdown that will display when a tab is active.\n\n### Tab Close Icon ###\n\nIf you wish to add a close icon to a tab, just add the `bb-tab-close` class to the ui-bootstrap `tab` element, and add an `i` element with the `bb-tab-close-icon` class inside of the ui-bootstrap `tab-heading` directive.\n\n */\n(function ($) {\n    'use strict';\n\n    var DROPDOWN_CARET_WIDTH = 45,\n        TAB_PADDING = 15;\n\n    function getTemplate($templateCache, name) {\n        return $templateCache.get('sky/templates/tabset/' + name + '.html');\n    }\n\n    function tabset($compile, $templateCache) {\n        return {\n            link: function ($scope, el, attr) {\n                var ulEl,\n                    liEl;\n\n                if (angular.isDefined(attr.bbTabsetAdd) || angular.isDefined(attr.bbTabsetOpen)) {\n                    ulEl = el.find('ul');\n                    liEl = angular.element(getTemplate($templateCache, 'tabbutton'));\n                    ulEl.append(liEl);\n\n                    if (angular.isDefined(attr.bbTabsetAdd)) {\n                        liEl.append($compile(getTemplate($templateCache, 'addbutton'))($scope));\n\n                        $scope.bbTabAdd = function () {\n                            $scope.$eval(attr.bbTabsetAdd);\n                        };\n                    }\n\n                    if (angular.isDefined(attr.bbTabsetOpen)) {\n                        liEl.append($compile(getTemplate($templateCache, 'openbutton'))($scope));\n\n                        $scope.bbTabOpen = function () {\n                            $scope.$eval(attr.bbTabsetOpen);\n                        };\n                    }\n                }\n            }\n        };\n    }\n\n    tabset.$inject = ['$compile', '$templateCache'];\n\n    function BBTabsetCollapsibleController($scope) {\n        var self = this;\n\n        self.updateCollapsibleHeader = function (header) {\n            $scope.bbTabsetOptions.selectedTabHeader = header;\n        };\n\n        self.tabAdded = function () {\n            if ($scope.bbTabsetOptions.isSmallScreen) {\n                $scope.setupCollapsibleTabs($scope.bbTabsetOptions.isSmallScreen && $scope.bbTabsetOptions.tabCount > 1);\n            }\n            $scope.bbTabsetOptions.tabCount++;\n        };\n\n        self.tabRemoved = function () {\n            $scope.bbTabsetOptions.tabCount--;\n        };\n\n    }\n\n    BBTabsetCollapsibleController.$inject = ['$scope'];\n\n    function bbTabsetCollapsible($compile, $templateCache, $window, bbMediaBreakpoints) {\n        return {\n            restrict: 'A',\n            controller: BBTabsetCollapsibleController,\n            link: function ($scope, el) {\n                var lastWindowWidth,\n                    tabCollapseId = $scope.$id;\n\n\n                function getBootstrapTabs() {\n                    return el.find('li:not(.bb-tab-button):not(.bb-tabset-dropdown)');\n                }\n\n                function getDropdownEl() {\n                    return angular.element(getTemplate($templateCache, 'dropdown'));\n                }\n\n                function setTabMaxWidth() {\n                    //later this will resize tabs to fit the window\n                    el.find('ul.nav-tabs li a').css('max-width', '');\n                }\n\n                function setDropdownMaxWidth() {\n                    var availableWidth,\n                        addOpenWidth = 0,\n                        addOpenButtonEl,\n                        i,\n                        dropdownTextMaxWidth;\n\n                    availableWidth = el.width();\n\n                    addOpenButtonEl = el.find('.bb-tab-button-wrap');\n\n                    for (i = 0; i < addOpenButtonEl.length; i++) {\n                        addOpenWidth += addOpenButtonEl.eq(i).width();\n                    }\n\n                    dropdownTextMaxWidth = availableWidth - addOpenWidth - DROPDOWN_CARET_WIDTH - TAB_PADDING;\n\n                    el.find('.bb-tab-header-text').css('max-width', (dropdownTextMaxWidth.toString() + 'px'));\n\n                    el.find('.bb-tabset-dropdown ul.dropdown-menu li a').css('max-width', (availableWidth.toString() + 'px'));\n\n                }\n\n                function setupCollapsibleTabs(isCollapsed) {\n                    var tabsEl,\n                        dropdownContainerEl,\n                        ulEl,\n                        dropdownButtonsEl;\n\n                    tabsEl = getBootstrapTabs();\n                    dropdownButtonsEl = el.find('.bb-tab-button-wrap');\n\n                    ulEl = el.find('ul:not(.bb-tabset-dropdown)');\n                    if (isCollapsed) {\n                        dropdownContainerEl = el.find('.bb-tabset-dropdown');\n\n                        ulEl.addClass('dropdown-menu');\n                        ulEl.removeClass('nav');\n                        ulEl.removeClass('nav-tabs');\n                        dropdownContainerEl.append(ulEl);\n                        dropdownContainerEl.append(dropdownButtonsEl);\n                        setDropdownMaxWidth();\n                    } else {\n                        ulEl.removeClass('dropdown-menu');\n                        ulEl.addClass('nav');\n                        ulEl.addClass('nav-tabs');\n\n                        el.prepend(ulEl);\n\n                        ulEl.find('.bb-tab-button').append(dropdownButtonsEl);\n                        setTabMaxWidth();\n                    }\n                }\n\n                $scope.setupCollapsibleTabs = setupCollapsibleTabs;\n\n                function mediaBreakpointHandler(newBreakpoints) {\n                    $scope.bbTabsetOptions.isSmallScreen = newBreakpoints.xs;\n                    setupCollapsibleTabs(newBreakpoints.xs && ($scope.bbTabsetOptions.tabCount > 1));\n                }\n\n                $scope.bbTabsetOptions = {\n                    isSmallScreen: false,\n                    tabCount: 0\n                };\n\n                el.prepend($compile(getDropdownEl())($scope));\n\n                $scope.$watch('bbTabsetOptions.tabCount', function (newValue) {\n                    if ($scope.bbTabsetOptions.isSmallScreen) {\n                        if (newValue && newValue > 1) {\n                            setupCollapsibleTabs(true);\n                        } else {\n                            setupCollapsibleTabs(false);\n                        }\n                    }\n\n                });\n\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                // Show initial scroll animation whenever the window width changes.\n                $($window).on('resize.tabcollapse' + tabCollapseId, function () {\n                    var windowWidth = $($window).width();\n\n                    if (lastWindowWidth !== windowWidth && $scope.bbTabsetOptions.isSmallScreen && $scope.bbTabsetOptions.tabCount > 1) {\n                        setDropdownMaxWidth();\n                    }\n\n                    lastWindowWidth = windowWidth;\n                });\n\n                $scope.$on('$destroy', function () {\n                    bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                    $($window).off('.tabcollapse' + tabCollapseId);\n                });\n            }\n        };\n    }\n\n    bbTabsetCollapsible.$inject = ['$compile', '$templateCache', '$window', 'bbMediaBreakpoints'];\n\n    function collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading) {\n        //get ui-bootstrap tab scope\n        var tabScope = el.isolateScope();\n        $scope.$watch(function () {\n            return tabScope.active;\n        }, function (active) {\n            if (active) {\n                bbTabsetCollapsibleCtrl.updateCollapsibleHeader(getTabHeading());\n            }\n        });\n\n        $scope.$watch(function () {\n            return getTabHeading();\n        }, function (collapseTitle) {\n            if (tabScope.active) {\n                bbTabsetCollapsibleCtrl.updateCollapsibleHeader(collapseTitle);\n            }\n        });\n\n        bbTabsetCollapsibleCtrl.tabAdded();\n\n        $scope.$on('$destroy', function () {\n            bbTabsetCollapsibleCtrl.tabRemoved();\n        });\n    }\n\n    function bbTabCollapseHeader() {\n        return {\n            require: '^bbTabsetCollapsible',\n            link: function ($scope, el, attr, bbTabsetCollapsibleCtrl) {\n                function getTabHeading() {\n                    return $scope.$eval(attr.bbTabCollapseHeader);\n                }\n\n                collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading);\n            }\n        };\n    }\n\n    function tab() {\n        return {\n            require: '?^bbTabsetCollapsible',\n            link: function ($scope, el, attr, bbTabsetCollapsibleCtrl) {\n                var tabScope = el.isolateScope();\n\n                function getTabHeading() {\n                    return tabScope.heading;\n                }\n\n                if (bbTabsetCollapsibleCtrl !== null && !angular.isDefined(attr.bbTabCollapseHeader)) {\n                    collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading);\n                }\n            }\n        };\n    }\n\n    angular.module('sky.tabset', ['ui.bootstrap.tabs', 'sky.mediabreakpoints'])\n        .directive('uibTabset', tabset)\n        .directive('tabset', tabset)\n        .directive('bbTabsetCollapsible', bbTabsetCollapsible)\n        .directive('bbTabCollapseHeader', bbTabCollapseHeader)\n        .directive('tab', tab)\n        .directive('uibTab', tab);\n\n}(jQuery));\n","/*global angular */\n\n/** @module Tab Sref\n@icon link\n@summary The tab sref component provides tab info in page URLs so that hyperlinks can point to specific tabs.\n @description The tab sref directive adds the ability to change the page's URL when the user clicks a tab. This also allows for users to navigate straight to a selected tab from a hyperlink.\n\n### Dependencies ###\n\n - **[Angular UI Router](https://github.com/angular-ui/ui-router) (0.2.13 or higher)**\n\n---\n\n### Tab Sref Settings ###\n\n - `bb-tab-sref` The name of the state where the application should navigate when the tab is selected.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.tabsref', ['ui.bootstrap.tabs'])\n        .directive('bbTabSref', ['$rootScope', '$state', '$timeout', function ($rootScope, $state, $timeout) {\n            return {\n                require: ['^?tabset', '^?uibTabset'],\n                link: function (scope, el, attrs, controllers) {\n                    var active = attrs.active,\n                        sref = attrs.bbTabSref,\n                        stateChangeDeregistration,\n                        tabsetCtrl;\n\n                    tabsetCtrl = controllers[0] !== null ? controllers[0] : controllers[1];\n                    \n\n                    function checkCurrentState() {\n                        if ($state.is(sref)) {\n                            tabsetCtrl.select(el.isolateScope());\n                        }\n                    }\n\n                    /*istanbul ignore else sanity check */\n                    if (active && sref) {\n                        checkCurrentState();\n\n                        stateChangeDeregistration = $rootScope.$on('$stateChangeSuccess', function () {\n                            checkCurrentState();\n                        });\n\n                        scope.$watch(active, function (newValue) {\n                            if (newValue && !$state.is(sref)) {\n                                // JPB - Delay calling state.go because the state change will fail\n                                // if it is triggered while in the middle of processing of another state change.\n                                // This can happen if you browse to the page without specifying the state of a particular tab\n                                // and then this code tries to switch you over to the state of the first tab.\n                                $timeout(function () {\n                                    $state.go(sref);\n                                });\n                            }\n                        });\n\n                        scope.$on('$destroy', function () {\n                            stateChangeDeregistration();\n                        });\n                    }\n                }\n            };\n        }]);\n}());\n","/*jslint nomen: true, plusplus: true */\n/*global angular */\n\n/** @module Template\n@icon building-o\n@summary The template component places formatted text inside a tokenized string template.\n @description The template directives allow you to place formatted text inside a tokenized string template. This avoids the need to build HTML manually on the server or in a custom directive where HTML injection bugs are common.\nThe string template is specified with the `bb-template` attribute, and child elements with the `bb-template-item` attribute are the elements that contain the formatted text.\n\n### Template Settings ###\n\n - `bb-template` The tokenized string that represents the template. Tokens use the {n} notation where n is the ordinal of the item to replace the token.\n  - `bb-template-item` \n */\n\n(function () {\n    'use strict';\n\n    var BB_TEMPLATE_RESULT = 'bb-template-result';\n\n    function createItemClassName(index) {\n        return 'bb-template-item-' + index;\n    }\n\n    function insertTemplateItems(templateEl, items) {\n        var i,\n            n;\n\n        // Move each item into the template element.\n        for (i = 0, n = items.length; i < n; i++) {\n            items[i].appendTo(templateEl.find('.' + createItemClassName(i)));\n        }\n    }\n\n    angular.module('sky.templating', ['sky.format'])\n        .directive('bbTemplate', ['bbFormat', function (bbFormat) {\n            function createTemplateHtml(template) {\n                // The template string itself should not contain HTML, so be sure to escape it to avoid HTML injection.\n                template = bbFormat.escape(template);\n\n                // Replace {0}, {1}, etc. with span elements that will serve as placeholders for the item elements.\n                return template.replace(/\\{(\\d+)\\}/g, function (match, number) {\n                    /*jslint unparam: true */\n                    return '<span class=\"' + createItemClassName(number) + '\"></span>';\n                });\n            }\n\n            return {\n                controller: ['$scope', function ($scope) {\n                    $scope.items = [];\n\n                    this.addItem = function (item) {\n                        $scope.items.push(item);\n                    };\n                }],\n                link: function (scope, el) {\n\n                    scope.$watch('template', function (newValue) {\n                        var newEl,\n                            oldEl = el.find('.' + BB_TEMPLATE_RESULT),\n                            templateHtml;\n\n                        if (angular.isDefined(newValue)) {\n                            templateHtml = createTemplateHtml(newValue);\n\n                            // Create and append a new template item, move the existing items to it, then\n                            // destroy the old items.  Doing it in this order should ensure any elements\n                            // with bindings remain bound after being moved.\n                            newEl = angular.element('<span class=\"' + BB_TEMPLATE_RESULT + '\">' + templateHtml + '</span>')\n                                .appendTo(el);\n\n                            insertTemplateItems(newEl, scope.items);\n\n                            // Remove old elements if they exist.\n                            oldEl.remove();\n                        }\n                    });\n                },\n                scope: {\n                    template: '=bbTemplate'\n                },\n                restrict: 'A'\n            };\n        }])\n        .directive('bbTemplateItem', function () {\n            return {\n                link: function (scope, el, attr, bbFormatCtrl) {\n                    /*jslint unparam: true */\n                    bbFormatCtrl.addItem(el);\n                },\n                require: '^bbTemplate',\n                restrict: 'AE'\n            };\n        });\n}());\n","/*jslint plusplus: true */\n\n/*global angular */\n\n/** @module Text Expand\n@icon text-height\n@summary The text expand component truncates long text with an ellipsis and a link that users can click to expand the text.\n @description The texteExpand directive truncates long text with an ellipsis and a link that allows the user to fully expand the text. If the text length falls below the specified threshold then no action is taken. The 'See more' link will expand the text inline if the length of the text is below the specified expanded length limit and if the number of newlines in the text is below the specified expanded newline limit, otherwise the link will open the text in a modal view.\n\nNote that collapsed text will have newlines removed. Also, if one or more newlines are detected, the text is automatically collapsed regardless of the total length of the text.\n\n### Text Expand Settings ###\n\n - `bb-text-expand` The text to truncate.\n - `bb-text-expand-max-length` *(Default: 200)* The number of characters to show before truncating the text. The directive will attempt to look back up to 10 characters for a space and truncate there in order to avoid truncating in the middle of a word.\n - `bb-text-expand-max-expanded-length` *(Default: 600)* The maximum number of characters to show in the inline expanded view. If there are more characters in the content, then a modal view with the content will be displayed when the 'See more' link is clicked.\n - `bb-text-expand-max-expanded-newlines` *(Default: 2)* The maximum number of newline characters to show in the inline expanded view. If there are more newline characters in the content, then a modal view with the content will be displayed when the 'See more' link is clicked.\n - `bb-text-expand-modal-title` The title to display in the modal expanded view.\n\nThe Text Expand Repeater directive truncates a list of repeater items and will initially display a set number of items. Any items over the set maximum limit are hidden until the user elects to expand the list.\n\n### Text Expand Repeater Settings ###\n\n- `bb-text-expand-repeater-max` The maximum number of items to show before truncating the repeater list.\n- `bb-text-expand-repeater-data` The name of the property containing the repeater data.\n */\n\n(function () {\n    'use strict';\n\n    var modules = [\n            'sky.resources',\n            'sky.scrollintoview',\n            'sky.modal'\n        ];\n\n    function getNewlineCount(value) {\n        var matches = value.match(/\\n/gi);\n\n        if (matches) {\n            return matches.length;\n        }\n\n        return 0;\n    }\n\n    function createEl($templateCache, templateName) {\n        return angular.element($templateCache.get('sky/templates/textexpand/' + templateName + '.html'));\n    }\n\n    function BBTextExpandController(textExpandContent, headerContent) {\n        var self = this;\n        self.textExpandContent = textExpandContent;\n        self.headerContent = headerContent;\n    }\n\n    BBTextExpandController.$inject = ['textExpandContent', 'headerContent'];\n\n    angular.module('sky.textexpand', modules)\n        .directive('bbTextExpandRepeater', ['$templateCache', 'bbResources', function ($templateCache, bbResources) {\n            function link(scope, el, attrs) {\n                scope.$watch(attrs.bbTextExpandRepeaterData, function (data) {\n                    var length,\n                        maxToShow,\n                        seeMoreEl,\n                        seeMoreText = bbResources.text_expand_see_more,\n                        seeLessText = bbResources.text_expand_see_less;\n\n                    if (data) {\n                        length = data.length;\n                        maxToShow = +attrs.bbTextExpandRepeaterMax;\n                        seeMoreEl = createEl($templateCache, 'seemore').text(seeMoreText);\n\n                        if (length > maxToShow) {\n                            el.find('li:gt(' + (maxToShow - 1) + ')').addClass('bb-text-expand-toggle-li').hide().end().append(\n                                seeMoreEl.click(function () {\n                                    seeMoreEl.siblings('.bb-text-expand-toggle-li').toggle(100);\n                                    if (seeMoreEl.hasClass('bb-text-expand-see-more')) {\n                                        seeMoreEl.text(seeLessText);\n                                    } else {\n                                        seeMoreEl.text(seeMoreText);\n                                    }\n\n                                    seeMoreEl.toggleClass('bb-text-expand-see-more');\n\n                                    return false;\n                                })\n                            );\n                        }\n                    }\n                });\n            }\n\n            return {\n                link: link\n            };\n        }])\n        .directive('bbTextExpand', ['$templateCache', 'bbResources', 'bbScrollIntoView', 'bbModal', function ($templateCache, bbResources, bbScrollIntoView, bbModal) {\n            function link(scope, el, attrs) {\n                var isExpanded,\n                    maxLength = +attrs.bbTextExpandMaxLength || 200,\n                    maxExpandedLength = +attrs.bbTextExpandMaxExpandedLength || 600,\n                    maxNewlines = 1,\n                    maxExpandedNewlines = +attrs.bbTexExpandMaxExpandedNewlines || 3;\n\n                function getTruncatedText(value, length, newlines) {\n                    var i;\n\n                    if (newlines && getNewlineCount(value) >= newlines) {\n                        value = value.replace(/\\s+/gi, ' ');\n                    }\n\n                    // Jump ahead one character and see if it's a space, and if it isn't,\n                    // back up to the first space and break there so a word doesn't get cut\n                    // in half.\n                    for (i = length; i > length - 10; i--) {\n                        if (/\\s/.test(value.charAt(i))) {\n                            length = i;\n                            break;\n                        }\n                    }\n\n                    return value.substr(0, length);\n                }\n\n                scope.$watch(attrs.bbTextExpand, function (newValue) {\n                    var collapsedText,\n                        expandedText,\n                        containerEl,\n                        currentHeight,\n                        ellipsisEl,\n                        expandEl,\n                        newHeight,\n                        textEl,\n                        spaceEl;\n\n                    function animateText(previousText, newText, newExpandText, showEllipsis) {\n                        // Measure the current height so we can animate from it.\n                        currentHeight = containerEl.height();\n\n                        expandEl.text(newExpandText);\n                        textEl.text(newText);\n\n                        newHeight = containerEl.height();\n\n                        if (newHeight < currentHeight) {\n                            // The new text is smaller than the old text, so put the old text back before doing\n                            // the collapse animation to avoid showing a big chunk of whitespace.\n                            textEl.text(previousText);\n                        }\n\n                        ellipsisEl.text(showEllipsis ? '...' : '');\n\n                        containerEl\n                            .height(currentHeight)\n                            .animate(\n                                {\n                                    height: newHeight\n                                },\n                                250,\n                                function () {\n                                    if (newHeight < currentHeight) {\n                                        textEl.text(newText);\n                                    }\n                                    containerEl.css('height', 'auto');\n                                }\n                            );\n                    }\n\n                    containerEl = createEl($templateCache, 'container');\n\n                    /* istanbul ignore else: nothing happens when there's no value, so there's nothing to test. */\n                    if (newValue) {\n                        collapsedText = getTruncatedText(newValue, maxLength, maxNewlines);\n                        expandedText = getTruncatedText(newValue, maxExpandedLength, maxExpandedNewlines); // Get text based on max expanded length\n\n                        if (collapsedText !== newValue) {\n                            isExpanded = true;\n\n                            textEl = createEl($templateCache, 'text').text(collapsedText);\n                            ellipsisEl = createEl($templateCache, 'ellipsis');\n                            spaceEl = createEl($templateCache, 'space');\n                            expandEl = createEl($templateCache, 'seemore').text(bbResources.text_expand_see_more);\n\n\n                            containerEl\n                                .empty()\n                                .append(textEl)\n                                .append(ellipsisEl)\n                                .append(spaceEl)\n                                .append(expandEl);\n\n                            if (getNewlineCount(newValue) >= maxExpandedNewlines || newValue.length > maxExpandedLength) {\n                                expandEl.on('click', function () {\n                                    bbModal.open({\n                                        templateUrl: 'sky/templates/textexpand/expandmodal.html',\n                                        controller: BBTextExpandController,\n                                        controllerAs: 'expandCtrl',\n                                        resolve: {\n                                            textExpandContent: function () {\n                                                return newValue;\n                                            },\n                                            headerContent: function () {\n                                                return scope.$eval(attrs.bbTextExpandModalTitle) || bbResources.text_expand_modal_title;\n                                            }\n                                        }\n                                    });\n                                });\n                                \n                            } else {\n                                expandEl.on('click', function () {\n                                    if (isExpanded) {\n                                        animateText(collapsedText, expandedText, bbResources.text_expand_see_less, (expandedText !== newValue));\n                                    } else {\n                                        animateText(expandedText, collapsedText, bbResources.text_expand_see_more, true);\n                                    }\n\n                                    bbScrollIntoView(expandEl);\n                                    isExpanded = !isExpanded;\n\n                                    return false;\n                                });\n                            }\n\n\n                        } else {\n                            containerEl.text(newValue);\n                        }\n                    }\n\n                    el.empty().append(containerEl);\n\n                    /* istanbul ignore next: these internal variables can't be tested. */\n                    el.on('$destroy', function () {\n                        containerEl = null;\n                        expandEl = null;\n                        textEl = null;\n                        spaceEl = null;\n                    });\n                });\n            }\n\n            return {\n                link: link\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Tile\n@icon th-large\n@summary The tile provides a collapsible container that is the building block for pages and forms in Sky UX applications.\n @description The `bb-tile` directive creates a collapsible container and is the bulding block for pages and forms in a Sky UX application. The `bb-tile-section` directive is used to create padded sections inside a `bb-tile` element. Additionally, the `bb-tile-header-content` directive may be placed inside the `bb-tile` directive to add summary information to the tile. If you simply need to show a check mark indicating the tile has data, you can add a `bb-tile-header-check` element to the `bb-tile-header-content` element.\n\nWhen used on forms, it automatically adjusts the background color on the form and shrinks the tile header.\n\n### Tile Settings ###\n\n - `bb-tile-header` The header text for the tile.\n - `bb-tile-settings-click` A function to call when the user clicks the settings button (indicated by a wrench icon) in the tile header.  If not specified, the settings button is not displayed.\n - `bb-tile-collapsed` (optional) binds to the collapsed state of the tile so that the tile can respond to user setting collapsed state.\n\n### Tile Dashboard Directive ###\n\nThe `bb-tile-dashboard` directive allows you to have a set of tiles within a page which have controllable layouts and collapsed states. It depends on [angular-ui router](https://github.com/angular-ui/ui-router/wiki) to define states that map to tile controllers and templates.\n\n### Tile Dashboard Settings ###\n\n- `bb-tiles` An array of tile objects to be contained in the dashboard. Contains the following object:\n    - `id` Unique ID for the tile.\n    - `view_name` The name of the view for the tile defined in the ui-router `$stateProvider`.\n    - `collapsed` True if the tile should be collapsed, false otherwise.\n    - `collapsed_small` True if the tile should be collapsed in small screen state, false otherwise.\n- `bb-layout` An object containing information about how the tiles should be organized within the tile dashboard. Contains the following:\n    - `one_column_layout` Array of tile ids that correspond with how the tiles should be ordered in a one column layout (small screen) ex: `layout.one_column_layout = ['Tile1', 'Tile2'];`.\n    - `two_column_layout` Array that corresponds with how tiles should be ordered in a two column layout. ex: `layout.two_column_layout = [['Tile1'], ['Tile2']];` where `Tile1` is in the left hand column and `Tile2` is in the right hand column.\n- `bb-tile-dashboard-all-collapsed` If set to true, then collapses all tiles in the dashboard, if set to false, expands all tiles in the dashboard.\n\n */\n\n(function () {\n    'use strict';\n\n    //Removes the specified tiles from the source container and appends them\n    //in the specified order to the target container.\n    function moveTilesToContainer(sourceContainer, targetContainer, tiles) {\n        angular.forEach(tiles, function (tileId) {\n            var tile = sourceContainer.find('[data-tile-id=\"' + tileId + '\"]');\n            targetContainer.append(tile);\n        });\n    }\n\n    //Returns an array of tile names in the order they appear in the specified container.\n    function parseTileOrder(container) {\n        var tiles = [];\n        container.find('[data-tile-id]').each(function () {\n            tiles.push(angular.element(this).data('tile-id'));\n        });\n        return tiles;\n    }\n\n    angular.module('sky.tiles', ['sky.mediabreakpoints'])\n        .directive('bbTile', ['$timeout', function ($timeout) {\n            return {\n                link: function (scope, el, attrs, dashboardCtrl) {\n                    var dashboardState = {},\n                        displayModeChanging = false,\n                        tileInitialized = false;\n\n                    //determines whether or not a tile is collapsed\n                    function tileIsCollapsed(tileId, tiles) {\n                        var i,\n                            len = tiles.length,\n                            tile;\n\n                        for (i = 0; i < len; i++) {\n                            tile = tiles[i];\n\n                            if (tile.id === tileId) {\n                                return scope.smallTileDisplayMode ? tile.collapsed_small : tile.collapsed;\n                            }\n                        }\n\n                        return !!scope.smallTileDisplayMode;\n                    }\n\n                    //sets the collapsed state of the tile based on the tile settings and the display mode\n                    function updateTileState(tiles) {\n                        var collapsed,\n                            oldCollapsed;\n\n                        tiles = tiles || /*istanbul ignore next: default value */ [];\n\n                        oldCollapsed = scope.isCollapsed;\n\n                        collapsed = tileIsCollapsed(scope.tileId, tiles);\n\n                        if (oldCollapsed === collapsed) {\n                            displayModeChanging = false;\n                        }\n\n                        scope.isCollapsed = collapsed;\n\n                        if (collapsed && !tileInitialized) {\n                            //in some cases the tile-content div is left in a partially collapsed state.\n                            //   this will ensure that the tile is styled corretly and the tile is completely collapsed\n                            $timeout(function () {\n                                var contentEl;\n                                contentEl = el.find('.bb-tile-content');\n                                contentEl.removeClass('collapsing').addClass('collapse');\n                            }, 1);\n                        }\n                    }\n\n                    function updateHeaderContent() {\n                        var wrapperEl;\n\n                        scope.hasHeaderContent = !!scope.headerContentEl;\n\n                        if (scope.headerContentEl) {\n                            wrapperEl = el.find('.bb-tile-header-with-content:first');\n\n                            wrapperEl.append(scope.headerContentEl);\n                        }\n                    }\n\n                    function initializeTile(data) {\n                        $timeout(function () {\n                            var tiles = data.tiles || /*istanbul ignore next: default value */ [];\n\n                            if (!tileInitialized) {\n                                //retrieve the tile id from the parent container\n                                scope.tileId = el.parent().attr('data-tile-id') || /*istanbul ignore next: default value */ '';\n                                scope.smallTileDisplayMode = data.smallTileDisplayMode || false;\n                            }\n\n                            updateTileState(tiles);\n\n                            tileInitialized = true;\n                        });\n                    }\n\n                    scope.isCollapsed = scope.bbTileCollapsed || false;\n                    scope.smallTileDisplayMode = false;\n                    scope.tileId = '';\n\n                    scope.titleClick = function () {\n                        scope.isCollapsed = !scope.isCollapsed;\n                        scope.scrollIntoView = !scope.isCollapsed;\n                    };\n\n                    //listens for the tileModeChanged event from the tileDashboard and updates the collapsed state of the tiles based on whether or not the tiles are in small display mode\n                    scope.$on('tileDisplayModeChanged', function (event, data) {\n                        /*jslint unparam: true */\n                        scope.smallTileDisplayMode = data.smallTileDisplayMode || false;\n\n                        if (tileInitialized) {\n                            displayModeChanging = true;\n                            updateTileState(data.tiles);\n                        }\n                    });\n\n                    //listens for the tilesInitialized event from the tileDashboard and updates the initial collapsed state of the tiles\n                    scope.$on('tilesInitialized', function (event, data) {\n                        /*jslint unparam: true */\n\n                        initializeTile(data);\n                    });\n\n                    //if the collapsed state changes, notify the tileDashboard\n                    scope.$watch('isCollapsed', function () {\n                        if (tileInitialized && !displayModeChanging) {\n                            $timeout(function () {\n                                scope.$emit('tileStateChanged', {\n                                    tileId: scope.tileId,\n                                    collapsed: scope.isCollapsed\n                                });\n                            });\n                        }\n                        displayModeChanging = false;\n\n                        if (!scope.isCollapsed) {\n                            $timeout(function () {\n                                scope.$broadcast('tileRepaint');\n                            });\n                        }\n\n                        scope.bbTileCollapsed = scope.isCollapsed;\n                    });\n\n                    if (attrs.bbTileCollapsed) {\n                        scope.$watch('bbTileCollapsed', function (newValue) {\n                            scope.isCollapsed = newValue;\n                        });\n                    }\n\n                    scope.hasSettings = !!attrs.bbTileSettingsClick;\n\n                    updateHeaderContent();\n\n                    //If the dashboard has already been initialized and this tile hasn't, initialize tile.\n                    if (dashboardCtrl !== null) {\n                        if (dashboardCtrl.dashboardInitialized() && !tileInitialized) {\n                            dashboardState = dashboardCtrl.getDashboardState();\n                            initializeTile(dashboardState);\n                            dashboardCtrl.layoutTiles();\n                        }\n                    }\n                },\n                replace: true,\n                restrict: 'E',\n                require: '?^^bbTileDashboard',\n                scope: {\n                    bbTileCollapsed: '=?',\n                    bbTileSettingsClick: '&?',\n                    tileHeader: '=bbTileHeader'\n                },\n                controller: ['$scope', function ($scope) {\n                    this.setHeaderContentEl = function (el) {\n                        $scope.headerContentEl = el;\n                    };\n                }],\n                templateUrl: 'sky/templates/tiles/tile.html',\n                transclude: true\n            };\n        }])\n        .directive('bbTileHeaderContent', function () {\n            return {\n                replace: true,\n                require: '^bbTile',\n                restrict: 'E',\n                link: function (scope, el, attrs, tileCtrl) {\n                    tileCtrl.setHeaderContentEl(el);\n                },\n                templateUrl: 'sky/templates/tiles/tileheadercontent.html',\n                transclude: true\n            };\n        })\n        .directive('bbTileHeaderCheck', function () {\n            return {\n                replace: true,\n                require: '^bbTileHeaderContent',\n                restrict: 'E',\n                templateUrl: 'sky/templates/tiles/tileheadercheck.html'\n            };\n        })\n        .directive('bbTileSection', function () {\n            return {\n                restrict: 'A',\n                template: function (el) {\n                    el.addClass('bb-tile-content-section');\n                }\n            };\n        })\n        .directive('bbTileDashboard', ['$timeout', 'bbMediaBreakpoints', function ($timeout, bbMediaBreakpoints) {\n            return {\n                replace: true,\n                restrict: 'E',\n                scope: {\n                    tiles: '=bbTiles',\n                    layout: '=bbLayout',\n                    allCollapsed: '=bbTileDashboardAllCollapsed'\n                },\n                link: function (scope, element, attrs) {\n                    var column1 = element.find('[data-dashboard-column=\"1\"]'),\n                        column2 = element.find('[data-dashboard-column=\"2\"]'),\n                        singleColumnMode = false,\n                        sortableOptions;\n\n                    scope.dashboardInitialized = false;\n                    scope.smallTileDisplayMode = false;\n\n                    //Inspects the tiles in each column and updates model accordingly.\n                    function parseColumnTiles() {\n                        scope.$apply(function () {\n                            var layout = scope.layout;\n\n                            if (singleColumnMode) {\n                                layout.one_column_layout = parseTileOrder(column1);\n                            } else {\n                                layout.two_column_layout[0] = parseTileOrder(column1);\n                                layout.two_column_layout[1] = parseTileOrder(column2);\n                            }\n                        });\n                    }\n\n                    //Layouts out the tiles based on the current one column or two column configuration\n                    function layoutTiles() {\n                        var layout = scope.layout;\n\n                        if (layout) {\n                            if (singleColumnMode) {\n                                moveTilesToContainer(element, column1, layout.one_column_layout);\n                            } else {\n                                moveTilesToContainer(element, column1, layout.two_column_layout[0]);\n                                moveTilesToContainer(element, column2, layout.two_column_layout[1]);\n                            }\n                        }\n                    }\n\n                    function fireDisplayModeChanged() {\n                        scope.$broadcast('tileDisplayModeChanged', {\n                            smallTileDisplayMode: scope.smallTileDisplayMode,\n                            tiles: scope.tiles\n                        });\n                    }\n\n                    function mediabreakpointChangeHandler(breakPoints) {\n                        singleColumnMode = (breakPoints.xs || breakPoints.sm);\n                        layoutTiles();\n\n                        if (singleColumnMode) {\n                            element.removeClass('bb-page-content-multicolumn');\n                            column2.hide();\n                        } else {\n                            element.addClass('bb-page-content-multicolumn');\n                            column2.show();\n                        }\n\n                        scope.smallTileDisplayMode = breakPoints.xs;\n\n                        fireDisplayModeChanged();\n                    }\n\n                    //Setup jQuery sortable (drag and drop) options for the dashboard columns\n                    sortableOptions = {\n                        connectWith: '[data-dashboard-column]',\n                        update: parseColumnTiles,\n                        opacity: 0.8,\n                        handle: '.bb-tile-grab-handle',\n                        placeholder: 'placeholder bb-tile',\n                        forcePlaceholderSize: true,\n                        revert: 250\n                    };\n\n                    //Setup jQuery sortable drag/drop for the columns\n                    column1.sortable(sortableOptions);\n                    column2.sortable(sortableOptions);\n\n                    bbMediaBreakpoints.register(mediabreakpointChangeHandler);\n\n                    scope.layoutTiles = layoutTiles;\n\n                    element.on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediabreakpointChangeHandler);\n                    });\n\n                    scope.$watch('tiles', function () {\n                        $timeout(function () {\n                            layoutTiles();\n                            scope.$broadcast('tilesInitialized', {\n                                smallTileDisplayMode: scope.smallTileDisplayMode,\n                                tiles: scope.tiles\n                            });\n\n                            scope.dashboardInitialized = true;\n                        });\n                    });\n\n                    scope.$watch('allCollapsed', function (newValue) {\n                        var i,\n                            n,\n                            tiles = scope.tiles;\n\n                        // Check for an explicit true/false here since null/undefined is the\n                        // indeterminate state.\n                        if (newValue === true || newValue === false) {\n                            for (i = 0, n = tiles.length; i < n; i++) {\n                                if (scope.smallTileDisplayMode) {\n                                    tiles[i].collapsed_small = newValue;\n                                } else {\n                                    tiles[i].collapsed = newValue;\n                                }\n                            }\n\n                            fireDisplayModeChanged();\n                        }\n                    });\n\n                    scope.$on('tileStateChanged', function (event, data) {\n                        /*jslint unparam: true */\n                        scope.$apply(function () {\n                            var allCollapsed = null,\n                                collapsed,\n                                collapsedProp,\n                                i,\n                                n,\n                                tile,\n                                tileId = data.tileId || /*istanbul ignore next: default value */ '',\n                                tiles = scope.tiles;\n\n                            collapsed = data.collapsed || false;\n                            collapsedProp = scope.smallTileDisplayMode ? 'collapsed_small' : 'collapsed';\n\n                            for (i = 0, n = tiles.length; i < n; i++) {\n                                tile = tiles[i];\n\n                                if (tile.id === tileId) {\n                                    tile[collapsedProp] = collapsed;\n                                }\n\n                                if (i > 0 && tile[collapsedProp] !== allCollapsed) {\n                                    allCollapsed = null;\n                                } else {\n                                    allCollapsed = tile[collapsedProp];\n                                }\n                            }\n\n                            if (attrs.bbTileDashboardAllCollapsed) {\n                                scope.allCollapsed = allCollapsed;\n                            }\n                        });\n                    });\n                },\n                controller: ['$scope', function ($scope) {\n                    var self = this;\n\n                    self.getDashboardState = function () {\n                        return {tiles: $scope.tiles, smallTileDisplayMode: $scope.smallTileDisplayMode};\n                    };\n\n                    self.dashboardInitialized = function () {\n                        return $scope.dashboardInitialized;\n                    };\n\n                    self.layoutTiles = function () {\n                        /* This timeout is in place to allow a state change to\n                           complete before laying out tiles\n                        */\n                        $timeout(function () {\n                            $scope.layoutTiles();\n                        });\n                    };\n                }],\n                templateUrl: 'sky/templates/tiles/tiledashboard.html'\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Toast\n@icon envelop-o\n@summary The toast service launches toast messages basic string messages or complex toast messages that use HTML templates.\n @description The toast service can be used to launch toast in a consistent way in a Sky UX application. The service has a single method, `bbToast.open` used to launch a toast. Optionally include the `ngAnimate` module in the application for toasts to fade in and out.\n\n### Dependencies ###\n\n - **[angular-toastr](https://github.com/Foxandxss/angular-toastr) (1.0.0-beta.2 or higher)**\n - **[ng-animate](https://docs.angularjs.org/api/ngAnimate) (optional, 1.3 or higher)**\n\n---\n\n### Toast Settings ##\n\n - `message` Used to provide a basic string message for simple toasts.\n - `templateUrl` Url for a template in the `$templateCache`. Used to provide an HTML template when displaying complex toasts.  Cannot be combined with the `message` option.\n - `controller` Used in conjunction with `templateUrl`. Specifies the name of a controller to apply to the template's scope.\n - `resolve` Items that will be resolved and passed to the controller as locals.\n */\n\n(function () {\n    'use strict';\n\n    function nextId() {\n        nextId.index = nextId.index || 0;\n        nextId.index++;\n        return 'bbtoast-' + nextId.index;\n    }\n\n    function validateOptions(opts) {\n        if (opts.message && opts.templateUrl) {\n            throw 'You must not provide both a message and a templateUrl.';\n        } else if (!opts.message && !opts.templateUrl) {\n            throw 'You must provide either a message or a templateUrl.';\n        }\n    }\n\n    angular.module('sky.toast', ['toastr'])\n        .config(['toastrConfig', function (toastrConfig) {\n            angular.extend(toastrConfig, {\n                closeButton: true,\n                newestOnTop: true,\n                positionClass: 'toast-bottom-right',\n                tapToDismiss: false,\n                timeOut: 6000\n            });\n        }])\n        .factory('bbToast', ['toastr', '$templateCache', '$compile', '$controller', '$rootScope', '$q', '$injector', function (toastr, $templateCache, $compile, $controller, $rootScope, $q, $injector) {\n            //Based on $modal approach to resolves\n            function getResolvePromises(resolves) {\n                var promisesArr = [];\n                angular.forEach(resolves, function (value) {\n                    if (angular.isFunction(value) || angular.isArray(value)) {\n                        promisesArr.push($q.when($injector.invoke(value)));\n                    }\n                });\n                return promisesArr;\n            }\n\n            function open(message, config) {\n                config = config || {};\n                config.iconClass = 'bb-toast';\n                return toastr.info(message, '', config);\n            }\n\n            function openMessage(opts) {\n                return open(opts.message);\n            }\n\n            function openWithTemplate(opts) {\n                var controller = opts.controller,\n                    controllerLocals,\n                    elId,\n                    resolveIter = 0,\n                    resolvesPromise,\n                    templateHtml,\n                    toast,\n                    toastScope;\n\n                function insertTemplateInToast() {\n                    var templateEl = toast.el.find('#' + elId);\n\n                    templateEl.html(templateHtml);\n\n                    if (controller) {\n                        $controller(controller, controllerLocals);\n                        $compile(templateEl)(controllerLocals.$scope);\n                    }\n                }\n\n                opts.resolve = opts.resolve || {};\n\n                resolvesPromise = $q.all(getResolvePromises(opts.resolve));\n\n                resolvesPromise.then(function (resolvedVars) {\n                    if (controller) {\n                        controllerLocals = {};\n                        controllerLocals.$scope = $rootScope.$new();\n                        angular.forEach(opts.resolve, function (value, key) {\n                            controllerLocals[key] = resolvedVars[resolveIter++];\n                        });\n                    }\n\n                    templateHtml = $templateCache.get(opts.templateUrl);\n\n                    elId = nextId();\n\n                    toast = open(\"<div id='\" + elId + \"'></div>\", { allowHtml: true });\n                    toastScope = toast.scope;\n\n                    //We need to hook in after the toast element has been created and the temporary message\n                    //defined above exists, but before the toast is visually displayed.  The toastr code adds\n                    //an init function to the scope when the toast directive is being linked.  An EvalAsync\n                    //after this occurs will allow us to hook in at the correct moment.\n                    toastScope.$watch('init', function () {\n                        toastScope.$evalAsync(function () {\n                            insertTemplateInToast();\n                        });\n                    });\n                });\n            }\n\n            return {\n                open: function (opts) {\n                    opts = opts || {};\n                    validateOptions(opts);\n\n                    if (opts.templateUrl) {\n                        openWithTemplate(opts);\n                    } else {\n                        openMessage(opts);\n                    }\n                }\n            };\n        }]);\n}());\n","/*global angular */\n\n/** @module Tooltip\n@deprecated\n@icon info\n@summary This directive is no longer being maintained. For adding templated tooltips, use the Angular UI Bootstrap Tooltip uib-tooltip-template attribute.\n @description ### *Deprecated* ###\n\n This directive is no longer being maintained. For adding templated tooltips, use the [Angular UI Bootstrap Tooltip](http://angular-ui.github.io/bootstrap/) uib-tooltip-template attribute.\n\n### Tooltip Settings ##\n\nIn addition to all the properties from the [Angular UI Bootstrap Tooltip](http://angular-ui.github.io/bootstrap/) directive, these properties may also be specified:\n\n - `bb-tooltip` URL for a template in the `$templateCache`. The template HTML may contain bindings to properties in the current scope.\n\n - `tooltip-updater` Optional. A property on the scope that can be watched by the directive so that when this property's value changes, the contents of the tooltip are refreshed.\n */\n\n(function () {\n    'use strict';\n\n\n    function bbTooltip($compile) {\n        return {\n            restrict: 'A',\n            scope: true,\n            link: function ($scope, el) {\n                //Add bootstrap directive\n                /*istanbul ignore else */\n                if (!el.attr('uib-tooltip-template')) {\n                    el.attr('uib-tooltip-template', \"'\" + el.attr('bb-tooltip') + \"'\");\n                }\n\n                el.removeAttr('bb-tooltip');\n                $compile(el)($scope);\n            }\n        };\n    }\n\n    bbTooltip.$inject = ['$compile'];\n\n    angular.module('sky.tooltip', ['ui.bootstrap.tooltip'])\n        .directive('bbTooltip', bbTooltip);\n\n}());\n","/*global angular */\n\n/** @module Utilities\n@icon gear\n@summary The utilities module provides methods to encode URI components and format arguments.\n@description The Sky UX utilities module gives you the following angular filters:\n\n  - `encodeURIComponent` Uses the $window.encodeURIComponent function on your string.\n  - `format` Formats the args with a given format string.\n\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.utilities', ['sky.format'])\n        .filter('encodeURIComponent', ['$window', function ($window) {\n            return function (value) {\n                return $window.encodeURIComponent(value);\n            };\n        }])\n        .filter('format', ['bbFormat', function (bbFormat) {\n            return function () {\n                return bbFormat.formatText.apply(this, arguments);\n            };\n        }]);\n}());\n","/*global angular */\n\n/** @module Email Validation\n@icon check\n@summary The email validation directive allows you to validate email strings in input fields.\n @description The email validation provides the ability to validate email strings in input fields.\n\n### Email Validation Settings ###\n\n- `ng-model` An object to bind the email value to on the input.\n- `type=email` indicates that email validation can be used.\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.validation', [])\n        .directive('bbEmailValidation', [function () {\n            var EMAIL_REGEXP = /[\\w\\-]+@([\\w\\-]+\\.)+[\\w\\-]+/;\n            return {\n                require: 'ngModel',\n                restrict: '',\n                link: function (scope, elm, attrs, ctrl) {\n                    /*jslint unparam: true */\n                    if (ctrl && ctrl.$validators.email) {\n                        ctrl.$validators.email = function (modelValue) {\n                            return ctrl.$isEmpty(modelValue) || EMAIL_REGEXP.test(modelValue);\n                        };\n                    }\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    var CLS_VIEWKEEPER_FIXED = 'bb-viewkeeper-fixed',\n        config = {\n            viewportMarginTop: 0\n        },\n        ViewKeeper;\n\n    function nextId() {\n        nextId.index = nextId.index || 0;\n        nextId.index++;\n        return 'viewkeeper-' + nextId.index;\n    }\n\n    function getSpacerId(vk) {\n        return vk.id + \"-spacer\";\n    }\n\n    function setElPosition(elQ, left, top, bottom, width) {\n        elQ.css({\n            \"top\": top,\n            \"bottom\": bottom,\n            \"left\": left\n        });\n\n        /*istanbul ignore else: sanity check */\n        if (width !== null) {\n            elQ.css({ \"width\": width });\n        }\n    }\n\n    function unfixEl(vk) {\n        var elQ = angular.element(vk.el),\n            width;\n\n        angular.element(\"#\" + getSpacerId(vk)).remove();\n\n        elQ.removeClass(CLS_VIEWKEEPER_FIXED);\n\n        vk.currentElFixedLeft = null;\n        vk.currentElFixedTop = null;\n        vk.currentElFixedBottom = null;\n        vk.currentElFixedWidth = null;\n\n        if (vk.setWidth) {\n            width = \"auto\";\n        }\n        setElPosition(elQ, \"\", \"\", \"\", width);\n    }\n\n    function calculateVerticalOffset(vk) {\n        var offset,\n            verticalOffSetElTop;\n\n        offset = vk.verticalOffSet;\n\n        if (vk.verticalOffSetEl) {\n            verticalOffSetElTop = vk.verticalOffSetEl.css('top');\n\n            /*istanbul ignore else: sanity check */\n            if (verticalOffSetElTop) {\n                verticalOffSetElTop = parseInt(verticalOffSetElTop, 10);\n                if (isNaN(verticalOffSetElTop)) {\n                    verticalOffSetElTop = 0;\n                }\n            }\n\n            offset += (vk.verticalOffSetEl.outerHeight() + verticalOffSetElTop);\n        }\n\n        return offset;\n    }\n\n    ViewKeeper = function (options) {\n        var id,\n            vk = this;\n\n        options = options || /* istanbul ignore next */ {};\n\n        vk.fixToBottom = options.fixToBottom;\n        vk.setWidth = options.setWidth;\n        vk.id = id = nextId();\n        vk.el = options.el;\n        vk.boundaryEl = options.boundaryEl;\n        vk.verticalOffSet = options.verticalOffSet || 0;\n        vk.setPlaceholderHeight = (options.setPlaceholderHeight !== false);\n        vk.onStateChanged = options.onStateChanged;\n        vk.isFixed = false;\n\n        if (options.verticalOffSetElId) {\n            vk.verticalOffSetEl = angular.element('#' + options.verticalOffSetElId);\n\n            vk.verticalOffSetEl.on('afterViewKeeperSync.' + id, function () {\n                vk.syncElPosition();\n            });\n        }\n\n        angular.element(window).on(\"scroll.\" + id + \", resize.\" + id + \", orientationchange.\" + id, function () {\n            vk.syncElPosition();\n        });\n    };\n\n    ViewKeeper.prototype = {\n\n        syncElPosition: function () {\n            var anchorTop,\n                anchorHeight,\n                isCurrentlyFixed,\n                currentElFixedLeft,\n                currentElFixedTop,\n                currentElFixedBottom,\n                currentElFixedWidth,\n                documentQ,\n                fixEl,\n                boundaryBottom,\n                boundaryOffset,\n                boundaryQ,\n                boundaryTop,\n                elFixedLeft,\n                elFixedTop,\n                elFixedBottom,\n                elFixedWidth,\n                elHeight,\n                elQ,\n                needsUpdating,\n                scrollLeft,\n                scrollTop,\n                spacerHeight,\n                spacerId,\n                spacerQ,\n                verticalOffSet,\n                vk = this,\n                width;\n\n            isCurrentlyFixed = vk.isFixed;\n\n            verticalOffSet = calculateVerticalOffset(vk);\n\n            elQ = angular.element(vk.el);\n\n            // When the element isn't visible, its size can't be calculated, so don't attempt syncing position in this case.\n            if (!elQ.is(':visible')) {\n                return;\n            }\n\n            boundaryQ = angular.element(vk.boundaryEl);\n            spacerId = getSpacerId(vk);\n\n            spacerQ = angular.element(\"#\" + spacerId);\n            documentQ = angular.element(window.document);\n\n            boundaryOffset = boundaryQ.offset();\n            boundaryTop = boundaryOffset.top;\n            boundaryBottom = boundaryTop + boundaryQ.height();\n\n            scrollLeft = documentQ.scrollLeft();\n            scrollTop = documentQ.scrollTop();\n\n            elHeight = elQ.outerHeight(true);\n\n            if (vk.fixToBottom) {\n                elFixedBottom = 0;\n            } else {\n                // If the element needs to be fixed, this will calculate its position.  The position will be 0 (fully visible) unless\n                // the user is scrolling the boundary out of view.  In that case, the element should begin to scroll out of view with the\n                // rest of the boundary by setting its top position to a negative value.\n                elFixedTop = Math.min((boundaryBottom - elHeight) - scrollTop, verticalOffSet);\n            }\n\n\n            elFixedWidth = boundaryQ.width();\n            elFixedLeft = boundaryOffset.left - scrollLeft;\n\n            currentElFixedLeft = vk.currentElFixedLeft;\n            currentElFixedTop = vk.currentElFixedTop;\n            currentElFixedBottom = vk.currentElFixedBottom;\n            currentElFixedWidth = vk.currentElFixedWidth;\n\n            if (spacerQ.length > 0) {\n                anchorTop = spacerQ.offset().top;\n                anchorHeight = spacerQ.outerHeight(true);\n            } else {\n                anchorTop = elQ.offset().top;\n                anchorHeight = elHeight;\n            }\n\n            if (vk.fixToBottom) {\n                //Fix el if the natural bottom of the element would not be on the screen\n                fixEl = (anchorTop + anchorHeight > scrollTop + window.innerHeight);\n            } else {\n                fixEl = scrollTop + verticalOffSet + config.viewportMarginTop > anchorTop;\n            }\n\n            if ((fixEl && currentElFixedLeft === elFixedLeft && currentElFixedTop === elFixedTop && currentElFixedBottom === elFixedBottom && currentElFixedWidth === elFixedWidth) || (!fixEl && !(currentElFixedLeft !== undefined && currentElFixedLeft !== null))) {\n                // The element is either currently fixed and its position and width do not need to change, or the element is not\n                // currently fixed and does not need to be fixed.  No changes are needed.\n                needsUpdating = false;\n            } else {\n                needsUpdating = true;\n            }\n\n            if (needsUpdating) {\n                if (fixEl) {\n                    vk.isFixed = true;\n                    if (spacerQ.length === 0) {\n                        if (vk.setPlaceholderHeight) {\n                            spacerHeight = elHeight;\n                        } else {\n                            spacerHeight = 0;\n                        }\n                        elQ.after('<div id=\"' + spacerId + '\" style=\"height: ' + spacerHeight + 'px;\"></div>');\n                    }\n\n                    elQ.addClass(CLS_VIEWKEEPER_FIXED);\n\n                    vk.currentElFixedTop = elFixedTop;\n                    vk.currentElFixedBottom = elFixedBottom;\n                    vk.currentElFixedLeft = elFixedLeft;\n                    vk.currentElFixedWidth = elFixedWidth;\n\n                    if (vk.setWidth) {\n                        width = elFixedWidth;\n                    }\n\n                    setElPosition(elQ, elFixedLeft, elFixedTop, elFixedBottom, width);\n                } else {\n                    vk.isFixed = false;\n                    unfixEl(vk);\n                }\n\n                //If we changed if the item is fixed, fire the callback\n                if (vk.onStateChanged && isCurrentlyFixed !== vk.isFixed) {\n                    vk.onStateChanged();\n                }\n            }\n            elQ.trigger('afterViewKeeperSync');\n        },\n\n        scrollToTop: function () {\n            var anchorTop,\n                elQ,\n                documentQ,\n                spacerId,\n                spacerQ,\n                verticalOffset,\n                vk = this;\n\n            verticalOffset = calculateVerticalOffset(vk);\n\n            documentQ = angular.element(window.document);\n            spacerId = getSpacerId(vk);\n            spacerQ = angular.element(\"#\" + spacerId);\n            elQ = angular.element(vk.el);\n\n            if (spacerQ.length > 0) {\n                anchorTop = spacerQ.offset().top;\n            } else {\n                anchorTop = elQ.offset().top;\n            }\n\n            documentQ.scrollTop(anchorTop - verticalOffset - config.viewportMarginTop);\n        },\n\n        destroy: function () {\n            var id,\n                vk = this;\n\n            if (!vk.isDestroyed) {\n                id = vk.id;\n\n                angular.element(window).off(\"scroll.\" + id + \", resize.\" + id + \", orientationchange.\" + id);\n                unfixEl(vk);\n\n                if (vk.verticalOffSetEl) {\n                    vk.verticalOffSetEl.off(\"afterViewKeeperSync.\" + vk.id);\n                    vk.verticalOffSetEl = null;\n                }\n\n                vk.isDestroyed = true;\n            }\n        }\n\n    };\n\n    angular.module('sky.viewkeeper', ['sky.mediabreakpoints', 'sky.window'])\n        .constant('bbViewKeeperConfig', config)\n        .factory('bbViewKeeperBuilder', function () {\n            return {\n                create: function (options) {\n                    return new ViewKeeper(options);\n                }\n            };\n        })\n        .run(['$document', '$window', 'bbMediaBreakpoints', 'bbViewKeeperConfig', function ($document, $window, bbMediaBreakpoints, bbViewKeeperConfig) {\n            function mediaBreakpointHandler(breakpoints) {\n                //For user agents in which the omnibar follows you down the page, the ViewKeeper needs\n                //to adjust for the height of the omnibar.\n\n                //Ideally these values should be driven from a more appropriate source (omnibar js?)\n                bbViewKeeperConfig.viewportMarginTop = breakpoints.xs ? 50 : 30;\n            }\n\n            if (/iPad|iPod|iPhone/i.test($window.navigator.userAgent)) {\n                //On iOS the omnibar doesn't scroll with you.  Need to account for this on the styling.\n                angular.element('body').addClass('omnibar-not-fixed');\n\n                //On iOS we need to have special handling when entering textboxes to correct an issue with fixed\n                //elements used by view keeper when the keyboard flys out.\n                angular.element(document).on('focus', 'input', function () {\n                    angular.element('body').addClass('bb-viewkeeper-ignore-fixed');\n                }).on('blur', 'input', function () {\n                    angular.element('body').removeClass('bb-viewkeeper-ignore-fixed');\n                });\n            } else {\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n            }\n        }])\n        .directive('bbViewKeeper', ['bbViewKeeperBuilder', function (bbViewKeeperBuilder) {\n            function link(scope, el) {\n                var vk;\n\n                function destroyVk() {\n                    if (vk) {\n                        vk.destroy();\n                        vk = null;\n                    }\n                }\n\n                el.on('$destroy', function () {\n                    destroyVk();\n                });\n\n                scope.$watch('bbBoundaryElId', function () {\n                    var boundaryEl,\n                        bbBoundaryElId = scope.bbBoundaryElId;\n\n                    /*istanbul ignore else */\n                    if (bbBoundaryElId) {\n                        boundaryEl = angular.element('#' + bbBoundaryElId);\n\n                        /*istanbul ignore else */\n                        if (boundaryEl.length === 1) {\n                            destroyVk();\n\n                            vk = bbViewKeeperBuilder.create({\n                                el: el[0],\n                                boundaryEl: boundaryEl[0],\n                                setWidth: true\n                            });\n                        }\n                    }\n                });\n            }\n\n            return {\n                link: link,\n                restrict: 'A',\n                scope: {\n                    bbBoundaryElId: '='\n                }\n            };\n        }])\n        .directive('bbScrollingViewKeeper', ['$window', 'bbWindow', function ($window, bbWindow) {\n            return {\n                scope: {\n                    bbScrollingViewKeeper: \"=\"\n                },\n                link: function (scope, element) {\n                    var elementStart,\n                        scrollPos,\n                        prevScroll,\n                        scrollingDown = true,\n                        tempTop,\n                        verticalOffset,\n                        id = scope.$id;\n\n                    function scroll() {\n                        if (!element.is(':visible')) {\n                            return;\n                        }\n\n                        if (angular.element('.bb-omnibar>.desktop').is(':visible')) {\n                            verticalOffset = angular.element('.bb-omnibar>.desktop>.bar').outerHeight();\n                        } else {\n                            verticalOffset = 0;\n                        }\n\n                        if (scope.bbScrollingViewKeeper && scope.bbScrollingViewKeeper.viewKeeperOffsetElId) {\n                            verticalOffset += angular.element('#' + scope.bbScrollingViewKeeper.viewKeeperOffsetElId).outerHeight();\n                        }\n\n                        if (!elementStart) {\n                            elementStart = element.offset().top;\n                        }\n                        scrollPos = $window.scrollY || $window.pageYOffset || $window.document.body.scrollTop || 0;\n                        if (prevScroll > scrollPos) {\n                            scrollingDown = false;\n                        } else {\n                            scrollingDown = true;\n                        }\n                        prevScroll = scrollPos;\n\n                        if (scrollPos >= elementStart - verticalOffset && element.height() + verticalOffset <= $window.document.body.offsetHeight) {\n                            if (element.height() + verticalOffset < $window.innerHeight) {\n                                tempTop = 0;\n\n                                element.removeClass('bb-grid-filters-fixed-bottom').addClass('bb-grid-filters-fixed-top');\n\n                                element.css({\n                                    top: verticalOffset + 'px'\n                                });\n                            } else if (scrollingDown) {\n                                if (element.offset().top + element.height() >= scrollPos + $window.innerHeight) {\n                                    /*istanbul ignore else: sanity check */\n                                    if (!tempTop) {\n                                        tempTop = element.offset().top - elementStart;\n                                    }\n\n                                    element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom');\n\n                                    element.css({\n                                        top: tempTop\n                                    });\n                                } else {\n                                    tempTop = 0;\n                                    element.css({\n                                        top: ''\n                                    });\n                                    element.removeClass('bb-grid-filters-fixed-top').addClass('bb-grid-filters-fixed-bottom');\n                                }\n                            } else {\n                                if (element.offset().top < scrollPos + verticalOffset) {\n                                    /*istanbul ignore else: sanity check */\n                                    if (!tempTop) {\n                                        tempTop = element.offset().top - elementStart;\n                                    }\n\n                                    element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom ');\n\n                                    element.css({\n                                        top: tempTop\n                                    });\n                                } else {\n                                    tempTop = 0;\n\n                                    element.removeClass('bb-grid-filters-fixed-bottom').addClass('bb-grid-filters-fixed-top');\n\n                                    element.css({\n                                        top: verticalOffset + 'px'\n                                    });\n                                }\n                            }\n                        } else {\n                            tempTop = 0;\n                            element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom grid-filters-fixed-top grid-filters-fixed-bottom');\n                            element.css({\n                                top: 0\n                            });\n                        }\n                    }\n\n                    if (!bbWindow.isIosUserAgent()) {\n                        angular.element($window).on('scroll.' + id + ', orientationchange.' + id, scroll);\n\n                        element.on('$destroy', function () {\n                            angular.element($window).off(\"scroll.\" + id + \", orientationchange.\" + id);\n                        });\n                    }\n                },\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular, jQuery */\n\n/** @module Wait\n@icon spinner\n@summary The wait component disables an element in a waiting state and visually indicates that it is in a waiting state.\n @description The wait directive allows you to disable and visually indicate that an element is in a waiting state.\nWhen `bb-wait` is set to true, the element will initially be blocked with a clear mask, but after 300ms a visual indicator will cover the element as well.\nThis will allow for the element to immediately be disabled but not cause visual disturbances for very brief waits.\n\n### Dependencies ###\n\n - **[jquery.blockUI.js](http://malsup.com/jquery/block/) (2.66.0-2013.10.09 or higher)**\n\n---\n\nIf the value bound to `bb-wait` is truthy, then the element will begin waiting until the value becomes falsey.\n\n### Multiple Waits ###\nYou can set the value of `bb-wait` to a numeric value to track a count of simultaneous waits.\nWhen waits are added, increment the wait count and when they are removed then decrement the count.\nThis will cause the wait UI to only clear once all waits are removed.\n\n### Full-page Waits ###\nIf bb-wait is added to the `<body>` tag, then a full-page version of the wait UI will be created.\n\n### Raising Wait Events ###\nWait events can be raised from one controller to another by calling `$scope.$emit(\"bbBeginWait\");` and `$scope.$emit(\"bbEndWait\");` respectively.\nA controller can capture that event and begin waiting its element by listening for the event and updating its own bb-wait directive.\nWhen doing so, itshould call `stopPropagation()` on the event so that other parents won't catch it as well.\nUncaught events will raise all the way to the main controller of the application which can cause the entire page to wait.\n\n    $scope.$on(\"bbBeginWait\", function (event) {\n        event.stopPropagation();\n        $scope.myElementWaitCount += 1;\n    });\n\n### Wait Service ###\nIn addition to the `bb-wait` directive, a `bbWait` service exists to allow functional access to adding and removing waits on elements or the page as a whole.\nThis service supports the following functions\n\n - `beginElWait(element)` - Adds a wait for the specified element. Implicitly tracks a wait count for the element.\n - `endElWait(element)` - Removes a wait for the specified element. Implicitly tracks a wait count for the element and clears the wait UI when the count is 0.\n - `clearElWait(element)` - Removes all waits for the specified element and will clear any wait UI.\n - `beginPageWait()` - Adds a wait for the whole page (same as body element). Implicitly tracks a wait count for the element.\n - `endPageWait()` - Removes a wait for the whole page (same as body element). Implicitly tracks a wait count for the element and clears the wait UI when the count is 0.\n - `clearPageWait()` - Removes all waits for the whole page (same as body element) and will clear any wait UI.\n */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.wait', [])\n        .factory('bbWait', ['$timeout', function ($timeout) {\n\n            var addWait,\n                removeWait,\n                clearBlockOptions,\n                fullPageClearBlockOptions,\n                fullPageVisibleBlockOptions,\n                fullPageZIndex = 20000,\n                nonBlockWaitCountAttr = 'bb-wait-non-block-count',\n                visibleBlockOptions,\n                showingWaitAttr = 'bb-wait-showingwait',\n                waitCountAttr = 'bb-wait-count';\n\n            visibleBlockOptions = {\n                message: '<div class=\"bb-wait-wrap\"><div class=\"bb-wait-spinner\"></div></div>'\n            };\n\n            clearBlockOptions = {\n                message: \"\",\n                fadeOut: 0,\n                fadeIn: 0,\n                overlayCSS: {\n                    opacity: 0\n                }\n            };\n\n            fullPageClearBlockOptions = angular.copy(clearBlockOptions);\n            fullPageClearBlockOptions.overlayCSS[\"z-index\"] = fullPageZIndex;\n\n            fullPageVisibleBlockOptions = angular.copy(visibleBlockOptions);\n            fullPageVisibleBlockOptions.overlayCSS = { \"z-index\": fullPageZIndex };\n            fullPageVisibleBlockOptions.css = { \"z-index\": fullPageZIndex + 1 };\n\n            function isBlockUISupported() {\n                // Returns whether jquery.blockUI is loaded.\n                return ($ && $.blockUI);\n            }\n\n            function isFullPage(el) {\n                // Returns whether the element specified should be causing a\n                // full page wait rather than just on the element itself.\n                return $(el)[0] === document.body;\n            }\n\n            function getWaitCount(el, nonblocking) {\n                // Returns the elements current wait count\n                var attr = nonblocking ? nonBlockWaitCountAttr : waitCountAttr;\n                return parseInt($(el).data(attr) || 0, 10);\n            }\n\n            function setWaitCount(el, count, nonblocking) {\n                var attr = nonblocking ? nonBlockWaitCountAttr : waitCountAttr;\n\n                // Sets the elements current wait count\n                if (!count) {\n                    $(el).removeData(attr);\n                } else {\n                    $(el).data(attr, count);\n                }\n            }\n\n            function nonblockEl(el, options) {\n                var childOptions = angular.extend({}, options),\n                    nonblock = $(el).children(\".bb-wait-nonblock\");\n\n                if (nonblock.length === 0) {\n                    nonblock = $(\"<div class='bb-wait-nonblock'></div>\");\n                    $(el).append(nonblock);\n                    $(nonblock).click(function () {\n                        nonblock.hide();\n                    });\n                }\n                nonblock.show();\n\n                childOptions.nonblocking = false;\n\n                addWait(nonblock[0], childOptions);\n            }\n\n            function unNonblockEl(el, options) {\n                var childOptions = angular.extend({}, options),\n                    nonblock = $(el).children(\".bb-wait-nonblock\");\n\n                if (nonblock.length > 0) {\n                    childOptions.nonblocking = false;\n                    removeWait(nonblock[0], childOptions);\n                }\n            }\n\n            function blockEl(el, options) {\n                // Shows the element block UI.\n\n                var customBlockOptions,\n                    $el = $(el);\n\n                if (!isBlockUISupported()) {\n                    return;\n                }\n\n                /* istanbul ignore if: this doesn't seem ever be hit; maybe revisit. */\n                if ($el.data(showingWaitAttr)) {\n                    // If we're already showing the block, then don't start this again.\n                    // Using a different flag than the count itself to support delaying the unblock.\n                    return;\n                }\n\n                function showFullBlock() {\n                    /* istanbul ignore if: this doesn't seem ever be hit; maybe revisit. */\n                    if (!$el.data(showingWaitAttr)) {\n                        // If we're no longer showing the wait then the block was removed before the visible block was added.\n                        // We shouldn't continue to add the visible block.\n                        return;\n                    }\n\n                    if (isFullPage(el)) {\n                        $.blockUI(angular.extend({}, fullPageVisibleBlockOptions, customBlockOptions));\n                    } else {\n                        $el.block(angular.extend({}, visibleBlockOptions, customBlockOptions));\n                    }\n                }\n\n                options = angular.extend({}, {\n                    visualBlockDelay: 300\n                }, options || /* istanbul ignore next: sanity check */ {});\n\n                customBlockOptions = {\n                    fadeIn: options.fadeIn\n                };\n\n                $el.data(showingWaitAttr, true);\n\n                if (options.visualBlockDelay) {\n                    if (isFullPage(el)) {\n                        $.blockUI(fullPageClearBlockOptions);\n                    } else {\n                        $el.block(clearBlockOptions);\n                    }\n\n                    $timeout(showFullBlock, options.visualBlockDelay);\n                } else {\n                    showFullBlock();\n                }\n            }\n\n            function unblockEl(el) {\n                // Removes the element block UI.\n\n                // Including a setTimeout here so that if a block is immediately re-added, then there won't be a blink\n                // between turning off the current block and then adding another.\n                // This timeout could default to something higher than 0 or we could make it configurable if needed.\n                // A set timeout of 0 handles blocks added without async operations before starting another, which\n                // would indicate that the block should have been maintained anyways.\n                $timeout(function () {\n                    /* istanbul ignore else: sanity check */\n                    if (getWaitCount(el) === 0) {\n                        var $el = $(el);\n\n                        if (!isBlockUISupported()) {\n                            return;\n                        }\n\n                        if (isFullPage(el)) {\n                            $.unblockUI();\n                        } else {\n                            $el.unblock();\n                        }\n                        $(el).removeData(showingWaitAttr);\n                    }\n                }, 0);\n            }\n\n            addWait = function (el, options) {\n                options = options || {};\n\n                // Increases the element wait count and shows the wait if the count is above 0.\n                var count = getWaitCount(el, options.nonblocking);\n                count += 1;\n\n                setWaitCount(el, count, options.nonblocking);\n                if (count === 1) {\n                    if (options.nonblocking) {\n                        nonblockEl(el, options);\n                    } else {\n                        blockEl(el, options);\n                    }\n                }\n            };\n\n            removeWait = function (el, options) {\n                options = options || {};\n\n                // Decreases the element wait count and hides the wait if the count is at 0.\n                var count = getWaitCount(el, options.nonblocking);\n                if (count > 0) {\n                    count -= 1;\n\n                    setWaitCount(el, count, options.nonblocking);\n                    if (count === 0) {\n                        if (options.nonblocking) {\n                            unNonblockEl(el, options);\n                        } else {\n                            unblockEl(el, options);\n                        }\n                    }\n                }\n            };\n\n            function clearAllWaits(el) {\n                // Forcibly clears out the wait count for an element\n                setWaitCount(el, 0);\n                unblockEl(el);\n                setWaitCount(el, 0, true);\n                unNonblockEl(el);\n            }\n\n            if (isBlockUISupported()) {\n                // Clear any blockUI defaults.  Specifying these in the block call itself just gets appended to the defaults\n                // but is incapable of generically clearing them all.\n                $.blockUI.defaults.css = {};\n                $.blockUI.defaults.overlayCSS = {};\n            }\n\n            return {\n                beginElWait: function (el, options) {\n                    addWait(el, options);\n                },\n                beginPageWait: function (options) {\n                    addWait(document.body, options);\n                },\n                clearElWait: function (el) {\n                    clearAllWaits(el);\n                },\n                clearPageWait: function () {\n                    clearAllWaits(document.body);\n                },\n                endElWait: function (el, options) {\n                    removeWait(el, options);\n                },\n                endPageWait: function (options) {\n                    removeWait(document.body, options);\n                }\n            };\n        }])\n        .directive('bbWait', ['bbWait', function (bbWait) {\n            /// <summary>\n            /// This directive provides an attribute that can be placed on elements indicating whether they should or shouldn't be blocked for waiting.\n            /// </summary>\n            return {\n                restrict: 'A',\n                link: function (scope, el, attrs) {\n                    var firstScopeLoad = true;\n                    scope.$watch(attrs.bbWait, function (value, oldValue) {\n                        if (value && (!oldValue || firstScopeLoad)) {\n                            bbWait.beginElWait(el);\n                        } else if (oldValue && !value) {\n                            bbWait.endElWait(el);\n                        }\n                        firstScopeLoad = false;\n                    });\n                }\n            };\n        }]);\n\n}(jQuery));\n","/*global angular*/\n\n/** @module Window\n@icon desktop\n@summary The window services provides helper methods to edit the browsers window title and to obtain the browsers scrollbar width.\n@description An angular service with the following functions:\n\n  - `setWindowTitle(title)` Changes the browser window's title. If a product name is specified in `bbWindowConfig`, then the product name will be appended to the passed title.\n  - `getScrollbarWidth` Calculates and returns the width of the scrollbar for the current browser.\n  - `isIosUserAgent` Uses window navigator user agent to determine if current user agent is an iPod, iPad, or iPhone.\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.window', [])\n        .constant('bbWindowConfig', {\n            productName: ''\n        })\n        .factory('bbWindow', ['$window', 'bbWindowConfig', '$timeout', '$document', function ($window, bbWindowConfig, $timeout, $document) {\n            var scrollbarWidth;\n\n            function calculateScrollbarWidth() {\n                var inner,\n                    outer,\n                    w1,\n                    w2;\n\n                inner = angular.element('<p></p>');\n                inner.css('width', '100%');\n                inner.css('height', '200px');\n\n                outer = angular.element('<div></div>');\n                outer.css('position', 'absolute');\n                outer.css('top', '0px');\n                outer.css('left', '0px');\n                outer.css('visibility', 'hidden');\n                outer.css('width', '200px');\n                outer.css('height', '150px');\n                outer.css('overflow', 'hidden');\n\n                outer.append(inner);\n\n                $document.find('body').append(outer);\n\n                w1 = inner[0].offsetWidth;\n\n                outer.css('overflow', 'scroll');\n                w2 = inner[0].offsetWidth;\n\n                /*istanbul ignore else: sanity check */\n                if (w1 === w2) {\n                    w2 = outer[0].clientWidth;\n                }\n                outer.remove();\n                return (w1 - w2);\n            }\n\n            return {\n                setWindowTitle: function (title) {\n                    var textToAppend = bbWindowConfig.productName;\n\n                    if (textToAppend) {\n                        title = title || '';\n\n                        if (title) {\n                            title += ' - ';\n                        }\n\n                        title += textToAppend;\n                    }\n\n                    //Adding a delay so the setWindowTitle method can be safely called after an angular\n                    //state change without taking affect until after the browser has completed its\n                    //state change.  Without this, the previous page will be renamed in the browser history.\n                    $timeout(function () {\n                        $window.document.title = title;\n                    });\n                },\n                getScrollbarWidth: function () {\n                    if (!scrollbarWidth && scrollbarWidth !== 0) {\n                        scrollbarWidth = calculateScrollbarWidth();\n                    }\n\n                    return scrollbarWidth;\n                },\n                isIosUserAgent: function () {\n                    return /iPad|iPod|iPhone/i.test($window.navigator.userAgent);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Wizard\n@icon magic\n@summary The wizard adjusts a modal form to guide users through a set of pre-defined steps in a particular order.\n @description Wizards are used on a modal form when the user needs to perform a set of pre-defined steps in a particular order. The Sky UX Wizard works in conjunction with the [Angular UI Bootstrap](http://angular-ui.github.io/bootstrap/) tabs component.  Placing the `bb-wizard` directive on a UI Bootstrap `tabset` element will cause the tabs to look and behave like a Sky wizard.\n\nSky Wizards also have the concept of a completed step which is denoted by the `bb-wizard-step-complete` directive. When present on a `tab` and bound to a truthy value, the step's tab will be displayed as completed.\n\nFinally there is a `bbWizardNavigator` service that provides some convenience methods for navigating through the wizard's steps. This will typically be used by wiring the navigator up to your modal's previous and next buttons.\n\nThe `bbWizardNavigator` service has an `init()` function that takes an `options` object with the following properties:\n\n- `steps` An array of steps. Each step should have the following properties:\n\n\n - `active` Indicates whether the step is the currently active step. This should be the same property that is bound to the UI Bootstrap `tab` directive's `active` property.\n - `disabled()` A function that returns a boolean indicating whether the tab is disabled. This should be the same function that is bound to the UI Bootstrap `tab` directive's `disable` property.\n - `complete()` A function that returns a boolean indicating whether the tab is complete. This should be the same function that is bound to the tab's `bb-wizard-step-complete` property.\n\nThe `bbWizardNavigator` also exposes the following methods:\n\n- `previousText()` Returns the text for the modal's Previous button. This usually doesn't change while the user interacts with the widget.\n- `nextText()` Returns the text for the modal's Next button. This changes to \"Finish\" when the user is on the last step.\n- `goToPrevious()` Navigates the user to the previous step.\n- `goToNext()` Navigates the user to the next step.\n- `previousDisabled()` Indicates whether the previous step is disabled. This should be bound to the `ng-disabled` property of the modal's Previous button.\n- `nextDisabled()` Indicates whether the next step is disabled. This should be bound to the `ng-disabled` property of the modal's Next button.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.wizard', ['sky.resources', 'ui.bootstrap.tabs'])\n        .directive('bbWizard', function () {\n            return {\n                link: function (scope, el) {\n                    /*jslint unparam: true */\n                    el.addClass('bb-wizard');\n                },\n                restrict: 'A'\n            };\n        })\n        .directive('bbWizardStepComplete', function () {\n            return {\n                link: function (scope, el, attrs) {\n                    scope.$watch(attrs.bbWizardStepComplete, function (newValue) {\n                        el[newValue ? 'addClass' : 'removeClass']('bb-wizard-step-complete');\n                    });\n                }\n            };\n        })\n        .factory('bbWizardNavigator', ['bbResources', function (bbResources) {\n            function stepIsDisabled(step) {\n                return angular.isFunction(step.disabled) && step.disabled();\n            }\n\n            return {\n                init: function (options) {\n                    /*jslint unparam: true */\n                    var steps,\n                        finish;\n\n                    function getPreviousStep() {\n                        var i,\n                            n,\n                            previousStep,\n                            step;\n\n                        for (i = 0, n = steps.length; i < n; i++) {\n                            step = steps[i];\n\n                            if (step.active && i > 0) {\n                                previousStep = steps[i - 1];\n\n                                if (!stepIsDisabled(previousStep)) {\n                                    return previousStep;\n                                }\n\n                                break;\n                            }\n                        }\n\n                        return null;\n                    }\n\n                    function getNextStep() {\n                        var i,\n                            n,\n                            nextStep,\n                            step;\n\n                        for (i = 0, n = steps.length; i < n; i++) {\n                            step = steps[i];\n\n                            if (step.active && i + 1 < n) {\n                                nextStep = steps[i + 1];\n\n                                if (!stepIsDisabled(nextStep)) {\n                                    return nextStep;\n                                }\n\n                                break;\n                            }\n                        }\n\n                        return null;\n                    }\n\n                    function setActiveStep(step) {\n                        if (step) {\n                            step.active = true;\n                        }\n                    }\n\n                    function lastStepIsActive() {\n                        return steps[steps.length - 1].active;\n                    }\n\n                    options = options || {};\n\n                    steps = options.steps;\n                    finish = options.finish;\n\n                    return {\n                        previousText: function () {\n                            return bbResources.wizard_navigator_previous;\n                        },\n                        nextText: function () {\n                            return lastStepIsActive() ? bbResources.wizard_navigator_finish : bbResources.wizard_navigator_next;\n                        },\n                        goToPrevious: function () {\n                            setActiveStep(getPreviousStep());\n                        },\n                        goToNext: function () {\n                            if (lastStepIsActive()) {\n                                if (angular.isFunction(finish)) {\n                                    finish();\n                                }\n                            } else {\n                                setActiveStep(getNextStep());\n                            }\n                        },\n                        previousDisabled: function () {\n                            return !getPreviousStep();\n                        },\n                        nextDisabled: function () {\n                            return !getNextStep() && !lastStepIsActive();\n                        }\n                    };\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    var modules = [\n        'sky.actionbar',\n        'sky.autofocus',\n        'sky.autonumeric',\n        'sky.check',\n        'sky.checklist',\n        'sky.contextmenu',\n        'sky.data',\n        'sky.datepicker',\n        'sky.daterangepicker',\n        'sky.format',\n        'sky.grids',\n        'sky.help',\n        'sky.helpbutton',\n        'sky.highlight',\n        'sky.mediabreakpoints',\n        'sky.modal',\n        'sky.moment',\n        'sky.navbar',\n        'sky.omnibar',\n        'sky.palette',\n        'sky.page',\n        'sky.pagination',\n        'sky.popover',\n        'sky.resources',\n        'sky.scrollintoview',\n        'sky.searchfield',\n        'sky.tabscroll',\n        'sky.tabset',\n        'sky.tabsref',\n        'sky.templates',\n        'sky.templating',\n        'sky.textexpand',\n        'sky.tiles',\n        'sky.tooltip',\n        'sky.utilities',\n        'sky.validation',\n        'sky.viewkeeper',\n        'sky.wait',\n        'sky.window',\n        'sky.wizard'\n    ];\n\n    try {\n        angular.module('toastr');\n        modules.push('sky.toast');\n    } catch (ignore) {\n        /* The toastr module isn't defined.  Do not load sky.toast module */\n    }\n\n    try {\n        angular.module('ngFileUpload');\n        modules.push('sky.fileattachments');\n    } catch (ignore) {\n\n    }\n\n    angular.module('sky', modules);\n\n}());\n","/*jshint unused: false */\n/*global angular */\n\n(function () {\n'use strict';\n\nvar bbResourcesOverrides;\n\nbbResourcesOverrides = {\"action_bar_actions\":\"Actions\",\"autonumeric_abbr_billions\":\"b\",\"autonumeric_abbr_millions\":\"m\",\"autonumeric_abbr_thousands\":\"k\",\"checklist_select_all\":\"Select all\",\"checklist_clear_all\":\"Clear all\",\"checklist_no_items\":\"No items found\",\"grid_back_to_top\":\"Back to top\",\"grid_column_picker_all_categories\":\"All\",\"grid_column_picker_description_header\":\"Description\",\"grid_column_picker_header\":\"Choose columns to show in the list\",\"grid_column_picker_name_header\":\"Column\",\"grid_column_picker_search_placeholder\":\"Search by name\",\"grid_column_picker_submit\":\"Apply changes\",\"grid_columns_button\":\" Choose columns\",\"grid_filters_apply\":\"Apply filters\",\"grid_filters_button\":\"Filters\",\"grid_filters_clear\":\"Clear\",\"grid_filters_header\":\"Filter\",\"grid_filters_hide\":\"Hide\",\"grid_filters_summary_header\":\"Filter:\",\"grid_load_more\":\"Load more\",\"grid_search_placeholder\":\"Find in this list\",\"grid_column_picker_search_no_columns\":\"No columns found\",\"modal_footer_cancel_button\":\"Cancel\",\"modal_footer_primary_button\":\"Save\",\"month_short_april\":\"Apr\",\"month_short_august\":\"Aug\",\"month_short_december\":\"Dec\",\"month_short_february\":\"Feb\",\"month_short_january\":\"Jan\",\"month_short_july\":\"Jul\",\"month_short_june\":\"Jun\",\"month_short_march\":\"Mar\",\"month_short_may\":\"May\",\"month_short_november\":\"Nov\",\"month_short_october\":\"Oct\",\"month_short_september\":\"Sep\",\"page_noaccess_button\":\"Return to a non-classified page\",\"page_noaccess_description\":\"Sorry, you don't have rights to this page.\\nIf you feel you should, please contact your system administrator.\",\"page_noaccess_header\":\"Move along, there's nothing to see here\",\"text_expand_see_less\":\"See less\",\"text_expand_see_more\":\"See more\",\"text_expand_modal_title\":\"Expanded view\",\"grid_action_bar_clear_selection\":\"Clear selection\",\"grid_action_bar_cancel_mobile_actions\":\"Cancel\",\"grid_action_bar_choose_action\":\"Choose an action\",\"date_field_invalid_date_message\":\"Please enter a valid date\",\"date_range_picker_this_week\":\"This week\",\"date_range_picker_last_week\":\"Last week\",\"date_range_picker_next_week\":\"Next week\",\"date_range_picker_this_month\":\"This month\",\"date_range_picker_last_month\":\"Last month\",\"date_range_picker_next_month\":\"Next month\",\"date_range_picker_this_calendar_year\":\"This calendar year\",\"date_range_picker_last_calendar_year\":\"Last calendar year\",\"date_range_picker_next_calendar_year\":\"Next calendar year\",\"date_range_picker_this_fiscal_year\":\"This fiscal year\",\"date_range_picker_last_fiscal_year\":\"Last fiscal year\",\"date_range_picker_next_fiscal_year\":\"Next fiscal year\",\"date_range_picker_this_quarter\":\"This quarter\",\"date_range_picker_last_quarter\":\"Last quarter\",\"date_range_picker_next_quarter\":\"Next quarter\",\"date_range_picker_at_any_time\":\"At any time\",\"date_range_picker_today\":\"Today\",\"date_range_picker_tomorrow\":\"Tomorrow\",\"date_range_picker_yesterday\":\"Yesterday\",\"date_range_picker_filter_description_this_week\":\"{0} for this week\",\"date_range_picker_filter_description_last_week\":\"{0} from last week\",\"date_range_picker_filter_description_next_week\":\"{0} for next week\",\"date_range_picker_filter_description_this_month\":\"{0} for this month\",\"date_range_picker_filter_description_last_month\":\"{0} from last month\",\"date_range_picker_filter_description_next_month\":\"{0} for next month\",\"date_range_picker_filter_description_this_calendar_year\":\"{0} for this calendar year\",\"date_range_picker_filter_description_last_calendar_year\":\"{0} from last calendar year\",\"date_range_picker_filter_description_next_calendar_year\":\"{0} for next calendar year\",\"date_range_picker_filter_description_this_fiscal_year\":\"{0} for this fiscal year\",\"date_range_picker_filter_description_last_fiscal_year\":\"{0} from last fiscal year\",\"date_range_picker_filter_description_next_fiscal_year\":\"{0} for next fiscal year\",\"date_range_picker_filter_description_this_quarter\":\"{0} for this quarter\",\"date_range_picker_filter_description_last_quarter\":\"{0} from last quarter\",\"date_range_picker_filter_description_next_quarter\":\"{0} for next quarter\",\"date_range_picker_filter_description_at_any_time\":\"{0} at any time\",\"date_range_picker_filter_description_today\":\"{0} for today\",\"date_range_picker_filter_description_yesterday\":\"{0} from yesterday\",\"date_range_picker_filter_description_tomorrow\":\"{0} for tomorrow\",\"file_size_b_plural\":\"{0} bytes\",\"file_size_b_singular\":\"{0} byte\",\"file_size_kb\":\"{0} KB\",\"file_size_mb\":\"{0} MB\",\"file_size_gb\":\"{0} GB\",\"file_upload_drag_file_here\":\"Drag a file here\",\"file_upload_drop_files_here\":\"Drop files here\",\"file_upload_invalid_file\":\"This file type is invalid\",\"file_upload_link_placeholder\":\"http://www.something.com/file\",\"file_upload_or_click_to_browse\":\"or click to browse\",\"file_upload_paste_link\":\"Paste a link to a file\",\"file_upload_paste_link_done\":\"Done\",\"searchfield_searching\":\"Searching...\",\"searchfield_no_records\":\"text for ui-select search control when no records are found,\",\"wizard_navigator_finish\":\"Finish\",\"wizard_navigator_next\":\"Next\",\"wizard_navigator_previous\":\"Previous\",\"datepicker_today\":\"Today\",\"datepicker_clear\":\"Clear\",\"datepicker_close\":\"Done\"};\n\nangular.module('sky.resources')\n    .config(['bbResources', function (bbResources) {\n        angular.extend(bbResources, bbResourcesOverrides);\n    }]);\n}());\n","angular.module('sky.templates', []).run(['$templateCache', function($templateCache) {\n    $templateCache.put('sky/templates/actionbar/actionbar.html',\n        '<div class=\"bb-action-bar\">\\n' +\n        '    <ng-transclude></ng-transclude>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/actionbar/actionbaritem.html',\n        '<button class=\"btn bb-btn-secondary bb-action-bar-item-button\" type=\"button\">\\n' +\n        '    <ng-transclude></ng-transclude>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/actionbar/actionbaritemgroup.html',\n        '<div class=\"bb-action-bar-group\">\\n' +\n        '    <div class=\"bb-action-bar-buttons hidden-xs\">\\n' +\n        '        <ng-transclude />\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-action-bar-dropdown hidden-sm hidden-md hidden-lg\">\\n' +\n        '        <div uib-dropdown>\\n' +\n        '             <button class=\"btn bb-btn-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\\n' +\n        '            {{bbActionBarItemGroup.title}}<span class=\"caret\"/>\\n' +\n        '            </button>\\n' +\n        '\\n' +\n        '            <ul uib-dropdown-menu>\\n' +\n        '\\n' +\n        '            </ul>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/check/styled.html',\n        '<span></span>\\n' +\n        '');\n    $templateCache.put('sky/templates/check/wrapper.html',\n        '<label class=\"bb-check-wrapper\"></label>\\n' +\n        '');\n    $templateCache.put('sky/templates/checklist/checklist.html',\n        '<div>\\n' +\n        '    <div>\\n' +\n        '        <div ng-if=\"bbChecklistIncludeSearch\" class=\"bb-checklist-filter-bar\">\\n' +\n        '            <div class=\"bb-checklist-search\">\\n' +\n        '                <input type=\"text\" class=\"bb-checklist-search-box\" maxlength=\"255\" placeholder=\"{{bbChecklistSearchPlaceholder}}\" ng-model=\"locals.searchText\" ng-model-options=\"{debounce: bbChecklistSearchDebounce}\" data-bbauto-field=\"ChecklistSearch\">\\n' +\n        '                <div class=\"bb-checklist-search-icon\">\\n' +\n        '                    <i class=\"fa fa-search\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div ng-if=\"bbChecklistCategories && bbChecklistCategories.length > 0\" class=\"bb-checklist-filter-bar bb-checklist-category-bar\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-sm\" ng-click=\"locals.filterByCategory()\" ng-class=\"locals.selectedCategory ? \\'btn-default\\' : \\'btn-primary\\'\">{{\\'grid_column_picker_all_categories\\' | bbResources}}</button>\\n' +\n        '            <button ng-repeat=\"category in bbChecklistCategories\" type=\"button\" class=\"btn btn-sm\" ng-click=\"locals.filterByCategory(category)\" ng-class=\"locals.selectedCategory === category ? \\'btn-primary\\' : \\'btn-default\\'\">{{category}}</button>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"bb-checklist-filter-bar bb-checklist-select-all-bar\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-link\" data-bbauto-field=\"ChecklistSelectAll\" ng-click=\"locals.selectAll()\">{{\\'checklist_select_all\\' | bbResources}}</button>\\n' +\n        '            <button type=\"button\" class=\"btn btn-link\" data-bbauto-field=\"ChecklistClear\" ng-click=\"locals.clear()\">{{\\'checklist_clear_all\\' | bbResources}}</button>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-checklist-wrapper\" ng-switch=\"bbChecklistMode\">\\n' +\n        '        <div ng-switch-when=\"list\" data-bbauto-repeater=\"ChecklistItems\" data-bbauto-repeater-count=\"{{locals.filteredItems.length}}\">\\n' +\n        '            <label class=\"bb-checklist-list-row\" ng-repeat=\"item in locals.filteredItems\" data-bbauto-field=\"{{item.name}}\">\\n' +\n        '                <div class=\"bb-checklist-list-col bb-checklist-list-col-checkbox\">\\n' +\n        '                    <input\\n' +\n        '                           bb-check\\n' +\n        '                           type=\"checkbox\"\\n' +\n        '                           checklist-model=\"bbChecklistSelectedItems\"\\n' +\n        '                           checklist-value=\"item\"\\n' +\n        '                           />\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-checklist-list-col\">\\n' +\n        '                    <div class=\"bb-checklist-list-title\" bb-highlight=\"locals.searchText\" ng-bind=\"item.title\"></div>\\n' +\n        '                    <div class=\"bb-checklist-list-description\" bb-highlight=\"locals.searchText\" ng-bind=\"item.description\"></div>\\n' +\n        '                </div>\\n' +\n        '            </label>\\n' +\n        '        </div>\\n' +\n        '        <table class=\"table bb-checklist-table\" ng-switch-default>\\n' +\n        '            <thead>\\n' +\n        '                <tr>\\n' +\n        '                    <th class=\"bb-checklist-checkbox-column\"></th>\\n' +\n        '                    <th ng-repeat=\"column in locals.columns\" class=\"{{column.class}}\" ng-style=\"{\\'width\\': column.width}\">{{column.caption}}</th>\\n' +\n        '                </tr>\\n' +\n        '            </thead>\\n' +\n        '            <tbody bb-highlight=\"locals.searchText\" bb-highlight-beacon=\"locals.highlightRefresh\" data-bbauto-repeater=\"ChecklistItems\" data-bbauto-repeater-count=\"{{locals.filteredItems.length}}\">\\n' +\n        '                <tr ng-repeat=\"item in locals.filteredItems\" ng-click=\"locals.rowClicked(item);\" class=\"bb-checklist-row\">\\n' +\n        '                    <td>\\n' +\n        '                        <input bb-check type=\"checkbox\" checklist-model=\"bbChecklistSelectedItems\" checklist-value=\"item\" data-bbauto-field=\"{{item[bbChecklistAutomationField]}}\" />\\n' +\n        '                    </td>\\n' +\n        '                    <td ng-repeat=\"column in locals.columns\" class=\"{{column.class}}\" data-bbauto-field=\"{{column.automationId}}\" data-bbauto-index=\"{{$parent.$index}}\">{{item[column.field]}}</td>\\n' +\n        '                </tr>\\n' +\n        '            </tbody>\\n' +\n        '        </table>\\n' +\n        '        <div class=\"bb-checklist-no-items\" ng-if=\"!locals.filteredItems.length\">{{bbChecklistNoItemsMessage || (\\'checklist_no_items\\' | bbResources)}}</div>\\n' +\n        '    </div>\\n' +\n        '    <div ng-transclude></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/contextmenu.html',\n        '<div class=\"bb-context-menu\" data-bbauto-field=\"ContextMenuActions\" uib-dropdown>\\n' +\n        '    <bb-context-menu-button data-bbauto-field=\"ContextMenuAnchor\" ng-click=\"contextButtonStopPropagation($event)\" uib-dropdown-toggle></bb-context-menu-button>\\n' +\n        '    <ul uib-dropdown-menu role=\"menu\">\\n' +\n        '        <ng-transclude/>\\n' +\n        '    </ul>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/menubutton.html',\n        '<button type=\"button\" class=\"btn bb-btn-secondary bb-context-menu-btn\"><i class=\"fa fa-ellipsis-h\"></i></button>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/menuitem.html',\n        '<li role=\"presentation\"><a role=\"menuitem\" href=\"javascript:void(0)\" ng-click=\"clickItem()\"><ng-transclude/></a></li>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/submenu.html',\n        '<div class=\"bb-submenu\">\\n' +\n        '    <uib-accordion>\\n' +\n        '        <uib-accordion-group is-open=\"accordionLocals.accordionOpen\">\\n' +\n        '\\n' +\n        '            <uib-accordion-heading ng-if=\"accordionLocals.staticHeader\">\\n' +\n        '                <div ng-click=\"toggleAccordion($event)\">\\n' +\n        '                    <span>\\n' +\n        '                        {{heading}}\\n' +\n        '                    <span>\\n' +\n        '                    <i ng-class=\"\\'fa-chevron-\\' + (accordionLocals.accordionOpen ? \\'up\\' : \\'down\\')\" class=\"fa bb-submenu-chevron\"></i>\\n' +\n        '                </div>\\n' +\n        '            </uib-accordion-heading>\\n' +\n        '            <ng-transclude></ng-transclude>\\n' +\n        '        </uib-accordion-group>\\n' +\n        '    </uib-accordion>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/submenuheading.html',\n        '<uib-accordion-heading>\\n' +\n        '    <div ng-click=\"toggleAccordion($event)\">\\n' +\n        '        <ng-transclude></ng-transclude>\\n' +\n        '        <i ng-class=\"\\'fa-chevron-\\' + (accordionLocals.accordionOpen ? \\'up\\' : \\'down\\')\" class=\"fa bb-submenu-chevron\"></i>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '</uib-accordion-heading>\\n' +\n        '');\n    $templateCache.put('sky/templates/datefield/datefield.html',\n        '<span class=\"add-on input-group-btn\">\\n' +\n        '    <button type=\"button\" class=\"btn btn-default bb-date-field-calendar-button\">\\n' +\n        '        <i class=\"fa fa-calendar\"></i>\\n' +\n        '    </button>\\n' +\n        '</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/datepicker/datepicker.html',\n        '<div>\\n' +\n        '    <div ng-if=\"locals.loaded\" class=\"input-group bb-datefield\">\\n' +\n        '        <input name=\"{{locals.inputName}}\" type=\"text\" class=\"form-control\" ng-model=\"locals.date\" is-open=\"locals.opened\" datepicker-options=\"locals.dateOptions\" uib-datepicker-popup=\"{{format}}\" show-button-bar=\"locals.showButtonBar\" current-text=\"{{resources.datepicker_today}}\" clear-text=\"{{resources.datepicker_clear}}\" close-text=\"{{resources.datepicker_close}}\" datepicker-append-to-body=\"{{locals.appendToBody}}\" close-on-date-selection=\"{{locals.closeOnSelection}}\" bb-datepicker-custom-validate=\"{{locals.hasCustomValidation}}\" placeholder=\"{{placeholderText}}\" max-date=\"maxDate\" min-date=\"minDate\" ng-required=\"locals.required\" bb-min-date bb-max-date />\\n' +\n        '        <span class=\"bb-datepicker-button-container add-on input-group-btn\" ng-class=\"{\\'bb-datefield-open\\': locals.opened}\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-default bb-date-field-calendar-button\" ng-click=\"locals.open($event)\">\\n' +\n        '                <i class=\"fa fa-calendar\"></i>\\n' +\n        '            </button>\\n' +\n        '        </span>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/daterangepicker/daterangepicker.html',\n        '<div>\\n' +\n        '    <select data-bbauto-field=\"{{bbDateRangePickerAutomationId}}_DateRangeType\"\\n' +\n        '            class=\"form-control\"\\n' +\n        '            ng-options=\"locals.bbDateRangePicker.getDateRangeTypeCaption(t) for t in (bbDateRangePickerOptions.availableDateRangeTypes || locals.bbDateRangePicker.defaultDateRangeOptions)\"\\n' +\n        '            ng-model=\"bbDateRangePickerValue.dateRangeType\" />\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/fileattachments/filedrop.html',\n        '<div class=\"row bb-file-drop-row\">\\n' +\n        '    <div class=\"col-xs-12 bb-file-drop-col\" ng-class=\"{\\'col-sm-6\\': bbFileDrop.allowLinks}\">\\n' +\n        '        <div\\n' +\n        '             class=\"bb-file-drop bb-file-drop-target\"\\n' +\n        '             ngf-drop\\n' +\n        '             ngf-keep=\"false\"\\n' +\n        '             ngf-drag-over-class=\"{accept: \\'bb-file-drop-accept\\', reject: \\'bb-file-drop-reject\\'}\"\\n' +\n        '             ngf-change=\"bbFileDrop.fileChange($files, $event, $rejectedFiles)\"\\n' +\n        '             >\\n' +\n        '            <div class=\"bb-file-drop-contents\" ng-if=\"!bbFileDrop.hasTranscludeContents\">\\n' +\n        '                <div class=\"bb-file-drop-contents-not-over\">\\n' +\n        '                    <h4>{{\\'file_upload_drag_file_here\\' | bbResources}}</h4>\\n' +\n        '                    <h5>{{\\'file_upload_or_click_to_browse\\' | bbResources}}</h5>\\n' +\n        '                    <i class=\"fa fa-cloud-upload bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-file-drop-contents-accept\">\\n' +\n        '                    <h4>{{\\'file_upload_drop_files_here\\' | bbResources}}</h4>\\n' +\n        '                    <i class=\"fa fa-bullseye bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-file-drop-contents-reject\">\\n' +\n        '                    <h4>{{\\'file_upload_invalid_file\\' | bbResources}}</h4>\\n' +\n        '                    <i class=\"fa fa-times-circle bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-file-drop-contents-custom\" ng-transclude></div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"col-sm-6 col-xs-12 bb-file-drop-col\" ng-if=\"bbFileDrop.allowLinks\">\\n' +\n        '        <div class=\"bb-file-drop-contents\">\\n' +\n        '            <div class=\"bb-file-drop-link\">\\n' +\n        '                <h4 class=\"bb-file-drop-link-header\">{{\\'file_upload_paste_link\\' | bbResources}}</h4>\\n' +\n        '                <div class=\"form-group\">\\n' +\n        '                    <input\\n' +\n        '                           type=\"text\"\\n' +\n        '                           class=\"form-control\"\\n' +\n        '                           placeholder=\"{{\\'file_upload_link_placeholder\\' | bbResources}}\"\\n' +\n        '                           ng-model=\"bbFileDrop.url\"\\n' +\n        '                           ng-keypress=\"$event.keyCode === 13 && bbFileDrop.addLink($event)\"\\n' +\n        '                           />\\n' +\n        '                </div>\\n' +\n        '                <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!bbFileDrop.url\" ng-click=\"bbFileDrop.addLink($event)\">\\n' +\n        '                    {{\\'file_upload_paste_link_done\\' | bbResources}}\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/fileattachments/fileitem.html',\n        '<div class=\"bb-file-item\">\\n' +\n        '    <div class=\"row bb-file-item-title\">\\n' +\n        '        <div class=\"col-xs-10\">\\n' +\n        '            <div class=\"bb-file-item-name\">\\n' +\n        '                <strong>{{item.name || item.url}}</strong>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-file-item-size\" ng-if=\"bbFileItem.isFile()\">\\n' +\n        '                ({{item.size | bbFileSize}})\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"col-xs-2\">\\n' +\n        '            <div class=\"pull-right\">\\n' +\n        '                <button type=\"button\" class=\"btn bb-btn-secondary bb-file-item-btn-delete\" ng-click=\"itemDelete()\">\\n' +\n        '                    <i class=\"glyphicon glyphicon-trash\"></i>\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"row\">\\n' +\n        '        <div ng-switch=\"bbFileItem.isImg()\" class=\"col-xs-3\">\\n' +\n        '            <div ng-switch-when=\"true\" class=\"center-block\">\\n' +\n        '              <img ng-if=\"item.url\" class=\"bb-file-item-preview-img\" ng-src=\"{{item.url}}\" />\\n' +\n        '              <img ng-if=\"!item.url\" class=\"bb-file-item-preview-img\" ngf-src=\"item\" />\\n' +\n        '            </div>\\n' +\n        '            <div ng-switch-when=\"false\" class=\"bb-file-item-preview-other\">\\n' +\n        '                <i class=\"fa\" ng-class=\"bbFileItem.otherCls\"></i>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"col-xs-9\" ng-transclude>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/actionbar.html',\n        '<div ng-show=\"locals.showActionBar\" data-bbauto-view=\"GridActionBar\">\\n' +\n        '    <div ng-if=\"!locals.showMobileActions\" class=\"bb-grid-action-bar\">\\n' +\n        '        <div ng-if=\"!locals.mobileButtons\" class=\"bb-grid-action-bar-buttons\" ng-repeat=\"action in locals.actions\">\\n' +\n        '            <button type=\"button\" class=\"btn\" ng-class=\"{\\'btn-primary\\': action.isPrimary, \\'bb-btn-secondary\\': !action.isPrimary}\" data-bbauto-field=\"{{action.automationId}}\" ng-click=\"action.actionCallback()\" ng-disabled=\"action.selections.length < 1\">{{action.title}} ({{action.selections.length}})</button>\\n' +\n        '        </div>\\n' +\n        '        <div ng-if=\"locals.mobileButtons\" class=\"bb-grid-action-bar-buttons\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"locals.chooseAction()\">\\n' +\n        '                <span>{{resources.grid_action_bar_choose_action}}</span>\\n' +\n        '            </button>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-grid-action-bar-clear-selection\" ng-click=\"locals.clearSelection()\">\\n' +\n        '            {{resources.grid_action_bar_clear_selection}}\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '    <div ng-if=\"locals.showMobileActions\" class=\"bb-grid-action-bar-mobile-buttons\">\\n' +\n        '        <div class=\"bb-grid-action-bar-btn-container\">\\n' +\n        '            <div ng-repeat=\"action in locals.actions\">\\n' +\n        '                <button type=\"button\" class=\"bb-grid-action-bar-mobile-btn btn btn-block btn-lg\" ng-class=\"{\\'btn-primary\\': action.isPrimary, \\'bb-btn-secondary\\': !action.isPrimary}\" ng-click=\"action.actionCallback()\" ng-disabled=\"action.selections.length < 1\">{{action.title}} ({{action.selections.length}})</button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-grid-action-bar-mobile-cancel bb-grid-action-bar-clear-selection\" ng-click=\"locals.cancelChooseAction()\">\\n' +\n        '            {{resources.grid_action_bar_cancel_mobile_actions}}\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/columnpicker.html',\n        '<bb-modal data-bbauto-view=\"ColumnPicker\">\\n' +\n        '  <bb-modal-header bb-modal-help-key=\"$parent.columnPickerHelpKey\">{{\\'grid_column_picker_header\\' | bbResources}}</bb-modal-header>\\n' +\n        '  <div bb-modal-body>\\n' +\n        '    <bb-checklist\\n' +\n        '                  bb-checklist-items=\"columns\" \\n' +\n        '                  bb-checklist-selected-items=\"locals.selectedColumns\" \\n' +\n        '                  bb-checklist-include-search=\"\\'true\\'\" \\n' +\n        '                  bb-checklist-search-placeholder=\"{{\\'grid_column_picker_search_placeholder\\' | bbResources}}\" \\n' +\n        '                  bb-checklist-no-items-message=\"{{\\'grid_column_picker_search_no_columns\\' | bbResources}}\"\\n' +\n        '                  bb-checklist-categories=\"categories\" \\n' +\n        '                  bb-checklist-mode=\"list\" \\n' +\n        '                  bb-checklist-filter-local\\n' +\n        '                  >\\n' +\n        '    </bb-checklist>\\n' +\n        '  </div>\\n' +\n        '  <bb-modal-footer>\\n' +\n        '    <bb-modal-footer-button-primary data-bbauto-field=\"ColumnPickerSubmit\" ng-click=\"applyChanges()\">{{\\'grid_column_picker_submit\\' | bbResources}}</bb-modal-footer-button-primary>\\n' +\n        '    <bb-modal-footer-button-cancel data-bbauto-field=\"ColumnPickerCancel\"></bb-modal-footer-button-cancel>\\n' +\n        '  </bb-modal-footer>\\n' +\n        '</bb-modal>');\n    $templateCache.put('sky/templates/grids/dropdown.html',\n        '<div class=\"bb-context-menu\" data-bbauto-field=\"ContextMenuActions\" uib-dropdown dropdown-append-to-body ng-if=\"locals.items.length > 0\" is-open=\"locals.is_open\">\\n' +\n        '    <bb-context-menu-button data-bbauto-field=\"ContextMenuAnchor\" ng-click=\"locals.toggleDropdown($event)\">\\n' +\n        '    </bb-context-menu-button>\\n' +\n        '    <ul uib-dropdown-menu role=\"menu\">\\n' +\n        '        <bb-context-menu-item ng-repeat=\"item in locals.items\" bb-context-menu-action=\"item.cmd()\">{{item.title}}</bb-context-menu-item>\\n' +\n        '    </ul>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filters.html',\n        '<div style=\"display:none;\">\\n' +\n        '    <div bb-scrolling-view-keeper=\"viewKeeperOptions\" class=\"bb-grid-filters grid-filters\">\\n' +\n        '        <div class=\"bb-grid-filters-box\" bb-scroll-into-view=\"locals.expanded\">\\n' +\n        '            <div class=\"bb-grid-filters-icon\" ng-click=\"locals.expanded = !locals.expanded\"></div>\\n' +\n        '            <div class=\"bb-grid-filters-container\" style=\"display:none;\">\\n' +\n        '                <div class=\"bb-grid-filters-header\" ng-click=\"locals.expanded = !locals.expanded\">\\n' +\n        '                    <h4 class=\"bb-grid-filters-header-title\">{{resources.grid_filters_header}}</h4>\\n' +\n        '                    <span class=\"bb-grid-filters-header-hide\">{{resources.grid_filters_hide}}</span>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-grid-filters-body\" ng-transclude></div>\\n' +\n        '                <div class=\"bb-grid-filters-footer\">\\n' +\n        '                    <button data-bbauto-field=\"ApplyGridFilters\" class=\"btn btn-primary\" type=\"submit\" ng-click=\"applyFilters()\">{{resources.grid_filters_apply}}</button>\\n' +\n        '                    <button data-bbauto-field=\"ClearGridFilters\" class=\"btn bb-btn-secondary\" type=\"button\" ng-click=\"clearFilters()\">{{resources.grid_filters_clear}}</button>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filtersgroup.html',\n        '<div class=\"form-group\" ng-class=\"isCollapsed ? \\'collapsed\\' : \\'collapsible\\'\">\\n' +\n        '    <div ng-click=\"isCollapsed = !isCollapsed\">\\n' +\n        '        <i ng-class=\"\\'glyphicon-chevron-\\' + (isCollapsed ? \\'down\\' : \\'up\\')\" class=\"bb-grid-filters-body-group-header-icon glyphicon\"></i>\\n' +\n        '        <label>{{bbGridFiltersGroupLabel}}</label>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filters-body-group-content\" uib-collapse=\"!!isCollapsed\" ng-transclude></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filterssummary.html',\n        '<div class=\"toolbar bb-table-toolbar bb-applied-filter-bar\">\\n' +\n        '    <div class=\"bb-applied-filter-header\">\\n' +\n        '        <span>{{resources.grid_filters_summary_header}}</span>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-applied-filter-content\" ng-click=\"openFilterMenu()\">\\n' +\n        '        <span class=\"bb-applied-filter-text\" data-bbauto-field=\"FilterSummaryText\" ng-transclude></span>\\n' +\n        '        <span class=\"fa fa-times close\" data-bbauto-field=\"FilterSummaryRemove\" ng-click=\"clearFilters(); $event.stopPropagation();\"></span>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/grid.html',\n        '<section class=\"bb-grid-container\" data-bbauto-grid=\"{{options.automationId}}\" data-bbauto-timestamp=\"{{locals.timestamp}}\" data-bbauto-repeater=\"{{options.automationId}}\" data-bbauto-repeater-count=\"{{locals.rowcount}}\">\\n' +\n        '\\n' +\n        '\\n' +\n        '    <div class=\"bb-grid-toolbar-viewkeeper\">\\n' +\n        '        <div ng-if=\"!customToolbar.hasCustomToolbar\">\\n' +\n        '            <div ng-show=\"locals.showToolbar\">\\n' +\n        '                <bb-grid-toolbar>\\n' +\n        '                    <ng-transclude></ng-transclude>\\n' +\n        '                </bb-grid-toolbar>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '\\n' +\n        '        <div ng-if=\"customToolbar.hasCustomToolbar\">\\n' +\n        '            <div ng-show=\"locals.showToolbar\">\\n' +\n        '                <ng-transclude></ng-transclude>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div class=\"clearfix\"></div>\\n' +\n        '\\n' +\n        '    <div class=\"table-responsive\">\\n' +\n        '\\n' +\n        '        <table id=\"{{locals.gridId}}\" class=\"bb-grid-table\" bb-wait=\"options.loading\" ng-class=\"{\\'grid-multiselect\\' : locals.multiselect}\"></table>\\n' +\n        '        <div class=\"bb-grid-empty-wait\" ng-if=\"locals.hasWaitAndEmpty()\" bb-wait=\"locals.hasWaitAndEmpty()\"></div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div ng-if=\"!paginationOptions\" class=\"bb-table-loadmore\" data-bbauto-field=\"LoadMoreButton\" ng-show=\"options.hasMoreRows\" ng-click=\"locals.loadMore()\">\\n' +\n        '        <span class=\"fa fa-cloud-download\"></span>\\n' +\n        '        <button type=\"button\" class=\"btn btn-link\">{{resources.grid_load_more}}</button>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div ng-if=\"paginationOptions\" class=\"bb-grid-pagination-container\">\\n' +\n        '        <uib-pagination ng-show=\"paginationOptions.recordCount > options.data.length\" total-items=\"paginationOptions.recordCount\" items-per-page=\"paginationOptions.itemsPerPage\" ng-model=\"locals.currentPage\" ng-change=\"paginationOptions.pageChanged()\" max-size=\"paginationOptions.maxPages\"></uib-pagination>\\n' +\n        '        <div class=\"clearfix\"></div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div class=\"bb-grid-action-bar-and-back-to-top\">\\n' +\n        '        <bb-grid-action-bar ng-if=\"locals.multiselect && multiselectActions && updateMultiselectActions\" bb-multiselect-actions=\"multiselectActions\" bb-selections-updated=\"updateMultiselectActions(selections)\">\\n' +\n        '        </bb-grid-action-bar>\\n' +\n        '        <div class=\"bb-table-backtotop\" data-bbauto-field=\"BackToTopButton\" ng-show=\"locals.isScrolled\" ng-click=\"locals.backToTop();\">\\n' +\n        '            <span style=\"float:left\">\\n' +\n        '                <span class=\"fa fa-arrow-up \"></span>\\n' +\n        '                <button type=\"button\" class=\"btn btn-link\">{{resources.grid_back_to_top}}</button>\\n' +\n        '            </span>\\n' +\n        '            <span style=\"float:right\">\\n' +\n        '                <span class=\"fa fa-arrow-up \"></span>\\n' +\n        '                <button type=\"button\" class=\"btn btn-link\">{{resources.grid_back_to_top}}</button>\\n' +\n        '            </span>\\n' +\n        '            <div class=\"clearfix\"></div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/gridtoolbar.html',\n        '<div class=\"bb-grid-toolbar-container\">\\n' +\n        '    <div class=\"clearfix toolbar bb-table-toolbar\">\\n' +\n        '        <button type=\"button\" data-bbauto-field=\"AddButton\" class=\"bb-grid-toolbar-btn btn-success btn\" ng-show=\"toolbarLocals.hasAdd\" ng-click=\"options.onAddClick()\">\\n' +\n        '            <i class=\"fa fa-plus-circle\"></i>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\" ng-show=\"options.onAddClickLabel\">{{options.onAddClickLabel}}</span>\\n' +\n        '        </button>\\n' +\n        '        <div class=\"bb-grid-toolbar-button-container\">\\n' +\n        '            <ng-transclude></ng-transclude>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"bb-search-container search-container\">\\n' +\n        '            <input type=\"text\" placeholder=\"{{resources.grid_search_placeholder}}\" ng-model=\"searchText\" ng-keyup=\"$event.keyCode == 13 && toolbarLocals.applySearchText()\" data-bbauto-field=\"SearchBox\" />\\n' +\n        '            <div class=\"bb-search-icon fa fa-search\" data-bbauto-field=\"SearchButton\" ng-click=\"toolbarLocals.applySearchText()\"></div>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-btn-secondary bb-grid-toolbar-btn bb-column-picker-btn\" data-bbauto-field=\"ColumnPickerButton\" ng-show=\"!options.hideColPicker\" ng-click=\"toolbarLocals.openColumnPicker()\">\\n' +\n        '            <span class=\"fa fa-columns\"></span>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\">{{resources.grid_columns_button}}</span>\\n' +\n        '        </button>\\n' +\n        '        <button type=\"button\" class=\"btn bb-btn-secondary bb-grid-toolbar-btn bb-filter-btn\" ng-class=\"{\\'bb-filters-inline-active\\': options.filtersAreActive}\" data-bbauto-field=\"FilterButton\" ng-show=\"!options.hideFilters\" ng-click=\"toolbarLocals.toggleFilterMenu()\">\\n' +\n        '            <span class=\"fa fa-filter\"></span>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\">{{resources.grid_filters_button}}</span>\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filter-summary-container\">\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filter-inline-container\" ng-hide=\"options.hasInlineFilters && !toolbarLocals.filtersVisible\">\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-top-scrollbar\">\\n' +\n        '        <div></div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/seemore.html',\n        '<div bb-text-expand=\"data\" bb-text-expand-max-length=\"100\" style=\"white-space: pre-wrap\"></div>');\n    $templateCache.put('sky/templates/modal/modal.html',\n        '<div class=\"bb-modal-content-wrapper\" ng-transclude></div>');\n    $templateCache.put('sky/templates/modal/modalfooter.html',\n        '<div class=\"modal-footer\" ng-transclude></div>\\n' +\n        '');\n    $templateCache.put('sky/templates/modal/modalfooterbutton.html',\n        '<button class=\"btn bb-btn-secondary\" type=\"button\" ng-transclude></button>\\n' +\n        '');\n    $templateCache.put('sky/templates/modal/modalfooterbuttoncancel.html',\n        '<button class=\"btn btn-link\" type=\"button\" ng-click=\"$parent.$parent.$dismiss(\\'cancel\\');\" ng-transclude></button>');\n    $templateCache.put('sky/templates/modal/modalfooterbuttonprimary.html',\n        '<button class=\"btn btn-primary\" type=\"submit\" ng-transclude></button>');\n    $templateCache.put('sky/templates/modal/modalheader.html',\n        '<div class=\"modal-header\">\\n' +\n        '    <h1 class=\"bb-dialog-header\" ng-transclude></h1>\\n' +\n        '    <div class=\"fa fa-times close\" ng-click=\"$parent.$parent.$dismiss(\\'close\\');\"></div>\\n' +\n        '    <div bb-help-button bb-help-key=\"{{bbModalHelpKey}}\" bb-set-help-key-override=\"true\" data-bbauto-field=\"ModalHelpButton\" ng-if=\"bbModalHelpKey\"></div>\\n' +\n        '    <div class=\"clearfix\"></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/navbar/navbar.html',\n        '<nav class=\"navbar navbar-default bb-navbar\" ng-transclude></nav>');\n    $templateCache.put('sky/templates/page/page.html',\n        '<section ng-if=\"locals.noPageStatusSpecified() || bbPageStatus === locals.pageStatuses.LOADED\">\\n' +\n        '    <div ng-transclude ng-init=\"locals.onShowing()\"></div>\\n' +\n        '</section>\\n' +\n        '<section class=\"container-fluid bb-page-content-column-container\" ng-show=\"bbPageStatus === locals.pageStatuses.NOT_AUTHORIZED\">\\n' +\n        '    <div class=\"row\">\\n' +\n        '        <section class=\"bb-page-content-column col-xs-12 text-center\">\\n' +\n        '            <div class=\"m\">\\n' +\n        '                <h3>\\n' +\n        '                    {{resources.page_noaccess_header}}\\n' +\n        '                </h3>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-page-noaccess-description\">{{resources.page_noaccess_description}}</div>\\n' +\n        '            <div class=\"m-lg\">\\n' +\n        '                <button type=\"button\" class=\"btn btn-lg btn-primary\" ng-click=\"locals.navigateAway()\" data-bbauto-field=\"NavigateAwayButton\">\\n' +\n        '                    {{resources.page_noaccess_button}}\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </section>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/popover/popup.html',\n        '<div class=\"popover {{placement}}\"\\n' +\n        '    tooltip-animation-class=\"fade\"\\n' +\n        '    uib-tooltip-classes\\n' +\n        '    ng-class=\"{ in: isOpen() }\">\\n' +\n        '  <div class=\"arrow\"></div>\\n' +\n        '\\n' +\n        '  <div class=\"popover-inner\">\\n' +\n        '    <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\\n' +\n        '    <div class=\"popover-content\"\\n' +\n        '        uib-tooltip-template-transclude=\"contentExp()\"\\n' +\n        '        tooltip-template-transclude-scope=\"originScope()\"></div>\\n' +\n        '  </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/searchfield/choices.html',\n        '<ul class=\"ui-select-choices ui-select-choices-content dropdown-menu\">\\n' +\n        '  <li class=\"bb-searchfield-no-records\"></li>\\n' +\n        '</ul>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabs/tab.html',\n        '<div ng-hide=\"!tabsInitialized\" data-bbauto-field=\"{{bbTabAutomationId}}\" class=\"responsiveTabControl\">\\n' +\n        '    <ul ng-transclude>\\n' +\n        '\\n' +\n        '    </ul>\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/tabset/addbutton.html',\n        '<button ng-click=\"bbTabAdd()\" type=\"button\" class=\"bb-tab-button-wrap btn bb-tab-button-add bb-btn-secondary\">\\n' +\n        '  <span class=\"btn bb-btn-secondary\"><i class=\"fa fa-lg fa-plus-circle\"></i></span>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/dropdown.html',\n        '<div class=\"bb-tabset-dropdown nav nav-tabs\" uib-dropdown ng-show=\"bbTabsetOptions.isSmallScreen &amp;&amp; bbTabsetOptions.tabCount > 1\">\\n' +\n        '  <button type=\"button\" class=\"btn btn-primary bb-tab-dropdown-button\" uib-dropdown-toggle><div class=\"bb-tab-header-text\">{{bbTabsetOptions.selectedTabHeader}}</div><i class=\"fa fa-caret-down\"></i></button>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/openbutton.html',\n        '<button ng-click=\"bbTabOpen()\" type=\"button\" class=\"bb-tab-button-wrap bb-tab-button-open btn bb-btn-secondary\">\\n' +\n        '  <span class=\"btn bb-btn-secondary\"><i class=\"fa fa-lg fa-folder-open-o\"></i></span>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/tabbutton.html',\n        '<li class=\"bb-tab-button\"></li>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/container.html',\n        '<div></div>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/ellipsis.html',\n        '<span class=\"bb-text-expand-ellipsis\">...</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/expandmodal.html',\n        '<bb-modal>\\n' +\n        '  <bb-modal-header>\\n' +\n        '    {{expandCtrl.headerContent}}\\n' +\n        '  </bb-modal-header>\\n' +\n        '  <div class=\"modal-form\">\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <div>\\n' +\n        '        <span class=\"bb-text-expand-text\">{{expandCtrl.textExpandContent}}</span>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <bb-modal-footer-button-cancel>Close</bb-modal-footer-button-cancel>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/seemore.html',\n        '<a href=\"#\" class=\"bb-text-expand-see-more\"></a>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/space.html',\n        '<span class=\"bb-text-expand-space\"> </span>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/text.html',\n        '<span class=\"bb-text-expand-text\"></span>\\n' +\n        '');\n    $templateCache.put('sky/templates/tiles/tile.html',\n        '<section ng-class=\"isCollapsed ? \\'collapsed\\' : \\'collapsible\\'\" class=\"bb-tile\">\\n' +\n        '    <div bb-scroll-into-view=\"scrollIntoView\">\\n' +\n        '        <div class=\"bb-tile-title\" ng-click=\"titleClick()\">\\n' +\n        '            <div class=\"bb-tile-header-with-content\">\\n' +\n        '                <h2 class=\"bb-tile-header\">{{tileHeader}}</h2>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-tile-header-column-tools\">\\n' +\n        '                <div class=\"bb-tile-tools\">\\n' +\n        '                    <i ng-class=\"\\'fa-chevron-\\' + (isCollapsed ? \\'down\\' : \\'up\\')\" class=\"fa bb-tile-chevron\"></i>\\n' +\n        '                    <i ng-if=\"hasSettings\" class=\"bb-tile-settings fa fa-cog\" ng-click=\"$event.stopPropagation();bbTileSettingsClick();\"></i>\\n' +\n        '                    <i class=\"bb-tile-grab-handle glyphicon glyphicon-th\" ng-click=\"$event.stopPropagation()\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div uib-collapse=\"isCollapsed\" class=\"bb-tile-content\" ng-transclude>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/tiles/tiledashboard.html',\n        '<div class=\"row\">\\n' +\n        '  <div class=\"col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable\" data-dashboard-column=\"1\">\\n' +\n        '    <div ng-repeat=\"tile in tiles\" data-tile-id=\"{{tile.id}}\" data-ui-view=\"{{tile.view_name}}\" id=\"{{tile.view_name}}\">\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '\\n' +\n        '  <div class=\"col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable\" data-dashboard-column=\"2\">\\n' +\n        '  </div>\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/tiles/tileheadercheck.html',\n        '<i class=\"fa fa-check bb-tile-header-check\"></i>');\n    $templateCache.put('sky/templates/tiles/tileheadercontent.html',\n        '<div class=\"bb-tile-header-content\" ng-transclude></div>');\n}]);\n","/*global angular */\n\n/** @module Action Bar\n@icon bolt\n@summary The action bar provides a SKY UX-themed container for buttons that can collapse when the screen is in extra-small mode.\n@description The action bar creates a SKY UX-themed container for buttons. It includes the option to collapse groups of buttons into dropdowns when the screen is in extra-small mode.\n### Action Bar Settings ###\n    - `bb-action-bar` &mdash; Wraps the content in the action bar.\n    - `bb-action-bar-item` &mdash; Wraps the content in an action button. Any `ng-click` applied to this directive is applied to the action button.\n    - `bb-action-bar-item-group` &mdash; Wraps `bb-action-bar-item` directives to collapse the buttons into a dropdown in extra-small mode. You can also pass an optional `bb-action-bar-item-group-title` to edit the default **Actions** label for the dropdown.\n\nTo apply action bar stylying to more complicated scenarios (hiding and showing buttons at breakpoints other than xs, collapsing dropdowns into submenus), you can place content in a `div` with the `bb-action-bar` class. Bootstrap convenience classes to  show/hide arbitrary content include the `hidden-xs`, `hidden-sm`, `hidden-md`, and `hidden-lg` classes. For more information about these classes, see the [Bootstrap](http://getbootstrap.com/css/#responsive-utilities-classes) documentation.\n*/\n\n(function () {\n    'use strict';\n\n    function bbActionBar() {\n        return {\n            controller: angular.noop,\n            controllerAs: 'bbActionBar',\n            bindToController: true,\n            scope: {},\n            transclude: true,\n            restrict: 'E',\n            templateUrl: 'sky/templates/actionbar/actionbar.html'\n        };\n    }\n\n    function bbActionBarItemGroup(bbResources, bbMediaBreakpoints) {\n        return {\n            replace: true,\n            transclude: true,\n            controller: function () {\n                var vm = this;\n\n                if (vm.title === null || angular.isUndefined(vm.title)) {\n                    vm.title = bbResources.action_bar_actions;\n                }\n            },\n            controllerAs: 'bbActionBarItemGroup',\n            bindToController: {\n                title: '=?bbActionBarItemGroupTitle'\n            },\n            restrict: 'E',\n            scope: {},\n            link: function ($scope, el) {\n                function mediaBreakpointHandler(breakpoints) {\n                    if (breakpoints.xs) {\n                        el.find('.bb-action-bar-buttons > ng-transclude').appendTo(el.find('.bb-action-bar-dropdown > .dropdown > ul'));\n                    } else {\n                        el.find('.bb-action-bar-dropdown .dropdown > ul > ng-transclude').appendTo(el.find('.bb-action-bar-buttons'));\n                    }\n                }\n\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                $scope.$on('$destroy', function () {\n                    bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                });\n            },\n            templateUrl: 'sky/templates/actionbar/actionbaritemgroup.html'\n        };\n    }\n\n    bbActionBarItemGroup.$inject = ['bbResources', 'bbMediaBreakpoints'];\n\n    function bbActionBarItem(bbMediaBreakpoints) {\n        return {\n            replace: true,\n            controller: angular.noop,\n            controllerAs: 'bbActionBarItem',\n            bindToController: true,\n            scope: {},\n            require: '?^bbActionBarItemGroup',\n            transclude: true,\n            restrict: 'E',\n            link: function ($scope, el, attrs, groupCtrl) {\n\n                function mediaBreakpointHandler(breakpoints) {\n                    if (breakpoints.xs) {\n                        if (!el.parent().is('li')) {\n                            el.wrap('<li></li>');\n                        }\n\n                    } else {\n                        if (el.parent().is('li')) {\n                            el.unwrap();\n                        }\n                    }\n                }\n\n                if (groupCtrl !== null) {\n                    bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                    $scope.$on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                        //get rid of wrapper on destroy\n                        if (el.parent().is('li')) {\n                            el.unwrap();\n                        }\n                    });\n                }\n            },\n            templateUrl: 'sky/templates/actionbar/actionbaritem.html'\n        };\n    }\n\n    bbActionBarItem.$inject = ['bbMediaBreakpoints'];\n\n    angular.module('sky.actionbar', ['sky.resources', 'sky.mediabreakpoints', 'ui.bootstrap.dropdown'])\n        .directive('bbActionBar', bbActionBar)\n        .directive('bbActionBarItemGroup', bbActionBarItemGroup)\n        .directive('bbActionBarItem', bbActionBarItem);\n}());\n","/*jshint browser: true */\n\n/*global angular */\n\n/** @module Autofocus\n@deprecated\n@icon camera\n@summary  The autofocus component specifies the input item on a form that should get focus when the form loads.\n @description ### *Deprecated* ###\n\nThis directive is no longer being maintained. UI-Bootstrap now allows the use of HTML5 autofocus on modals to focus an input upon opening the modal.\n\n<s>\nThe `bb-autofocus` directive specifies the item on a form that receives focus when the form renders. You can use this directive when items such as Angular dynamically loaded templates do not play nicely with the HTML autofocus property.\nThe **Open Modal** button below demonstrates a modal form where the `bb-autofocus` directive places the focus on an input control on the form.\n</s>\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.autofocus', [])\n        .directive('bbAutofocus', ['$timeout', function ($timeout) {\n            return {\n                restrict: 'A',\n                link: function ($scope, $element) {\n                    /*jslint unparam: true */\n                    $timeout(function () {\n                        $element.focus();\n                    }, 500);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular, jQuery */\n/** @module Autonumeric\n@icon calculator\n@summary The autonumeric component wraps the autoNumeric jQuery plugin to format any type of number, including currency.\n @description The `bb-autonumeric` directive wraps up the autoNumeric jQuery plugin to format any type of number, including currency. You must use this directive in conjunction with the `ngModel` directive where the property bound to `ngModel` is the raw numeric value on your model.\n\n ### Dependencies ###\n\n - **[autoNumeric](http://www.decorplanit.com/plugin/) (1.9.27 or higher)** Used to format money values\n\n---\n\n### Autonumeric Settings ###\n\n - `bb-autonumeric` &mdash; This  can optionally be assigned the name of a property from the `bbAutonumericConfig` object.  If none is specified, it defaults to `number`.\n - `bb-autonumeric-settings` &mdash; This can be assigned a value that represents a settings object that can be passed to autoNumeric. These options override any default options specified in the `bb-autonumeric` attribute. A complete list of options is available [here](http://www.decorplanit.com/plugin/).\n\n### Autonumeric Filter ###\n\nIn addition to the directive, there is also a filter that can format numbers. The filter can also optionally abbreviate numbers according to SKY UX patterns. For example,\nit can display 10,000 as 10k, 1,000,000 as 1m, and 1,000,000,000 as 1b. The filter takes three arguments:\n\n - `input` &mdash; The value to format.\n - `configType` &mdash; The name of the configuration (`number` or `money`) to apply to the value.\n - `abbreviate` &mdash; A Boolean value that indicates whether to abbreviate large numbers.\n */\n(function ($) {\n    'use strict';\n\n    function getBaseSettings(bbAutoNumericConfig, configType) {\n        var baseSettings,\n            configSettings;\n\n        baseSettings = angular.extend(\n            {},\n            $.fn.autoNumeric.defaults,\n            bbAutoNumericConfig.number\n        );\n\n        if (configType) {\n            configSettings = bbAutoNumericConfig[configType];\n        }\n\n        if (configSettings) {\n            angular.extend(baseSettings, configSettings);\n        }\n\n        return baseSettings;\n    }\n\n    angular.module('sky.autonumeric', ['sky.resources', 'sky.window'])\n        .constant('bbAutonumericConfig', {\n            number: {\n                aSep: ',',\n                dGroup: 3,\n                aDec: '.',\n                pSign: 'p',\n                mDec: 2\n            },\n            money: {\n                aSign: '$'\n            }\n        })\n        .directive('bbAutonumeric', ['$timeout', 'bbAutonumericConfig', 'bbWindow', function ($timeout, bbAutoNumericConfig, bbWindow) {\n            return {\n                require: 'ngModel',\n                restrict: 'A',\n                link: function ($scope, el, attrs, ngModel) {\n                    var customSettings = {},\n                        isIosUserAgent = bbWindow.isIosUserAgent();\n\n                    function applySettings() {\n                        el.autoNumeric('update', angular.extend({}, getBaseSettings(bbAutoNumericConfig, attrs.bbAutonumeric), customSettings));\n                    }\n\n                    function applyCssSettings(el) {\n                        if (attrs.bbAutonumeric) {\n                            el.addClass('bb-autonumeric-' + attrs.bbAutonumeric);\n                        }\n                    }\n\n                    function autonumericChange() {\n                        return $scope.$apply(function () {\n\n                            var value = parseFloat(el.autoNumeric('get'));\n\n                            if (isNaN(value)) {\n                                value = null;\n                            }\n                            return ngModel.$setViewValue(value);\n                        });\n                    }\n\n                    if (attrs.bbAutonumericSettings) {\n                        $scope.$watch(attrs.bbAutonumericSettings, function (newValue) {\n                            customSettings = newValue || {};\n                            applySettings();\n                        }, true);\n                    }\n\n                    el.autoNumeric(getBaseSettings(bbAutoNumericConfig, attrs.bbAutonumeric));\n                    applyCssSettings(el);\n\n                    // If a valid number, update the autoNumeric value.\n                    // Also handles the model being updated, but being in correct (usually a paste).\n                    // In that case, updates the model to what the autoNumeric plugin's value.\n                    $scope.$watch(attrs.ngModel, function (newValue, oldValue) {\n                        var getValue,\n                            selectionStart;\n                        if (newValue !== undefined && newValue !== null && !isNaN(newValue)) {\n\n                            if (parseFloat(newValue) !== parseFloat(oldValue)) {\n\n                                selectionStart = el[0].selectionStart;\n                            }\n\n                            el.autoNumeric('set', newValue);\n                            getValue = el.autoNumeric('get');\n                            if (parseFloat(getValue) !== parseFloat(newValue)) {\n                                $timeout(autonumericChange);\n                            } else if (el[0] && angular.isFunction(el[0].setSelectionRange) && angular.isDefined(selectionStart)) {\n                                $timeout(function () {\n                                    el[0].setSelectionRange(selectionStart, selectionStart);\n                                });\n                            }\n                        } else if (newValue === null) {\n                            el.val(null);\n\n                        }\n                    });\n\n                    el.on('keydown', function (event) {\n                        if (event.which === 13) {\n                            autonumericChange();\n                        }\n                    });\n\n                    el.on('change paste onpaste', function () {\n                        autonumericChange();\n\n                    });\n\n                    // When focusing in textbox, select all.  This is to workaround not having placeholder text for autonumeric.\n                    /*\n                        istanbul ignore next: the test for this code isn't passing on IE 10 on BrowserStack in automated mode.\n                        This isn't mission-critical so I'm just ignoring it for now.\n                    */\n                    el.on('focusin.bbAutonumeric', function () {\n                        $timeout(function () {\n                            // Check to ensure the field still has focus once the $timeout callback is executed.\n                            // https://github.com/blackbaud/skyux/issues/64\n                            if (el.is(':focus')) {\n                                if (!isIosUserAgent) {\n                                    el.select();\n                                } else {\n                                    //use setSelectionRange instead of select because select in a timeout does not work with iOS\n                                    el[0].setSelectionRange(0, 9999);\n                                }\n                            }\n                        });\n                    });\n\n                }\n            };\n        }])\n        .filter('bbAutonumeric', ['bbAutonumericConfig', 'bbResources', function (bbAutonumericConfig, bbResources) {\n            return function (input, configType, abbreviate) {\n                var aSign,\n                    dividend,\n                    mDec,\n                    formatted,\n                    settings,\n                    suffix,\n                    tempEl;\n\n                if (input === null || angular.isUndefined(input)) {\n                    return '';\n                }\n\n                if (isNaN(input)) {\n                    return input;\n                }\n\n\n                tempEl = $('<span></span>');\n\n                settings = getBaseSettings(bbAutonumericConfig, configType);\n\n                if (abbreviate) {\n                    if (settings.pSign === 's') {\n                        // The suffix needs to go between the number and the currency symbol, so the currency\n                        // symbol has to be left off and appended after the number is formatted.\n                        aSign = settings.aSign;\n                        settings.aSign = '';\n                    }\n\n                    input = Math.round(input);\n\n                    if (input >= 1000000000) {\n                        dividend = 100000000;\n                        suffix = bbResources.autonumeric_abbr_billions;\n                    } else if (input >= 1000000) {\n                        dividend = 100000;\n                        suffix = bbResources.autonumeric_abbr_millions;\n                    } else if (input >= 10000) {\n                        dividend = 100;\n                        suffix = bbResources.autonumeric_abbr_thousands;\n                    }\n\n                    if (suffix) {\n                        input = Math.floor(input / dividend) / 10;\n                        mDec = Math.floor(input) === input ? 0 : 1;\n                    } else {\n                        mDec = 0;\n                    }\n\n                    settings.mDec = mDec;\n                }\n\n                tempEl.autoNumeric(settings);\n                tempEl.autoNumeric('set', input);\n\n                formatted = tempEl.text();\n\n                if (suffix) {\n                    formatted += suffix;\n                }\n\n                if (abbreviate && settings.pSign === 's' && aSign) {\n                    formatted += aSign;\n                }\n\n                return formatted;\n            };\n        }]);\n}(jQuery));\n","/*jshint browser: true */\n\n/*global angular */\n\n/** @module Check\n@icon check-square\n@summary The check applies a commonly styled selector to a checkbox or radio button.\n @description The check directive allows you to change an input element of type checkbox or radio button into a commonly-styled selector. The value that is selected is driven through the `ng-model` attribute specified on the input element. For radio button input types, the value to set on the `ng-model` can be specified by the value attribute.\n\n---\n\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.check', [])\n        .directive('bbCheck', ['$templateCache', function ($templateCache) {\n            function createEl(name) {\n                return angular.element($templateCache.get('sky/templates/check/' + name + '.html'));\n            }\n\n            return {\n                link: function (scope, el, attr) {\n                    var labelEl = el.parent('label'),\n                        styledEl,\n                        typeClass;\n\n                    if (labelEl.length < 1) {\n                        el.wrap(createEl('wrapper'));\n                    } else {\n                        labelEl.addClass('bb-check-wrapper');\n                    }\n                    if (attr.type === 'radio') {\n                        typeClass = 'bb-check-radio';\n                    } else {\n                        typeClass = 'bb-check-checkbox';\n                    }\n\n                    styledEl = createEl('styled');\n                    styledEl.addClass(typeClass);\n\n                    el.after(styledEl);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular */\n\n/** @module Checklist\n@icon list-ul\n@summary The checklist directive provides the tools to build a filterable checkbox list that can display multiple columns of data.\n @description The checklist directive allows you to build a filterable checkbox list. The `bb-checklist-column` element allows you to specify multiple columns of data for the checkbox list. You can display items in a list view where each row displays a title and description. The list view is preferable when building a responsive application.\n\n### Checklist Settings ###\n\n - `bb-checklist` &mdash; Creates a filterable checkbox list.\n - `bb-checklist-items` &mdash; Creates an array of objects that represents the rows to display in the list.\n - `bb-checklist-selected-items` &mdash; Creates an array that represents the items selected in the list.\n - `bb-checklist-include-search` &mdash; Provides a Boolean value that indicates whether to include a search field to filter the checkbox list. The search field uses a callback function to filter the list based on search criteria and highlights the search text in the filtered columns.\n - `bb-checklist-search-placeholder` &mdash; Specifies placeholder text to display in the search textbox.\n - `bb-checklist-filter-callback` &mdash; Specifies the function to call when a user modifies the search text. The function updates the `bb-checklist-items` array based on the search text. A single object is passed to the function as a parameter with `searchText` and `category` properties. This is useful to load items remotely or to filter items with custom logic other than simple case-insensitive string matching.\n - `bb-checklist-filter-local` &mdash; When specified, items are filtered by the checklist directive by examining the properties of each item to match the specified category or search text.\n - `bb-checklist-search-debounce` &mdash; Specifies the number of milliseconds to debounce changes to the search text. When making a web request in `bb-checklist-filter-callback`, this setting helps avoid new requests for each character that users type.\n - `bb-checklist-no-items-message` &mdash; Specifies the message to display when no items are displayed in the list. *(Default: `'No items found'`)*\n - `bb-checklist-mode` &mdash; Specifies whether to display the checklist as a list or a grid. List mode is the preferred method because it is mobile-responsive, but for backwards-compatibility reasons, grid mode is the default.\n  - `list` &mdash; Displays checklist items in a list with titles and descriptions. Items should have `title`, `description`, and `category` properties. This is the preferred method to display checklists because it is mobile-responsive.\n  - `grid` &mdash; Displays checklist items in a grid with columns specified by `bb-checklist-column` elements. For backwards-compatibility reasons, this is the default, but list mode is preferred because it is mobile-responsive.\n - `bb-checklist-categories` &mdash; Provides an array of category names to create category filters at the top of the list.\n\n### Checklist Column Settings ###\n\n - `bb-checklist-column-caption` &mdash; Specifies a caption for the column header.\n - `bb-checklist-column-field` &mdash; Specifies the name of the property on the checklist items that contains the text to display in the column.\n - `bb-checklist-column-class` &mdash; Applies a CSS class to the column header and cells.\n - `bb-checklist-column-width` &mdash; Sets the width of the column.\n */\n\n(function () {\n    'use strict';\n\n    var PROP_CATEGORY = 'category';\n\n    function bbChecklist(bbChecklistUtility) {\n        return {\n            replace: true,\n            restrict: 'E',\n            transclude: true,\n            templateUrl: 'sky/templates/checklist/checklist.html',\n            scope: {\n                bbChecklistItems: '=',\n                bbChecklistSelectedItems: '=',\n                bbChecklistFilterCallback: '=',\n                bbChecklistIncludeSearch: '=',\n                bbChecklistSearchDebounce: '=',\n                bbChecklistSearchPlaceholder: '@',\n                bbChecklistNoItemsMessage: '@',\n                bbChecklistAutomationField: '=',\n                bbChecklistCategories: '=',\n                bbChecklistMode: '@'\n            },\n            controller: ['$scope', function ($scope) {\n                var locals = $scope.locals = {};\n\n                this.setColumns = function (columns) {\n                    locals.columns = columns;\n                };\n            }],\n            link: function ($scope, el, attrs) {\n                var filterLocal = angular.isDefined(attrs.bbChecklistFilterLocal),\n                    locals = $scope.locals;\n\n                function itemMatchesCategory(item, category) {\n                    return !category || item.category === category;\n                }\n\n                function itemMatchesFilter(item, category, searchTextUpper) {\n                    var p,\n                        val;\n\n                    if (itemMatchesCategory(item, category)) {\n                        if (!searchTextUpper) {\n                            return true;\n                        }\n\n                        for (p in item) {\n                            if (item.hasOwnProperty(p) && p !== PROP_CATEGORY) {\n                                val = item[p];\n\n                                if (angular.isString(val) && val.toUpperCase().indexOf(searchTextUpper) >= 0) {\n                                    return true;\n                                }\n                            }\n                        }\n                    }\n\n                    return false;\n                }\n\n                function invokeFilterLocal() {\n                    var filteredItems,\n                        i,\n                        item,\n                        items = $scope.bbChecklistItems,\n                        n,\n                        searchTextUpper = (locals.searchText || '').toUpperCase(),\n                        selectedCategory = locals.selectedCategory;\n\n                    if (!searchTextUpper && !selectedCategory) {\n                        filteredItems = items.slice(0);\n                    } else {\n                        filteredItems = [];\n\n                        for (i = 0, n = items.length; i < n; i++) {\n                            item = items[i];\n\n                            if (itemMatchesFilter(item, selectedCategory, searchTextUpper)) {\n                                filteredItems.push(item);\n                            }\n                        }\n                    }\n\n                    locals.filteredItems = filteredItems;\n                }\n\n                function invokeFilter() {\n                    if (filterLocal) {\n                        invokeFilterLocal();\n                    } else if ($scope.bbChecklistFilterCallback) {\n                        $scope.bbChecklistFilterCallback({\n                            searchText: locals.searchText,\n                            category: locals.selectedCategory\n                        });\n                    }\n                }\n\n                $scope.bbChecklistSelectedItems = $scope.bbChecklistSelectedItems || [];\n\n                locals.selectAll = function () {\n                    var i,\n                        item,\n                        items = locals.filteredItems,\n                        selected = $scope.bbChecklistSelectedItems;\n\n                    for (i = 0; i < items.length; i += 1) {\n                        item = items[i];\n                        if (!bbChecklistUtility.contains(selected, item)) {\n                            bbChecklistUtility.add(selected, item);\n                        }\n                    }\n                };\n\n                locals.clear = function () {\n                    var i,\n                        item,\n                        items = locals.filteredItems,\n                        selected = $scope.bbChecklistSelectedItems;\n\n                    for (i = 0; i < items.length; i += 1) {\n                        item = items[i];\n                        bbChecklistUtility.remove(selected, item);\n                    }\n                };\n\n                locals.rowClicked = function (item) {\n                    var selected = $scope.bbChecklistSelectedItems;\n\n                    if (!bbChecklistUtility.contains(selected, item)) {\n                        bbChecklistUtility.add(selected, item);\n                    } else {\n                        bbChecklistUtility.remove(selected, item);\n                    }\n                };\n\n                locals.filterByCategory = function (selectedCategory) {\n                    locals.selectedCategory = selectedCategory;\n                    invokeFilter();\n                };\n\n                $scope.$watch('bbChecklistItems', function () {\n                    locals.filteredItems = $scope.bbChecklistItems;\n                    locals.highlightRefresh = new Date().getTime();\n                });\n\n                $scope.$watch('locals.searchText', function (newValue, oldValue) {\n                    if (newValue !== oldValue) {\n                        invokeFilter();\n                    }\n                });\n            }\n        };\n    }\n\n    bbChecklist.$inject = ['bbChecklistUtility'];\n\n    angular.module('sky.checklist', ['sky.check', 'sky.checklist.column', 'sky.checklist.columns', 'sky.checklist.model', 'sky.checklist.utility', 'sky.resources'])\n        .directive('bbChecklist', bbChecklist);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function bbChecklistColumn() {\n        return {\n            require: '^bbChecklistColumns',\n            restrict: 'E',\n            scope: {\n                bbChecklistColumnCaption: \"=\",\n                bbChecklistColumnField: \"=\",\n                bbChecklistColumnClass: \"=\",\n                bbChecklistColumnWidth: \"=\",\n                bbChecklistColumnAutomationId: \"=\"\n            },\n            link: function ($scope, element, attrs, bbChecklistColumns) {\n                /*jslint unparam: true */\n                var column = {\n                    caption: $scope.bbChecklistColumnCaption,\n                    field: $scope.bbChecklistColumnField,\n                    'class': $scope.bbChecklistColumnClass,\n                    width: $scope.bbChecklistColumnWidth,\n                    automationId: $scope.bbChecklistColumnAutomationId\n                };\n\n                bbChecklistColumns.addColumn(column);\n            }\n        };\n    }\n    \n    angular.module('sky.checklist.column', ['sky.checklist.columns'])\n        .directive('bbChecklistColumn', bbChecklistColumn);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function bbChecklistColumns() {\n        return {\n            require: '^bbChecklist',\n            restrict: 'E',\n            scope: {\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.columns = [];\n\n                this.addColumn = function (column) {\n                    $scope.columns.push(column);\n                };\n            }],\n            link: function ($scope, element, attrs, bbChecklist) {\n                /*jslint unparam: true */\n                bbChecklist.setColumns($scope.columns);\n            }\n        };\n    }\n    \n    angular.module('sky.checklist.columns', [])\n        .directive('bbChecklistColumns', bbChecklistColumns);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function checklistModel($compile, $parse, bbChecklistUtility) {\n        // http://stackoverflow.com/a/19228302/1458162\n        function postLinkFn(scope, elem, attrs) {\n            var getter,\n                setter,\n                value;\n\n            // compile with `ng-model` pointing to `checked`\n            $compile(elem)(scope);\n\n            // getter / setter for original model\n            getter = $parse(attrs.checklistModel);\n            setter = getter.assign;\n\n            // value added to list\n            value = $parse(attrs.checklistValue)(scope.$parent);\n\n            // watch UI checked change\n            scope.$watch('checked', function (newValue, oldValue) {\n                var current;\n\n                if (newValue === oldValue) {\n                    return;\n                }\n\n                current = getter(scope.$parent);\n\n                if (newValue === true) {\n                    setter(scope.$parent, bbChecklistUtility.add(current, value));\n                } else {\n                    setter(scope.$parent, bbChecklistUtility.remove(current, value));\n                }\n            });\n\n            // watch original model change\n            scope.$parent.$watch(attrs.checklistModel, function (newArr) {\n                scope.checked = bbChecklistUtility.contains(newArr, value);\n            }, true);\n        }\n\n        return {\n            restrict: 'A',\n            priority: 1000,\n            terminal: true,\n            scope: true,\n            compile: function (tElement, tAttrs) {\n                if (tElement[0].tagName !== 'INPUT' || !tElement.attr('type', 'checkbox')) {\n                    throw 'checklist-model should be applied to `input[type=\"checkbox\"]`.';\n                }\n\n                if (!tAttrs.checklistValue) {\n                    throw 'You should provide `checklist-value`.';\n                }\n\n                // exclude recursion\n                tElement.removeAttr('checklist-model');\n\n                // local scope var storing individual checkbox model\n                tElement.attr('ng-model', 'checked');\n\n                return postLinkFn;\n            }\n        };\n    }\n    \n    checklistModel.$inject = ['$compile', '$parse', 'bbChecklistUtility'];\n    \n    angular.module('sky.checklist.model', ['sky.checklist.utility'])\n        .directive('checklistModel', checklistModel);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    angular.module('sky.checklist.utility', [])\n        .factory('bbChecklistUtility', function () {\n            return {\n                \n                contains: function (arr, item) {\n                    var i;\n\n                    if (angular.isArray(arr)) {\n                        for (i = 0; i < arr.length; i += 1) {\n                            if (angular.equals(arr[i], item)) {\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                },\n\n                // add\n                add: function (arr, item) {\n                    var i;\n\n                    arr = angular.isArray(arr) ? arr : [];\n                    for (i = 0; i < arr.length; i += 1) {\n                        if (angular.equals(arr[i], item)) {\n                            return arr;\n                        }\n                    }\n                    arr.push(item);\n                    return arr;\n                },\n\n                // remove\n                remove: function (arr, item) {\n                    var i;\n\n                    if (angular.isArray(arr)) {\n                        for (i = 0; i < arr.length; i += 1) {\n                            if (angular.equals(arr[i], item)) {\n                                arr.splice(i, 1);\n                                break;\n                            }\n                        }\n                    }\n                    return arr;\n                }\n\n            };\n        });\n}());","/* global angular */\n\n/** @module Context Menu\n\n@icon ellipsis-h\n@summary The context menu creates simple or complicated dropdown menus that you can incorporate into buttons.\n@description The context menu directives allow you to create SKY UX-themed [dropdown](https://angular-ui.github.io/bootstrap/#/dropdown) menus. The context menu module includes three directives.\n  - `bb-context-menu` &mdash; Creates a dropdown menu within the context menu button.\n  - `bb-context-menu-item` &mdash; Creates an entry within a dropdown menu. When clicked, the menu item executes `bb-context-menu-action`.\n  - `bb-context-menu-button` &mdash; Creates a button with the SKY UX context menu styles.\n  - `bb-submenu` &mdash; Creates an accordion-style submenu within a dropdown menu. You can place the submenu within a dropdown list element.\n    - `bb-submenu-heading` &mdash; Specifies a header for a submenu. To specify a static header, apply this as an attribute of `bb-submenu`. To place arbitrary content in th header, apply this as a directive within `bb-submenu`.\n*/\n\n(function () {\n    'use strict';\n\n    function getTemplateUrl(name) {\n        return 'sky/templates/contextmenu/' + name + '.html';\n    }\n\n    function bbContextMenu() {\n        return {\n            replace: true,\n            restrict: 'E',\n            transclude: true,\n            templateUrl: getTemplateUrl('contextmenu'),\n            link: function ($scope) {\n                $scope.contextButtonStopPropagation = function ($event) {\n                    $event.stopPropagation();\n                };\n            }\n        };\n    }\n\n    function bbContextMenuItem() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            replace: true,\n            scope: {\n                clickItem: '&bbContextMenuAction'\n            },\n            templateUrl: getTemplateUrl('menuitem')\n        };\n    }\n\n    function bbContextMenuButton() {\n        return {\n            restrict: 'E',\n            replace: true,\n            templateUrl: getTemplateUrl('menubutton')\n        };\n    }\n\n    function toggleAccordion($event, $scope) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        $scope.accordionLocals.accordionOpen = !$scope.accordionLocals.accordionOpen;\n    }\n\n    function BBSubmenuController($scope) {\n        var self = this;\n\n        self.toggleAccordion = function ($event) {\n            toggleAccordion($event, $scope);\n        };\n    }\n\n    BBSubmenuController.$inject = ['$scope'];\n\n    function bbSubmenu() {\n        return {\n            controller: 'bbSubmenuController',\n            restrict: 'E',\n            scope: {\n                heading: '=?bbSubmenuHeading'\n            },\n            link: function ($scope, el, attrs) {\n                $scope.accordionLocals = {\n                    accordionOpen: false,\n                    staticHeader: false\n                };\n\n                if (angular.isDefined(attrs.bbSubmenuHeading)) {\n                    $scope.accordionLocals.staticHeader = true;\n                }\n\n                $scope.toggleAccordion = function ($event) {\n                    toggleAccordion($event, $scope);\n                };\n            },\n            transclude: true,\n            templateUrl: getTemplateUrl('submenu')\n        };\n    }\n\n    function bbSubmenuHeading() {\n        return {\n            restrict: 'E',\n            require: '^bbSubmenu',\n            scope: true,\n            link: function ($scope, el, attrs, submenuCtrl) {\n                $scope.toggleAccordion = function ($event) {\n                    submenuCtrl.toggleAccordion($event);\n                };\n            },\n            transclude: true,\n            templateUrl: getTemplateUrl('submenuheading')\n        };\n    }\n\n    angular.module('sky.contextmenu', ['ui.bootstrap.dropdown', 'ui.bootstrap.accordion'])\n        .controller('bbSubmenuController', BBSubmenuController)\n        .directive('bbContextMenu', bbContextMenu)\n        .directive('bbContextMenuItem', bbContextMenuItem)\n        .directive('bbContextMenuButton', bbContextMenuButton)\n        .directive('bbSubmenu', bbSubmenu)\n        .directive('bbSubmenuHeading', bbSubmenuHeading);\n}());\n","/*global angular, jQuery, require */\n\n/** @module Data\n\n@summary The data service provides access to convenience functions that allow you to manipulate data.\n@icon database\n@description The data service provides methods to load data and save data through web service endpoints.\n\n### bbData Functions ###\n\n  - `load(loadObj)` &mdash; Takes an object with `data`, `resources`, and `text` properties and returns a promise that contains the result of an HTTP GET request. An `httpResults` property contains the results from the underlying calls to [Angular's `$http` service](https://docs.angularjs.org/api/ng/service/$http). The object includes metadata about the response such as the HTTP status code.\n    - `data` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.data` contains the promise results. For example: `bbData.load({data: '/foo/data'})` or `bbData.load({data: {a: '/foo/data1', b: '/foo/data2'}})`. Requests to the URLs are made with credentials.\n    - `resources` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.resources` contains the promise results. Requests to the URLs are made without credentials.\n    - `text` &mdash; Specifies a URL to request or an object with multiple URLs to request. `result.text` contains the promise results. Requests to the URLs are made without credentials, and the results are returned as strings instead of objects.\n    - `loadManager` &mdash; Specifies an object with `name` and `scope` properties that creates a wait while it and its child load managers retreive data.\n  - `query(url, queryParams)` &mdash; Creates a URL with a query string based on the queryParam's properties. For example: `bbData.query('/foo/search', {x: 'y', z: 123});` returns `/foo/search?x=y&z=123`.\n  - `post(url, data)` &mdash; Within `bbData.load`, creates a post request from a URL and data object. For example: `bbData.load({data: bbData.post('/foo/post', postData)});`.\n  - `save(saveObj)` &mdash; Issues an HTTP post to store data on the remote server. Takes an argument with the `url`, `data`, and `type` properties.\n    - `url` &mdash; Specifies the URL to send the request to.\n    - `data` &mdash; Specifies the object to POST to the URL.\n    - `type` &mdash; Specifies the HTTP verb to use with the request. *(Default: `POST`)* \n  - `cancel(promise)` &mdash; Takes a promise returned by `bbData.load` or `bbData.save` and cancels the underlying HTTP request. The promise is then rejected.\n*/\n\n(function ($) {\n    'use strict';\n\n    var DEFAULT_PROP = '__DEFAULT__',\n        REQUEST_TYPE_DATA = 0,\n        REQUEST_TYPE_RESOURCES = 1,\n        REQUEST_TYPE_TEXT = 2;\n\n    function fillUrls(option, props, urls) {\n        var item,\n            p,\n            url;\n\n        /*istanbul ignore else: sanity check */\n        if (option) {\n            if (angular.isString(option) || option.BB_DATA_POST) {\n                url = option;\n\n                option = {};\n                option[DEFAULT_PROP] = url;\n            }\n\n            for (p in option) {\n                /*istanbul ignore else */\n                if (option.hasOwnProperty(p)) {\n                    item = option[p];\n                    url = item;\n\n                    props.push(p);\n                    urls.push(url);\n                }\n            }\n        }\n    }\n\n    function loadManager(options) {\n        // A service endpoint for tracking loading items.\n\n        var item,\n            loadingItems = [],\n            nonblockingForAdditionalItems = false,\n            result,\n            scope,\n            waitingForFirstItem = false;\n\n        function cancelWaiting() {\n            options.waitForFirstItem = false;\n            options.nonblockWaitForAdditionalItems = false;\n\n            if (nonblockingForAdditionalItems) {\n                nonblockingForAdditionalItems = false;\n                scope.$emit(\"bbEndWait\", { nonblocking: true });\n            }\n\n            if (waitingForFirstItem) {\n                waitingForFirstItem = false;\n                scope.$emit(\"bbEndWait\");\n            }\n        }\n\n        function startNonblockingForAdditionalItems() {\n            nonblockingForAdditionalItems = true;\n            scope.$emit(\"bbBeginWait\", { nonblocking: true });\n        }\n\n        function markCompleted(item) {\n            var i = loadingItems.indexOf(item);\n\n            if (i !== -1) {\n                loadingItems.splice(i, 1);\n                if (loadingItems.length === 0) {\n                    result.isLoading = false;\n\n                    if (nonblockingForAdditionalItems) {\n                        nonblockingForAdditionalItems = false;\n                        scope.$emit(\"bbEndWait\", { nonblocking: true });\n                    }\n                }\n            }\n\n            if (!result.isFirstItemLoaded) {\n                result.isFirstItemLoaded = true;\n                if (waitingForFirstItem) {\n                    waitingForFirstItem = false;\n                    scope.$emit(\"bbEndWait\");\n                }\n            }\n\n            if (result.isLoading && options.nonblockWaitForAdditionalItems && !nonblockingForAdditionalItems) {\n                startNonblockingForAdditionalItems();\n            }\n        }\n\n        function registerItem(item) {\n            if (!result.isLoading) {\n                if (result.isFirstItemLoaded && options.nonblockWaitForAdditionalItems) {\n                    startNonblockingForAdditionalItems();\n                }\n            }\n            loadingItems.push(item);\n            result.isLoading = true;\n        }\n\n        // Initialize values\n        scope = options.scope;\n\n        if (options.load) {\n            item = {\n                name: options.name,\n                load: options.load\n            };\n        }\n\n        result = {\n            isFirstItemLoaded: false,\n            isLoading: false,\n            loadingItems: loadingItems,\n            cancelWaiting: cancelWaiting\n        };\n\n        if (options.waitForFirstItem) {\n            waitingForFirstItem = true;\n            scope.$emit(\"bbBeginWait\");\n        }\n\n        // Start loading any item that is handed directly to the loader.\n        if (item) {\n            // Add the current item to the list.\n            registerItem(item);\n\n            // Start loading the item.\n            result.loaded = item.load().finally(function () {\n                markCompleted(item);\n                scope.$parent.$emit(\"bbData.loadManager.markCompleted\", item);\n            });\n\n            scope.$parent.$emit(\"bbData.loadManager.registerItem\", item);\n        }\n\n        if (options.isAggregate) {\n            // Listen to items being registered by child loadManagers.\n            scope.$on(\"bbData.loadManager.registerItem\", function (e, item) {\n                e.stopPropagation();\n                registerItem(item);\n            });\n\n            // Listen to items being marked completed by child loadManagers.\n            scope.$on(\"bbData.loadManager.markCompleted\", function (e, item) {\n                e.stopPropagation();\n                markCompleted(item);\n            });\n        }\n\n        return result;\n    }\n\n    function bbData($http, $q, $templateCache, bbDataConfig, $window) {\n        function ajaxUrl(url, requestType) {\n            var filter,\n                parts;\n\n            requestType = requestType || 0;\n\n            if ($window.define && $window.define.amd && $window.require) {\n                parts = url.split('?');\n\n                // Grab the portion before the query string and get the fully-qualified URL.\n                url = parts.shift();\n                url = require.toUrl(url);\n\n                // If there was anything after the first question mark, put it back.\n                url += '?' + parts.join('');\n            }\n\n            switch (requestType) {\n            case REQUEST_TYPE_DATA:\n                filter = bbDataConfig.dataUrlFilter;\n                break;\n            case REQUEST_TYPE_RESOURCES:\n                filter = bbDataConfig.resourceUrlFilter;\n                break;\n            case REQUEST_TYPE_TEXT:\n                filter = bbDataConfig.textUrlFilter;\n                break;\n            }\n\n            if (angular.isFunction(filter)) {\n                url = filter(url);\n            }\n\n            return url;\n        }\n\n        function createAjaxPromise(item, isPost, requestType, timeoutPromise) {\n            var data,\n                httpOptions,\n                isGet,\n                textContent,\n                type,\n                url;\n\n            requestType = requestType || 0;\n\n            if (item.BB_DATA_POST || isPost) {\n                data = item.data;\n                type = item.type || 'post';\n                url = item.url;\n            } else {\n                type = 'get';\n                url = item;\n                isGet = true;\n            }\n\n            if (isGet && requestType === REQUEST_TYPE_TEXT) {\n                // Check the Angular template cache using the raw URL first in case the text content is compiled into\n                // the module bundle.\n                textContent = $templateCache.get(url);\n\n                if (textContent) {\n                    return $q(function (resolve) {\n                        resolve({\n                            data: textContent\n                        });\n                    });\n                }\n            }\n\n            url = ajaxUrl(url, requestType);\n\n            httpOptions = {\n                method: type,\n                url: url,\n                cache: requestType !== 0,\n                data: data ? JSON.stringify(data) : null,\n                dataType: requestType !== 0 ? 'text' : 'json',\n                withCredentials: requestType === 0,\n                timeout: timeoutPromise\n            };\n\n            if (data instanceof $window.FormData) {\n                // Angular sets the Content-Type to application/json by default, but when posting FormData\n                // it should clear out the Content-Type and let the browser determine it.\n                // https://uncorkedstudios.com/blog/multipartformdata-file-upload-with-angularjs\n                angular.extend(httpOptions, {\n                    transformRequest: angular.identity,\n                    headers: {\n                        'Content-Type': undefined\n                    }\n                });\n            }\n\n            return $http(httpOptions);\n        }\n\n        function addPromises(items, urls, requestType, timeoutPromise) {\n            var i,\n                n,\n                url;\n\n            if (urls) {\n                for (i = 0, n = urls.length; i < n; i++) {\n                    url = urls[i];\n                    items.push(createAjaxPromise(url, null, requestType, timeoutPromise));\n                }\n            }\n        }\n\n        function nextId() {\n            nextId.index = nextId.index || 0;\n            nextId.index++;\n            return nextId.index;\n        }\n\n        function trackHTTPTimeoutForPromise(fn) {\n            var id = nextId(),\n                promise,\n                httpTimeout = $q.defer();\n\n            trackHTTPTimeoutForPromise[id] = httpTimeout;\n\n            promise = fn(httpTimeout.promise);\n            promise._id = id;\n\n            function clearPromiseId() {\n                delete trackHTTPTimeoutForPromise[id];\n            }\n\n            promise.then(clearPromiseId, clearPromiseId);\n\n            return promise;\n        }\n\n        function loadData(options) {\n            return trackHTTPTimeoutForPromise(function (timeoutPromise) {\n                return $q(function (resolve, reject) {\n                    var dataOption,\n                        dataProps,\n                        dataUrls,\n                        resourcesOption,\n                        resourcesProps,\n                        resourcesUrls,\n                        promises = [],\n                        textOption,\n                        textProps,\n                        textUrls;\n\n                    function success(args) {\n                        var argIndex = 0,\n                            result = {\n                                httpResults: {}\n                            };\n\n                        function addResult(name, props) {\n                            var resultData,\n                                httpResult,\n                                i,\n                                n,\n                                p,\n                                resultItem,\n                                resultItemHttpResults;\n\n                            if (props) {\n                                for (i = 0, n = props.length; i < n; i++) {\n                                    p = props[i];\n                                    httpResult = args[argIndex];\n                                    resultData = httpResult.data;\n\n                                    if (p === DEFAULT_PROP) {\n                                        resultItem = resultData;\n                                        resultItemHttpResults = httpResult;\n                                    } else {\n                                        resultItem = resultItem || {};\n                                        resultItem[p] = resultData;\n\n                                        resultItemHttpResults = resultItemHttpResults || {};\n                                        resultItemHttpResults[p] = httpResult;\n                                    }\n\n                                    argIndex++;\n                                }\n                            }\n\n                            if (angular.isDefined(resultItem)) {\n                                result[name] = resultItem;\n                            }\n\n                            if (angular.isDefined(resultItemHttpResults)) {\n                                result.httpResults[name] = resultItemHttpResults;\n                            }\n                        }\n\n                        addResult('data', dataProps, true);\n                        addResult('resources', resourcesProps);\n                        addResult('text', textProps);\n\n                        resolve(result);\n                    }\n\n                    function failure() {\n                        /*jshint validthis: true */\n                        reject.apply(this, arguments);\n                    }\n\n                    dataOption = options.data;\n                    resourcesOption = options.resources;\n                    textOption = options.text;\n\n                    if (dataOption) {\n                        dataProps = [];\n                        dataUrls = [];\n                        fillUrls(dataOption, dataProps, dataUrls);\n                    }\n\n                    if (resourcesOption) {\n                        resourcesProps = [];\n                        resourcesUrls = [];\n                        fillUrls(resourcesOption, resourcesProps, resourcesUrls);\n                    }\n\n                    if (textOption) {\n                        textProps = [];\n                        textUrls = [];\n                        fillUrls(textOption, textProps, textUrls);\n                    }\n\n                    addPromises(promises, dataUrls, REQUEST_TYPE_DATA, timeoutPromise);\n                    addPromises(promises, resourcesUrls, REQUEST_TYPE_RESOURCES, timeoutPromise);\n                    addPromises(promises, textUrls, REQUEST_TYPE_TEXT, timeoutPromise);\n\n                    $q.all(promises)\n                        .then(success)\n                        .catch(failure);\n                });\n            });\n        }\n\n        return {\n            cancel: function (promise) {\n                if (promise && promise._id && trackHTTPTimeoutForPromise[promise._id]) {\n                    trackHTTPTimeoutForPromise[promise._id].resolve();\n                }\n            },\n            load: function (options) {\n                if (options.loadManager) {\n                    options.loadManager.load = function () {\n                        return loadData(options);\n                    };\n\n                    return loadManager(options.loadManager).loaded;\n                }\n\n                return loadData(options);\n            },\n            loadManager: loadManager,\n            query: function (url, params) {\n                return url + '?' + $.param(params);\n            },\n            post: function (url, data) {\n                return {\n                    url: url,\n                    data: data,\n                    BB_DATA_POST: true\n                };\n            },\n            save: function (options) {\n                return trackHTTPTimeoutForPromise(function (timeoutPromise) {\n                    return createAjaxPromise(options, true, null, timeoutPromise);\n                });\n            }\n        };\n    }\n\n    bbData.$inject = ['$http', '$q', '$templateCache', 'bbDataConfig', '$window'];\n\n    angular.module('sky.data', [])\n        .constant('bbDataConfig', {})\n        .factory('bbData', bbData);\n}(jQuery));\n","/*jshint browser: true */\n/*global angular, jQuery */\n\n/** @module Date Picker\n@icon calendar-o\n@summary The date picker wraps the ui.bootstrap.datepicker directive from Angular UI Bootstrap to create an input text box with a calendar to select dates.\n@description The `bb-datepicker` directive wraps the ui.bootstrap.datepicker directive from [Angular UI Bootstrap](https://angular-ui.github.io/bootstrap/). It creates an input text box with a calendar picker to select dates.\n\n## Date Picker Settings\n  - `bb-custom-validation` &mdash; Specifies an object thta contains a function to validate entries in the text box.\n    - `formatValue` &mdash; A function to call when users enter text in the textbox. The only parameter to pass to the function is the raw value of the text box. If a problem occurs when formatting the input value, the function returns an object or a promise of an object with the `formattedValue` property and optionally the `formattingErrorMessage` property.\n  - `bb-date-format` &mdash; Specifies the format string to use for dates in the text box. This overrides the SKY UX default of `MM/dd/yyyy` that is set in the `bbDatepickerConfig`'s `currentCultureDateFormatString` property. You set up the format string just like format strings for the [Angular date filter](https://docs.angularjs.org/api/ng/filter/date).\n  - `bb-date-options` &mdash; Specifies an options object to customize the date picker. This includes all valid options for the Angular UI Bootstrap `datepicker-options` object. You can set application defaults for the `showWeeks` and `startingDay` properties of the Angular UI Bootstrap date picker in the `bbDatepickerConfig` constant defined in `sky.datepicker`. The SKY UX defaults for `showWeeks` and `startingDay` are  `false` and `0`.\n  - `bb-datepicker-name` &mdash; Provides the value to bind to the `name` attribute of the date picker input. The value is used in validation and form submission.\n  - `close-on-date-selection` &mdash; Indicates whether to close the date picker's calendar after a date is selected. *(Default: `true`)*\n  - `datepicker-append-to-body` &mdash; Indicates whether to append the date picker popup element to `body` instead of the date picker text box. *(Default: `false`)*\n  - `max-date` &mdash; A JavaScript Date object that sets a maximum date for the date picker control and input. Input validation is bound to `$scope.myFormName.inputName.$error.maxDate`. You can set this value globally in `bbDatepickerConfig`'s `maxDate` property.\n  - `min-date` &mdash; A JavaScript Date object that sets a minimum date for the date picker control and input. Input validation is bound to `$scope.myFormName.inputName.$error.minDate`. You can set this value globally in  `bbDatepickerConfig`'s `minDate` property.\n  - `ng-model` &mdash; Specifies an object to bind the date value in and out of the date picker. This is set to a JavaScript Date object when set or parsed from the Bootstrap date picker.\n  - `placeholder` &mdash; Overrides the default placeholder text of the `bb-datepicker` input.\n  - `required` &mdash; Indicates whether the date picker's text box is a required field.\n  - `show-button-bar` &mdash; Indicates whether to display a button bar under the date picker. *(Default: `false`)*\n\n## Validation\nThe `bb-datepicker` directive sets validation on the date picker input using `bb-datepicker-name` for the input name. The validity of the date in the input is in the `dateFormat` validator. To check if a date value is valid, you can access this through `$scope.myFormName.inputName.$error.dateFormat`. The error message for an invalid date is in `$scope.myFormName.inputName.invalidFormatMessage`.\n\n*/\n(function ($) {\n    'use strict';\n    angular.module('sky.datepicker', ['sky.resources', 'sky.moment', 'ui.bootstrap.datepicker'])\n        .constant('bbDatepickerConfig', {\n            currentCultureDateFormatString: 'MM/dd/yyyy',\n            showWeeks: false,\n            startingDay: 0,\n            minDate: '',\n            maxDate: ''\n        })\n        .directive('bbDatepicker', ['bbResources', 'bbDatepickerConfig', 'bbDatepickerParser', '$timeout', '$q', function (bbResources, bbDatepickerConfig, bbDatepickerParser, $timeout, $q) {\n            return {\n                replace: true,\n                restrict: 'E',\n                require: 'ngModel',\n                scope: {\n                    date: '=ngModel',\n                    dateOptions: '=?bbDateOptions',\n                    customValidation: '=?bbCustomValidation',\n                    format: '=?bbDateFormat',\n                    maxDate: '=?maxDate',\n                    minDate: '=?minDate',\n                    placeholderText: '=?placeholder'\n                },\n                templateUrl: 'sky/templates/datepicker/datepicker.html',\n                controller: ['$scope', function ($scope) {\n                    var self = this;\n\n\n                    $scope.getInputNgModel = function () {\n                        if (angular.isFunction(self.getInputNgModel)) {\n                            return self.getInputNgModel();\n                        } else {\n                            return null;\n                        }\n                    };\n                }],\n                link: function ($scope, el, attr, ngModel) {\n                    var parsedDate,\n                        inputEl,\n                        skipValidation = false,\n                        dateChangeInternal = false;\n\n                    function getBodyDatepicker() {\n                        return $('body > ul[uib-datepicker-popup-wrap]');\n                    }\n\n                    function positionAbsoluteDatepicker() {\n                        var calendarButtonEl = el.find('span.bb-datepicker-button-container'),\n                            inputEl = el.find('input'),\n                            datepickerScope = el.find('input').isolateScope(),\n                            datepickerEl = getBodyDatepicker(),\n                            inputWidth,\n                            buttonWidth,\n                            datepickerWidth;\n\n                        inputWidth = inputEl.innerWidth();\n                        buttonWidth = calendarButtonEl.innerWidth();\n                        datepickerWidth = datepickerEl.innerWidth();\n\n                        if (datepickerWidth < (inputWidth + buttonWidth)) {\n                            datepickerScope.position.left = datepickerScope.position.left + inputWidth + buttonWidth - datepickerWidth;\n                        }\n                    }\n\n                    function open($event) {\n                        $event.preventDefault();\n                        $event.stopPropagation();\n\n                        //add syle class when datepicker appended to body because necessary bb-datefield class will no longer be wrapping it.\n                        if ($scope.locals.appendToBody) {\n                            $timeout(function () {\n                                getBodyDatepicker().addClass('bb-datefield');\n                                positionAbsoluteDatepicker();\n                            });\n                        }\n\n                        $scope.locals.opened = !$scope.locals.opened;\n                    }\n\n                    function setDate() {\n                        var inputNgModel;\n                        if (angular.isDate($scope.date)) {\n                            $scope.locals.date = $scope.date;\n                        } else if (!$scope.locals.hasCustomValidation) {\n                            parsedDate = bbDatepickerParser.runParsers($scope.date, $scope.format);\n                            if (angular.isDate(parsedDate)) {\n                                $scope.date = parsedDate;\n                                $scope.locals.date = parsedDate;\n                            } else {\n                                $scope.locals.date = $scope.date;\n                                inputNgModel = $scope.getInputNgModel();\n                                if (inputNgModel && !inputNgModel.$validators.date($scope.date)) {\n                                    inputNgModel.invalidFormatMessage = bbResources.date_field_invalid_date_message;\n                                    inputNgModel.$setValidity('dateFormat', false);\n                                }\n                            }\n                        } else {\n                            $scope.locals.date = $scope.date;\n                        }\n                    }\n\n                    $scope.locals = {\n                        showButtonBar: false,\n                        appendToBody: false,\n                        date: '',\n                        opened: false,\n                        open: open,\n                        loaded: false,\n                        closeOnSelection: true,\n                        dateOptions: {\n                            showWeeks: bbDatepickerConfig.showWeeks,\n                            startingDay: bbDatepickerConfig.startingDay\n                        },\n                        hasCustomValidation: false,\n                        inputName: attr.bbDatepickerName\n                    };\n\n                    if (!$scope.maxDate && bbDatepickerConfig.maxDate) {\n                        $scope.maxDate = bbDatepickerConfig.maxDate;\n                    }\n\n                    if (!$scope.minDate && bbDatepickerConfig.minDate) {\n                        $scope.minDate = bbDatepickerConfig.minDate;\n                    }\n\n                    $scope.resources = bbResources;\n\n                    if (angular.isDefined(attr.showButtonBar)) {\n                        $scope.locals.showButtonBar = attr.showButtonBar;\n                    }\n\n                    if (angular.isDefined(attr.closeOnDateSelection)) {\n                        $scope.locals.closeOnSelection = attr.closeOnDateSelection;\n                    }\n\n                    if (angular.isDefined(attr.datepickerAppendToBody)) {\n                        $scope.locals.appendToBody = (attr.datepickerAppendToBody === 'true');\n                    }\n\n                    if (angular.isUndefined($scope.format)) {\n                        $scope.format = bbDatepickerConfig.currentCultureDateFormatString;\n                    }\n\n                    if (angular.isDefined($scope.dateOptions)) {\n                        angular.extend($scope.locals.dateOptions, $scope.dateOptions);\n\n                    }\n\n                    if (angular.isDefined($scope.customValidation)) {\n                        if (angular.isFunction($scope.customValidation.formatValue)) {\n                            $scope.locals.hasCustomValidation = true;\n                        }\n                    }\n\n                    $scope.locals.required = angular.isDefined(attr.required);\n\n\n                    if ($scope.placeholderText === null || angular.isUndefined($scope.placeholderText)) {\n                        $scope.placeholderText = $scope.format.toLowerCase();\n                    }\n\n                    setDate();\n\n                    $scope.$watch('date', function (newValue, oldValue) {\n                        if (newValue !== oldValue && !dateChangeInternal) {\n                            setDate();\n                        } else if (dateChangeInternal) {\n                            dateChangeInternal = false;\n                        }\n                    });\n\n                    $scope.$watch('locals.date', function () {\n\n                        if ($scope.date !== $scope.locals.date) {\n                            if (angular.isDate($scope.locals.date)) {\n                                dateChangeInternal = true;\n                                $scope.date = $scope.locals.date;\n                            }\n                        }\n\n                    });\n\n                    function hasRequiredError() {\n                        var inputNgModel = $scope.getInputNgModel();\n\n                        return inputNgModel && inputNgModel.$error && inputNgModel.$error.required;\n                    }\n\n\n                    function dateFormatValidator() {\n                        var customFormattingResult,\n                            deferred,\n                            inputNgModel;\n\n                        function resolveValidation() {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                deferred[inputNgModel.invalidFormatMessage ? 'reject' : 'resolve']();\n                                inputNgModel.$setValidity('dateFormat', !inputNgModel.invalidFormatMessage || inputNgModel.invalidFormatMessage === '');\n                            } else {\n                                deferred.resolve();\n                            }\n                        }\n\n                        function setInvalidFormatMessage(errorMessage) {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                inputNgModel.invalidFormatMessage = errorMessage;\n                            }\n                        }\n\n                        function handleCustomFormattingValidation(result) {\n                            result = result || {};\n\n                            setInvalidFormatMessage(result.formattingErrorMessage);\n                            resolveValidation();\n\n                            if (result.formattedValue !== $scope.date) {\n                                skipValidation = true;\n                                dateChangeInternal = true;\n                                $scope.date = result.formattedValue;\n                                $scope.locals.date = result.formattedValue;\n                            }\n\n                        }\n\n                        function datepickerIsPristine() {\n                            var inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null) {\n                                return inputNgModel.$pristine;\n                            } else {\n                                return true;\n                            }\n                        }\n\n                        deferred = $q.defer();\n\n                        if (skipValidation || angular.isDate($scope.locals.date) || $scope.locals.date === '' || ($scope.locals.required && hasRequiredError()) || datepickerIsPristine()) {\n                            setInvalidFormatMessage(null);\n                            resolveValidation();\n                        } else if ($scope.locals.hasCustomValidation && angular.isString($scope.locals.date)) {\n                            customFormattingResult = $scope.customValidation.formatValue($scope.locals.date);\n                            if (customFormattingResult.then) {\n                                customFormattingResult.then(handleCustomFormattingValidation);\n                            } else {\n                                handleCustomFormattingValidation(customFormattingResult);\n                                return deferred.promise;\n                            }\n                        } else {\n                            inputNgModel = $scope.getInputNgModel();\n\n                            if (inputNgModel !== null && inputNgModel.$error && inputNgModel.$error.date) {\n                                setInvalidFormatMessage(bbResources.date_field_invalid_date_message);\n                            }\n                            resolveValidation();\n                        }\n\n                        skipValidation = false;\n                        return deferred.promise;\n                    }\n\n                    ngModel.$asyncValidators.dateFormat = dateFormatValidator;\n\n                    $scope.locals.loaded = true;\n\n                    //Timeout allows the locals.loaded to be applied to dom and ng-if=true to go into effect.\n                    $timeout(function () {\n                        inputEl = el.find('input');\n                        inputEl.on('change blur', function () {\n                            $timeout(function () {\n                                var inputNgModel;\n\n                                //allows validation to kick off for invalid dates\n                                if (angular.isUndefined($scope.locals.date) && angular.isDefined(inputEl.val()) && inputEl.val() !== '') {\n                                    dateChangeInternal = true;\n                                    $scope.date = inputEl.val();\n\n\n                                } else if ($scope.locals.required && hasRequiredError()) {\n                                    dateChangeInternal = true;\n                                    $scope.date = '';\n                                    inputNgModel = $scope.getInputNgModel();\n                                    inputNgModel.invalidFormatMessage = null;\n                                    inputNgModel.$setValidity('dateFormat', true);\n                                } else if ($scope.date !== $scope.locals.date) {\n\n                                    dateChangeInternal = true;\n                                    $scope.date = $scope.locals.date;\n\n                                }\n\n                            });\n                        });\n                    });\n\n                }\n            };\n        }])\n        .directive('bbDatepickerCustomValidate', ['$filter', 'bbDatepickerParser', function ($filter, bbDatepickerParser) {\n            return {\n                restrict: 'A',\n                require: ['ngModel', '^bbDatepicker'],\n                link: function ($scope, el, attr, controllers) {\n                    var ngModel = controllers[0],\n                        format = attr.uibDatepickerPopup;\n\n                    if (attr.bbDatepickerCustomValidate && attr.bbDatepickerCustomValidate === 'true') {\n                        ngModel.$parsers = [];\n                        ngModel.$validators.date = function () {\n                            return true;\n                        };\n                    } else {\n                        ngModel.$parsers.unshift(function (viewValue) {\n                            var newDate = ngModel.$viewValue,\n                                date = null;\n                            //date was changed from datepicker or is empty so just return\n                            if (typeof newDate === 'object' || newDate === '') {\n                                return newDate;\n                            }\n\n                            date = bbDatepickerParser.runParsers(newDate, format);\n\n                            if (angular.isDate(date)) {\n                                el.val($filter('date')(date, format));\n                            }\n\n                            return date ? date : viewValue;\n                        });\n                    }\n\n                    controllers[1].getInputNgModel = function () {\n                        return ngModel;\n                    };\n                }\n            };\n        }])\n    .directive('bbMinDate', function () {\n        return {\n            restrict: 'A',\n            require: 'ngModel',\n            link: function ($scope, element, attrs, ngModel) {\n                ngModel.$validators.minDate = function (modelValue) {\n                    return !$scope.minDate || !modelValue || !angular.isDate(modelValue) || !angular.isDate($scope.minDate) || modelValue >= $scope.minDate;\n                };\n            }\n        };\n    })\n    .directive('bbMaxDate', function () {\n        return {\n            restrict: 'A',\n            require: 'ngModel',\n            link: function ($scope, element, attrs, ngModel) {\n                ngModel.$validators.maxDate = function (modelValue) {\n                    return !$scope.maxDate || !modelValue || !angular.isDate(modelValue) || !angular.isDate($scope.maxDate) || modelValue <= $scope.maxDate;\n                };\n            }\n        };\n    })\n    .factory('bbDatepickerParser', ['bbMoment', function (bbMoment) {\n\n        function parseUTCString(value) {\n            var date = null,\n                dateArray,\n                datePart;\n\n            if (angular.isString(value) && value.indexOf('T00:00:00') !== -1) {\n                datePart = value.split('T')[0];\n\n                dateArray = datePart.split('-');\n                date = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n            }\n            return date;\n        }\n\n        function parseNoSeparatorDateString(value, format) {\n            var date = null,\n                yearBegin = format.indexOf('y'),\n                monthBegin = format.indexOf('M'),\n                dayBegin = format.indexOf('d'),\n                yearIndex,\n                monthIndex,\n                dayIndex;\n            if (angular.isString(value) && value.length === 8 && !isNaN(value)) {\n                if ((dayBegin < yearBegin) && (monthBegin < yearBegin)) {\n                    yearIndex = 4;\n                    if (monthBegin < dayBegin) {\n                        dayIndex = 2;\n                        monthIndex = 0;\n                    } else {\n                        dayIndex = 0;\n                        monthIndex = 2;\n                    }\n                } else if ((yearBegin < monthBegin) && (monthBegin < dayBegin)) {\n                    yearIndex = 0;\n                    monthIndex = 4;\n                    dayIndex = 6;\n                } else {\n                    return null;\n                }\n\n                date = new Date(value.substr(yearIndex, 4), (value.substr(monthIndex, 2) - 1), value.substr(dayIndex, 2));\n            }\n            return date;\n        }\n\n        function matchSeparator(value) {\n            return value.match(/[.\\/\\-\\s].*?/);\n        }\n\n        function dateHasSeparator(value) {\n            /*\n            * Validation criteria:\n            * A separator exists\n            * There is no separator at the beginning\n            * There is no separator at the end\n            * Two separators exist\n            * All parts of the date have a non-zero value\n            */\n\n            var separator = matchSeparator(value),\n                valueArray = value.split(separator),\n                separatorAtEnd = value.indexOf(separator, value.length - 1) !== -1,\n                separatorAtBeginning = value.indexOf(separator) === 0,\n                hasTwoSeparators = valueArray.length - 1 === 2,\n                anyPartIsZero = valueArray.some(function (e) {\n                    return Number(e) === 0;\n                });\n\n            return (separator && !separatorAtEnd && !separatorAtBeginning && hasTwoSeparators && !anyPartIsZero);\n        }\n\n        function isMomentParsable(value, format) {\n            var yearParts,\n                yearIndex,\n                monthIndex,\n                dayIndex,\n                separator;\n\n            if (angular.isString(value) && dateHasSeparator(value)) {\n\n                if (value.length === 10) {\n                    return true;\n                } else if (value.length === 9 || value.length === 8) {\n                    //insure that years have 4 characters\n                    separator = matchSeparator(value);\n                    yearParts = value.split(separator);\n                    yearIndex = format.indexOf('y');\n                    monthIndex = format.indexOf('M');\n                    dayIndex = format.indexOf('d');\n                    if (yearIndex > monthIndex && yearIndex > dayIndex) {\n                        return yearParts[2].length === 4;\n                    }\n\n                    if (yearIndex < monthIndex && yearIndex < dayIndex) {\n                        return yearParts[0].length === 4;\n                    }\n\n                }\n\n            }\n\n            return false;\n        }\n\n\n\n        function parseMoment(value, format) {\n            var date = null,\n                momentDate;\n\n            if (isMomentParsable(value, format)) {\n                momentDate = bbMoment(value, format.toUpperCase());\n                if (momentDate.isValid()) {\n                    date = momentDate.toDate();\n                }\n            }\n\n            return date;\n        }\n\n        return {\n            parseUTCString: parseUTCString,\n            parseNoSeparatorDateString: parseNoSeparatorDateString,\n            parseMoment: parseMoment,\n            runParsers: function (value, format) {\n                var date = null;\n\n                if (!value || angular.isDate(value) || value === '') {\n                    return value;\n                }\n\n                date = parseUTCString(value);\n\n                if (angular.isDate(date)) {\n                    return date;\n                }\n\n                date = parseNoSeparatorDateString(value, format);\n\n                if (angular.isDate(date)) {\n                    return date;\n                }\n\n                date = parseMoment(value, format);\n\n                return date;\n\n            }\n        };\n    }]);\n\n\n}(jQuery));\n","/*jshint browser: true */\n/*global angular */\n\n/** @module Date Range Picker\n@icon calendar\n@summary The date-range picker creates an input text box with a dropdown to select date ranges from a set of well-known options.\n @description The date-range picker directive creates an input text box where users can select date ranges from a set of well-known options. The directive works hand-in-hand with a date-range picker service to provide more service-oriented functionality.\n\n### Date-range Picker Settings ###\n\n - `bb-date-range-picker-value` &mdash; Specifies an object that tracks the value of the date-range picker control. The `.dateRangeType` property provides the integer (ENUM) value of the date-range type selected in the picker. For details about the ENUM, see the Date-range Picker Service section below.\n - `bb-date-range-picker-automation-id` &mdash; Specifies a string to use when creating the `bb-auto-field` attribute on elements in the date-range picker.\n - `bb-date-range-picker-options` &mdash; *(Optional.)* Specifies an options object that can customize the behavior of the date-range picker.\n\n### Date-range Picker Options Settings ###\n\n - `availableDateRangeTypes` &mdash; Optional. Provides an array of integers (`dateRangeTypes` ENUM) to specify an ordered list of date-range types for the dropdown.  Common variations are available in the date-range picker service.\n\n### Date-range Picker Service ###\nThe date-range picker service provides functionality that works closely with the directive. The service provides the following members:\n\n - `dateRangeTypes` &mdash; An ENUM of all date-range types that the date-range picker understands and can include in the dropdown.\n - `defaultDateRangeOptions` &mdash; An array of `dateRangeTypes` that provides the default order and set of date-range types included in the dropdown.\n - `pastDateRangeOptions` &mdash; An array of `dateRangeTypes` that are appropriate to filter for things that occurred in the past. For example, you don't want to search for items created \"next month.\"\n - `getDateRangeTypeCaption` &mdash; A function to get the caption of the dropdown item for a given `bb-date-range-picker-value`.\n - `getDateRangeFilterDescription` &mdash; A function to get the description of a given `bb-date-range-picker-value`.\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.daterangepicker', ['sky.resources'])\n        .factory('bbDateRangePicker', ['bbResources', function (bbResources) {\n\n            var dateRangeTypes,\n                defaultDateRangeOptions,\n                pastDateRangeOptions;\n\n            dateRangeTypes = {\n                AT_ANY_TIME: 0,\n                NEXT_WEEK: 1,\n                THIS_MONTH: 2,\n                NEXT_MONTH: 3,\n                THIS_QUARTER: 4,\n                NEXT_QUARTER: 5,\n                THIS_FISCAL_YEAR: 6,\n                NEXT_FISCAL_YEAR: 7,\n                THIS_CALENDAR_YEAR: 8,\n                NEXT_CALENDAR_YEAR: 9,\n                LAST_WEEK: 10,\n                LAST_MONTH: 11,\n                LAST_QUARTER: 12,\n                LAST_FISCAL_YEAR: 13,\n                LAST_CALENDAR_YEAR: 14,\n                TODAY: 15,\n                YESTERDAY: 16,\n                TOMORROW: 17,\n                THIS_WEEK: 18\n            };\n\n            defaultDateRangeOptions = [\n                dateRangeTypes.AT_ANY_TIME,\n                dateRangeTypes.YESTERDAY,\n                dateRangeTypes.TODAY,\n                dateRangeTypes.TOMORROW,\n                dateRangeTypes.LAST_WEEK,\n                dateRangeTypes.THIS_WEEK,\n                dateRangeTypes.NEXT_WEEK,\n                dateRangeTypes.LAST_MONTH,\n                dateRangeTypes.THIS_MONTH,\n                dateRangeTypes.NEXT_MONTH,\n                dateRangeTypes.LAST_QUARTER,\n                dateRangeTypes.THIS_QUARTER,\n                dateRangeTypes.NEXT_QUARTER,\n                dateRangeTypes.LAST_CALENDAR_YEAR,\n                dateRangeTypes.THIS_CALENDAR_YEAR,\n                dateRangeTypes.NEXT_CALENDAR_YEAR,\n                dateRangeTypes.LAST_FISCAL_YEAR,\n                dateRangeTypes.THIS_FISCAL_YEAR,\n                dateRangeTypes.NEXT_FISCAL_YEAR\n            ];\n\n            pastDateRangeOptions = [\n                dateRangeTypes.AT_ANY_TIME,\n                dateRangeTypes.YESTERDAY,\n                dateRangeTypes.TODAY,\n                dateRangeTypes.LAST_WEEK,\n                dateRangeTypes.THIS_WEEK,\n                dateRangeTypes.LAST_MONTH,\n                dateRangeTypes.THIS_MONTH,\n                dateRangeTypes.LAST_QUARTER,\n                dateRangeTypes.THIS_QUARTER,\n                dateRangeTypes.LAST_CALENDAR_YEAR,\n                dateRangeTypes.THIS_CALENDAR_YEAR,\n                dateRangeTypes.LAST_FISCAL_YEAR,\n                dateRangeTypes.THIS_FISCAL_YEAR\n            ];\n\n            function getDateRangeTypeCaption(dateRangePickerValue) {\n                if (angular.isNumber(dateRangePickerValue)) {\n                    // If the input is the enum value itself, then map it to the object structure we expect before proceeding.\n                    dateRangePickerValue = { dateRangeType: dateRangePickerValue };\n                } else {\n                    // If the value is undefiend, then map it to a null object.\n                    dateRangePickerValue = dateRangePickerValue || {};\n                }\n\n                if (!angular.isDefined(dateRangePickerValue.dateRangeType)) {\n                    // If the enum value is undefined, then it represents any time.\n                    dateRangePickerValue.dateRangeType = dateRangeTypes.AT_ANY_TIME;\n                }\n\n                switch (dateRangePickerValue.dateRangeType) {\n                case dateRangeTypes.AT_ANY_TIME:\n                    return bbResources.date_range_picker_at_any_time;\n\n                case dateRangeTypes.THIS_WEEK:\n                    return bbResources.date_range_picker_this_week;\n\n                case dateRangeTypes.NEXT_WEEK:\n                    return bbResources.date_range_picker_next_week;\n\n                case dateRangeTypes.THIS_MONTH:\n                    return bbResources.date_range_picker_this_month;\n\n                case dateRangeTypes.NEXT_MONTH:\n                    return bbResources.date_range_picker_next_month;\n\n                case dateRangeTypes.THIS_QUARTER:\n                    return bbResources.date_range_picker_this_quarter;\n\n                case dateRangeTypes.NEXT_QUARTER:\n                    return bbResources.date_range_picker_next_quarter;\n\n                case dateRangeTypes.THIS_FISCAL_YEAR:\n                    return bbResources.date_range_picker_this_fiscal_year;\n\n                case dateRangeTypes.NEXT_FISCAL_YEAR:\n                    return bbResources.date_range_picker_next_fiscal_year;\n\n                case dateRangeTypes.THIS_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_this_calendar_year;\n\n                case dateRangeTypes.NEXT_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_next_calendar_year;\n\n                case dateRangeTypes.LAST_WEEK:\n                    return bbResources.date_range_picker_last_week;\n\n                case dateRangeTypes.LAST_MONTH:\n                    return bbResources.date_range_picker_last_month;\n\n                case dateRangeTypes.LAST_QUARTER:\n                    return bbResources.date_range_picker_last_quarter;\n\n                case dateRangeTypes.LAST_FISCAL_YEAR:\n                    return bbResources.date_range_picker_last_fiscal_year;\n\n                case dateRangeTypes.LAST_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_last_calendar_year;\n\n                case dateRangeTypes.TODAY:\n                    return bbResources.date_range_picker_today;\n\n                case dateRangeTypes.YESTERDAY:\n                    return bbResources.date_range_picker_yesterday;\n\n                case dateRangeTypes.TOMORROW:\n                    return bbResources.date_range_picker_tomorrow;\n\n                }\n            }\n\n            function getDateRangeFilterDescription(dateRangePickerValue) {\n                // If the value is undefiend, then map it to a null object.\n                dateRangePickerValue = dateRangePickerValue || {};\n\n                if (!angular.isDefined(dateRangePickerValue.dateRangeType)) {\n                    // If the enum value is undefined, then it represents any time.\n                    dateRangePickerValue.dateRangeType = dateRangeTypes.AT_ANY_TIME;\n                }\n\n                switch (dateRangePickerValue.dateRangeType) {\n                case dateRangeTypes.AT_ANY_TIME:\n                    return bbResources.date_range_picker_filter_description_at_any_time;\n\n                case dateRangeTypes.THIS_WEEK:\n                    return bbResources.date_range_picker_filter_description_this_week;\n\n                case dateRangeTypes.NEXT_WEEK:\n                    return bbResources.date_range_picker_filter_description_next_week;\n\n                case dateRangeTypes.THIS_MONTH:\n                    return bbResources.date_range_picker_filter_description_this_month;\n\n                case dateRangeTypes.NEXT_MONTH:\n                    return bbResources.date_range_picker_filter_description_next_month;\n\n                case dateRangeTypes.THIS_QUARTER:\n                    return bbResources.date_range_picker_filter_description_this_quarter;\n\n                case dateRangeTypes.NEXT_QUARTER:\n                    return bbResources.date_range_picker_filter_description_next_quarter;\n\n                case dateRangeTypes.THIS_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_this_fiscal_year;\n\n                case dateRangeTypes.NEXT_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_next_fiscal_year;\n\n                case dateRangeTypes.THIS_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_this_calendar_year;\n\n                case dateRangeTypes.NEXT_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_next_calendar_year;\n\n                case dateRangeTypes.LAST_WEEK:\n                    return bbResources.date_range_picker_filter_description_last_week;\n\n                case dateRangeTypes.LAST_MONTH:\n                    return bbResources.date_range_picker_filter_description_last_month;\n\n                case dateRangeTypes.LAST_QUARTER:\n                    return bbResources.date_range_picker_filter_description_last_quarter;\n\n                case dateRangeTypes.LAST_FISCAL_YEAR:\n                    return bbResources.date_range_picker_filter_description_last_fiscal_year;\n\n                case dateRangeTypes.LAST_CALENDAR_YEAR:\n                    return bbResources.date_range_picker_filter_description_last_calendar_year;\n\n                case dateRangeTypes.TODAY:\n                    return bbResources.date_range_picker_filter_description_today;\n\n                case dateRangeTypes.YESTERDAY:\n                    return bbResources.date_range_picker_filter_description_yesterday;\n\n                case dateRangeTypes.TOMORROW:\n                    return bbResources.date_range_picker_filter_description_tomorrow;\n\n                }\n            }\n\n            return {\n                dateRangeTypes: dateRangeTypes,\n                defaultDateRangeOptions: defaultDateRangeOptions,\n                pastDateRangeOptions: pastDateRangeOptions,\n                getDateRangeTypeCaption: getDateRangeTypeCaption,\n                getDateRangeFilterDescription: getDateRangeFilterDescription\n            };\n\n        }])\n        .directive('bbDateRangePicker', ['bbDateRangePicker', function (bbDateRangePicker) {\n            /// <summary>\n            /// This directive provides a date range filter control\n            /// </summary>\n\n            return {\n                replace: true,\n                restrict: 'E',\n                templateUrl: 'sky/templates/daterangepicker/daterangepicker.html',\n                scope: {\n                    bbDateRangePickerValue: \"=\",\n                    bbDateRangePickerAutomationId: \"=\",\n                    bbDateRangePickerOptions: '='\n                },\n                controller: ['$scope', function ($scope) {\n\n                    $scope.locals = {\n                        bbDateRangePicker: bbDateRangePicker\n                    };\n\n                    $scope.$watch(\"bbDateRangePickerValue\", function (newVal) {\n                        if (!newVal) {\n                            $scope.bbDateRangePickerValue = {\n                                dateRangeType: bbDateRangePicker.dateRangeTypes.AT_ANY_TIME\n                            };\n                            return;\n                        }\n                        newVal.dateRangeType = newVal.dateRangeType || bbDateRangePicker.dateRangeTypes.AT_ANY_TIME;\n                    }, true);\n                }]\n            };\n        }]);\n\n}());\n","/*jshint browser: true */\n/*global angular */\n\n/** @module File Attachments\n@icon cloud-upload\n@summary The file attachments module provides the ability to add multiple files to a form and to display information about files after they are added.\n@description The file attachments module contains two directives to make it easier to add multiple files to a form.\nThe `bb-file-drop` directive provides an element that can both be clicked to select a file from the user's\nlocal drive or serve as a drop zone where files can be dragged from the user's local drive.  The directive can\nalso optionally display controls for the user to add a hyperlink to a file on the web.\n\nThe contents of the directive may be left blank to display the default UI for the drop zone, or you may include your\nown custom content to be displayed instead of the default UI.\n\nAlso note that upon the initialization of the Sky module, dragging and dropping files will be disabled for the entire window so that\naccidentally dropping a file outside the target zone doesn't result in the file being opened in the browser window.  If you are\nimplementing your own file drop functionality outside of the file drop directive, you can place the `bb-file-drop-target` CSS\nclass on the element you wish to receive drop events and that element will be exempt from the drop exclusion rule.\n\n### File Drop Settings ###\n\n- `bb-file-drop-accept` *(Optional)* A comma-delimited string literal of MIME types that may be dropped or selected (e.g. `bb-file-drop-accept=\"fileAttachmentDemo.validFileTypes\"` or `bb-file-drop-accept=\"'image/png'\"`) or a custom validation function (e.g. `bb-file-drop-accept=\"fileAttachmentDemo.validate($file)\"`).\n- `bb-file-drop-multiple` *(Default: `true`)* A flag indicating whether multiple files may be dropped at once.\n- `bb-file-drop-allow-dir` *(Default: `true`)* A flag indicating whether a directory can be selected.\n- `bb-file-drop-min-size` *(Optional)* The minimum size in bytes of a valid file.\n- `bb-file-drop-max-size` *(Optional)* The maximum size in bytes of a valid file.\n- `bb-file-drop-change` A function that is called when a file or files are selected when the user drops files onto the\ndrop zone or selects them by clicking the element.  This function accepts 2 parameters:\n - `files` An array of valid files that were dropped or selected.  Each item is a JavaScript [File](https://developer.mozilla.org/en-US/docs/Web/API/File)\n object.\n - `rejectedFiles` An array of files that did not meet the specified file type and/or size requirements.\n- `bb-file-drop-link` *(Optional)* The attribute with no value can be specified)* Indicates that an option to add hyperlinks\nshould be displayed.\n- `bb-file-drop-link-change` *(Optional)* A function that is called when the user adds a hyperlink.  The function accepts one\n`link` parameter.  The `link` will have a `url` property containing the link the user added.\n- `bb-file-drop-noclick` Specify this attribute when you want to disable the ability to select a file from a file dialog by clicking the element.\n\nThe `bb-file-item` directive displays summary information about a file that has been added to a form.  By default\nit displays the file's name and a delete button, and if the file from the user's local drive rather than a hyperlink,\na the file's size and thumbnail will also be displayed.  Any content inside this directive will be displayed to the right\nof the preview image.\n\n### File Item Settings ###\n\n- `bb-file-item` The file or hyperlink to display.  If the item is a file, the file size and a preview will be displayed.\n- `bb-file-item-delete` A function to call when an item's delete button is clicked.  The deleted item will be passed\nto the function.\n */\n(function () {\n    'use strict';\n\n    angular.module(\n        'sky.fileattachments',\n        [\n            'sky.fileattachments.filedrop',\n            'sky.fileattachments.fileitem',\n            'sky.fileattachments.filesize'\n        ]\n    );\n}());\n","/*global angular, jQuery */\n\n(function ($) {\n    'use strict';\n\n    function run($window) {\n        $($window).on('dragover drop', function (e) {\n            if (!$(e.target).hasClass('bb-file-drop-target')) {\n                e.preventDefault();\n            }\n        });\n    }\n\n    run.$inject = ['$window'];\n\n    function bbFileDrop($parse, $templateCache) {\n        return {\n            link: function (scope, el, attrs) {\n                scope.bbFileDrop = {\n                    hasTranscludeContents: $.trim(el.find('.bb-file-drop-contents-custom').html()).length > 0,\n                    allowLinks: angular.isDefined(attrs.bbFileDropLink),\n                    addLink: function ($event) {\n                        $event.preventDefault();\n                        scope.bbFileDropLinkChange({\n                            link: {\n                                url: scope.bbFileDrop.url\n                            }\n                        });\n                        \n                        scope.bbFileDrop.url = null;\n                    },\n                    fileChange: function ($files, $event, $rejectedFiles) {\n                        scope.bbFileDropChange({\n                            files: $files,\n                            rejectedFiles: $rejectedFiles\n                        });\n                    }\n                };\n            },\n            scope: {\n                bbFileDropChange: '&',\n                bbFileDropLinkChange: '&'\n            },\n            template: function (el, attrs) {\n                var dropEl;\n\n                el.html($templateCache.get('sky/templates/fileattachments/filedrop.html'));\n\n                dropEl = el.find('.bb-file-drop');\n\n                dropEl.attr({\n                    'ngf-allow-dir': attrs.bbFileDropAllowDir,\n                    'ngf-accept': attrs.bbFileDropAccept,\n                    'ngf-multiple': attrs.bbFileDropMultiple || 'true',\n                    'ngf-min-size': attrs.bbFileDropMinSize || '0',\n                    'ngf-max-size': attrs.bbFileDropMaxSize || '500000'\n                });\n\n                if (angular.isDefined(attrs.bbFileDropNoclick)) {\n                    dropEl.addClass('bb-file-drop-noclick');\n                } else {\n                    dropEl.attr('ngf-select', '');\n                }\n            },\n            transclude: true\n        };\n    }\n\n    bbFileDrop.$inject = ['$parse', '$templateCache'];\n\n    angular.module('sky.fileattachments.filedrop', ['ngFileUpload', 'sky.resources'])\n        .run(run)\n        .directive('bbFileDrop', bbFileDrop);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    function bbFileItem() {\n        return {\n            link: function (scope) {\n                function getFileTypeUpper() {\n                    var fileType = '';\n\n                    if (scope.item) {\n                        fileType = scope.item.type || '';\n                    }\n\n                    return fileType.toUpperCase();\n                }\n\n                function getFileExtensionUpper() {\n                    var extension = '',\n                        name;\n\n                    if (scope.item) {\n                        name = scope.item.name || '';\n\n                        extension = name.substr(name.lastIndexOf('.')) || '';\n                    }\n\n                    return extension.toUpperCase();\n                }\n\n                scope.bbFileItem = {\n                    isFile: function () {\n                        var item = scope.item;\n\n                        return item && angular.isDefined(item.size);\n                    },\n                    isImg: function () {\n                        var fileTypeUpper = getFileTypeUpper(),\n                            slashIndex;\n\n                        slashIndex = fileTypeUpper.indexOf('/');\n\n                        if (slashIndex >= 0) {\n                            switch (fileTypeUpper.substr(fileTypeUpper.indexOf('/') + 1)) {\n                            case 'BMP':\n                            case 'GIF':\n                            case 'JPEG':\n                            case 'PNG':\n                                return true;\n                            }\n                        }\n\n                        return false;\n                    }\n                };\n\n                scope.$watch('item.type', function () {\n                    var cls,\n                        extensionUpper = getFileExtensionUpper(),\n                        fileTypeUpper;\n\n                    switch (extensionUpper) {\n                        case '.PDF':\n                            cls = 'pdf';\n                            break;\n                        case '.GZ':\n                        case '.RAR':\n                        case '.TGZ':\n                        case '.ZIP':\n                            cls = 'archive';\n                            break;\n                        case '.PPT':\n                        case '.PPTX':\n                            cls = 'powerpoint';\n                            break;\n                        case '.DOC':\n                        case '.DOCX':\n                            cls = 'word';\n                            break;\n                        case '.XLS':\n                        case '.XLSX':\n                            cls  = 'excel';\n                            break;\n                        case '.TXT':\n                            cls = 'text';\n                            break;\n                        case '.HTM':\n                        case '.HTML':\n                            cls = 'code';\n                            break;\n                    }\n\n                    if (!cls) {\n                        fileTypeUpper = getFileTypeUpper();\n\n                        switch (fileTypeUpper.substr(0, fileTypeUpper.indexOf('/'))) {\n                            case 'AUDIO':\n                                cls = 'audio';\n                                break;\n                            case 'IMAGE':\n                                // Normally images are displayed as thumbnails, but if an image type is not recognized\n                                // as being widely supported by modern browsers (e.g. TIFF files) then an icon should\n                                // be displayed instead.\n                                cls = 'image';\n                                break;\n                            case 'TEXT':\n                                cls = 'text';\n                                break;\n                            case 'VIDEO':\n                                cls = 'video';\n                                break;\n                        }\n                    }\n\n                    scope.bbFileItem.otherCls = 'fa-file-' + (cls ? cls + '-' : '') + 'o';\n                });\n            },\n            scope: {\n                item: '=bbFileItem',\n                itemDelete: '&bbFileItemDelete'\n            },\n            templateUrl: 'sky/templates/fileattachments/fileitem.html',\n            transclude: true\n        };\n    }\n\n    angular.module('sky.fileattachments.fileitem', ['ngFileUpload', 'sky.fileattachments.filesize', 'sky.resources'])\n        .directive('bbFileItem', bbFileItem);\n}());\n","/*global angular */\n\n(function () {\n    'use strict';\n    \n    function bbFileSize($filter, bbFormat, bbResources) {\n        return function (input) {\n            var decimalPlaces = 0,\n                dividend = 1,\n                formattedSize,\n                roundedSize,\n                template;\n            \n            if (input === null || angular.isUndefined(input)) {\n                return '';\n            }\n            \n            if (Math.abs(input) === 1) {\n                template = bbResources.file_size_b_singular;\n            } else if (input < 1000) {\n                template = bbResources.file_size_b_plural;\n            } else if (input < 1e6) {\n                template = bbResources.file_size_kb;\n                dividend = 1000;\n            } else if (input < 1e9) {\n                template = bbResources.file_size_mb;\n                dividend = 1e6;\n                decimalPlaces = 1;\n            } else {\n                template = bbResources.file_size_gb;\n                dividend = 1e9;\n                decimalPlaces = 1;\n            }\n\n            roundedSize = Math.floor(input / (dividend / Math.pow(10, decimalPlaces))) / Math.pow(10, decimalPlaces);\n\n            formattedSize = $filter('number')(roundedSize);\n\n            return bbFormat.formatText(template, formattedSize);\n        };\n    }\n    \n    bbFileSize.$inject = ['$filter', 'bbFormat', 'bbResources'];\n    \n    angular.module('sky.fileattachments.filesize', ['sky.format', 'sky.resources'])\n        .filter('bbFileSize', bbFileSize);\n}());","/*global angular */\n\n/** @module Format\n@icon paragraph\n@summary The format service provides functions to format text with a format string and to escape HTML characters.\n@description The format service gives you the following functions:\n\n  - `formatText(formatString, args)` Formats the args with a given format string.\n  - `escape(text)` Replaces the `<`, `>`, and `&` tags with `&lt;`, `&gt;`, and `&amp;`.\n\n*/\n\n(function () {\n    'use strict';\n    var tagsToReplace = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;'\n    };\n\n    function replaceTag(tag) {\n        return tagsToReplace[tag];\n    }\n\n    function isEmpty(str) {\n        return str === null || angular.isUndefined(str);\n    }\n\n    angular.module('sky.format', [])\n        .factory('bbFormat', function () {\n            return {\n                formatText: function (format) {\n                    var args;\n\n                    if (isEmpty(format)) {\n                        return '';\n                    }\n\n                    args = arguments;\n\n                    return String(format).replace(/\\{(\\d+)\\}/g, function (match, capture) {\n                        /*jslint unparam: true */\n                        return args[parseInt(capture, 10) + 1];\n                    });\n                },\n                escape: function (str) {\n                    if (isEmpty(str)) {\n                        return '';\n                    }\n\n                    return String(str).replace(/[&<>]/g, replaceTag);\n                }\n            };\n        });\n}());\n","/*jslint browser: false, plusplus: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    function buildCategoryList(columns) {\n        var categories = [],\n            column,\n            index,\n            len;\n\n        len = columns.length;\n\n        for (index = 0; index < len; index++) {\n            column = columns[index];\n\n            if (column.category) {\n                if (categories.indexOf(column.category) === -1) {\n                    categories.push(column.category);\n                }\n            }\n        }\n\n        return categories;\n    }\n\n\n    function columnCompare(a, b) {\n        a = a.title.toLocaleLowerCase();\n        b = b.title.toLocaleLowerCase();\n\n        if (a < b) {\n            return -1;\n        }\n\n        if (a > b) {\n            return 1;\n        }\n\n        return 0;\n    }\n    \n    function getInitialSelectedColumns(columns, selectedIds) {\n        var selectedColumns = [];\n        \n        angular.forEach(columns, function (column) {\n            if (selectedIds.indexOf(column.id) >= 0) {\n                selectedColumns.push(column);\n            }\n        });\n        \n        return selectedColumns;\n    }\n\n    function BBGridColumnPickerController($scope, availableColumns, initialSelectedColumnIds, columnPickerHelpKey, listMode) {\n        var columns = [],\n            initialSelectedColumns;\n\n        angular.forEach(availableColumns, function (column) {\n            columns.push({\n                id: column.id,\n                name: column.name,\n                title: column.caption,\n                category: column.category,\n                description: column.description\n            });\n        });\n        \n        initialSelectedColumns = getInitialSelectedColumns(columns, initialSelectedColumnIds);\n\n        columns.sort(columnCompare);\n\n        $scope.columns = columns;\n        $scope.categories = buildCategoryList(columns);\n        $scope.locals = {};\n        $scope.locals.selectedColumns = initialSelectedColumns.slice(0);\n        $scope.columnPickerHelpKey = columnPickerHelpKey;\n        $scope.listMode = listMode;\n        \n        $scope.applyChanges = function () {\n            var column,\n                scopeColumns = $scope.columns,\n                selectedColumns = $scope.locals.selectedColumns,\n                columnIds = [],\n                i;\n            \n            //Loop through previously selected columns.  If they are still selected, add\n            //them to the resulting list in their original order.\n            angular.forEach(initialSelectedColumnIds, function (columnId) {\n                for (i = 0; i < scopeColumns.length; i++) {\n                    column = scopeColumns[i];\n\n                    if (column.id === columnId) {\n                        if (selectedColumns.indexOf(column) >= 0) {\n                            columnIds.push(column.id);\n                        }\n                        break;\n                    }\n                }\n            });\n\n            //Loop through all columns.  If they are selected and not already in the list\n            //then add them to the end.\n            angular.forEach(selectedColumns, function (column) {\n                var id = column.id;\n                \n                if (columnIds.indexOf(id) < 0) {\n                    columnIds.push(id);\n                }\n            });\n\n            $scope.$close(columnIds);\n        };\n    }\n    \n    BBGridColumnPickerController.$inject = ['$scope', 'columns', 'selectedColumnIds', 'columnPickerHelpKey', 'listMode'];\n\n    angular.module('sky.grids.columnpicker', ['sky.checklist', 'sky.resources'])\n        .controller('BBGridColumnPickerController', BBGridColumnPickerController);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    \n    angular.module('sky.grids.actionbar', ['sky.mediabreakpoints', 'sky.resources'])\n    .directive('bbGridActionBar', ['bbMediaBreakpoints', 'bbResources', '$timeout', function (bbMediaBreakpoints, bbResources, $timeout) {\n        return {\n                require: '^bbGrid',\n                replace: true,\n                transclude: true,\n                restrict: 'E',\n                scope: {\n                    bbMultiselectActions: '=',\n                    bbSelectionsUpdated: '&'\n                },\n                controller: ['$scope', function ($scope) {\n                    $scope.locals = {\n                        actions: $scope.bbMultiselectActions,\n                        showActionBar: false,\n                        mobileButtons: false,\n                        showMobileActions: false\n                    };\n\n                    $scope.resources = bbResources;\n                }],\n                link: function ($scope, element, attrs, bbGrid) {\n                    /*jslint unparam: true */\n                    var visibleSelected = [];\n                    \n                    function updateActionBar(data, selected) {\n                        var action,\n                            i,\n                            showActionBar;\n                        \n                        //this notation is necessary because the argument is passed through grid and then to the controller\n                        //in which grid resides.\n                        visibleSelected = bbGrid.getVisibleSelections(data, selected);\n                        \n                        $scope.bbSelectionsUpdated({ selections: { selections: visibleSelected } });\n\n                        showActionBar = false;\n                        if ($scope.locals.actions) {\n                            //only show the action bar if an action has an available selection\n                            for (i = 0; i < $scope.locals.actions.length; i++) {\n                                action = $scope.locals.actions[i];\n                                if (action.selections.length > 0) {\n                                    showActionBar = true;\n                                }\n                            }\n                        }\n                        \n                        $scope.locals.showActionBar = showActionBar;\n\n                        if (showActionBar) {\n                            $timeout(function () {\n                                bbGrid.syncActionBarViewKeeper();\n                            });\n                        }\n                    }\n                    \n                    \n                    bbGrid.scope.$watchCollection('selectedRows', function (newValue) {\n                        updateActionBar(bbGrid.scope.options.data, newValue);\n                    });\n\n                    bbGrid.scope.$watchCollection('options.data', function (newValue) {\n                        updateActionBar(newValue, bbGrid.scope.selectedRows);\n                    });\n                    \n                    //on mobile do an ng-if that changes the stuff.\n                    function mediaBreakpointHandler(newBreakpoints) {\n                        $scope.locals.mobileButtons = newBreakpoints.xs;\n                    }\n\n                    bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                    element.on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                    });\n\n                    $scope.locals.clearSelection = function () {\n                        \n                        //If the visible selections are the same as the selected rows we can just reset all multiselected rows\n                        if (visibleSelected.length === bbGrid.scope.selectedRows.length) {\n                            bbGrid.resetMultiselect();\n                        } else {\n                            bbGrid.toggleMultiselectRows(visibleSelected);\n                        }\n                        \n                    };\n\n                    $scope.locals.chooseAction = function () {\n                        $scope.locals.showMobileActions = true;\n                    };\n\n                    $scope.locals.cancelChooseAction = function () {\n                        $scope.locals.showMobileActions = false;\n                    };\n                },\n                templateUrl: 'sky/templates/grids/actionbar.html'\n            };\n    }]);\n}());","/*global angular */\n\n(function () {\n    'use strict';\n    angular.module('sky.grids.filters', ['sky.help', 'sky.resources', 'sky.mediabreakpoints'])\n    .directive('bbGridFilters', ['bbHelp', 'bbResources', 'bbMediaBreakpoints', function (bbHelp, bbResources, bbMediaBreakpoints) {\n        return {\n            require: '^bbGrid',\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbOptions: \"=\"\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.applyFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.applyFilters) {\n                        options.applyFilters(args);\n                        $scope.updateFilters(args.filters);\n\n                        if (bbMediaBreakpoints.getCurrent().xs) {\n                            $scope.locals.expanded = false;\n                        }\n                    }\n                };\n                $scope.clearFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.clearFilters) {\n                        options.clearFilters(args);\n                        $scope.updateFilters(args.filters);\n                    }\n                };\n            }],\n            link: function ($scope, element, attrs, bbGrid) {\n                /*jslint unparam: true */\n                var box = element.find('.bb-grid-filters-box'),\n                    filtersContainer = element.find('.bb-grid-filters-container');\n\n                $scope.locals = {\n                    expanded: false\n                };\n\n                $scope.viewKeeperOptions = {};\n\n                bbGrid.viewKeeperChangedHandler = function (val) {\n                    $scope.viewKeeperOptions.viewKeeperOffsetElId = val;\n                };\n\n                bbGrid.toggleFilterMenu = function (isOpen) {\n                    if (angular.isDefined(isOpen)) {\n                        $scope.locals.expanded = isOpen;\n                    } else {\n                        $scope.locals.expanded = !$scope.locals.expanded;\n                    }\n\n                    if ($scope.locals.expanded) {\n                        bbHelp.close();\n                    }\n                };\n\n                bbGrid.openFilterMenu = function () {\n                    $scope.locals.expanded = true;\n                };\n\n                bbGrid.scope.$watch('gridCreated', function (newValue) {\n                    if (newValue) {\n                        element.parents('.bb-grid-container').prepend(element);\n                        element.show();\n\n                        if ($scope.locals.expanded) {\n                            animateFilters($scope.locals.expanded);\n                        }\n                    }\n                });\n\n                $scope.updateFilters = function (filters) {\n                    bbGrid.setFilters(filters);\n                };\n\n                $scope.resources = bbResources;\n\n                function animateFilters(isExpanded) {\n                    var animationDuration = 250;\n                    if (isExpanded) {\n                        box.css('left', '240px');\n                        filtersContainer.show();\n                        box.animate({ 'left': '0' }, animationDuration);\n                    } else {\n                        box.animate({ 'left': '240px' }, {\n                            duration: animationDuration,\n                            complete: function () {\n                                box.css('left', '0');\n                                filtersContainer.hide();\n                            }\n                        });\n                    }\n                }\n\n                $scope.$watch('locals.expanded', function (newValue, oldValue) {\n                    if (newValue !== oldValue || newValue) {\n                        animateFilters(newValue);\n                    }\n                });\n\n            },\n            templateUrl: 'sky/templates/grids/filters.html'\n        };\n    }])\n    .directive('bbGridFiltersGroup', function () {\n        return {\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbGridFiltersGroupLabel: '=',\n                isCollapsed: '=?bbGridFiltersGroupIsCollapsed'\n            },\n            templateUrl: 'sky/templates/grids/filtersgroup.html'\n        };\n    })\n    .directive('bbGridFiltersSummary', ['bbResources', function (bbResources) {\n        return {\n            require: '^bbGrid',\n            replace: true,\n            transclude: true,\n            restrict: 'E',\n            scope: {\n                bbOptions: \"=\"\n            },\n            controller: ['$scope', function ($scope) {\n                $scope.clearFilters = function () {\n                    var args = {},\n                        options = $scope.bbOptions;\n\n                    if (options && options.clearFilters) {\n                        options.clearFilters(args);\n                        $scope.updateFilters(args.filters);\n                    }\n                };\n\n                $scope.resources = bbResources;\n\n            }],\n            link: function ($scope, element, attrs, bbGrid) {\n                /*jslint unparam: true */\n\n                bbGrid.scope.$watch('gridCreated', function () {\n                    var toolbarContainer = element.parents('.bb-grid-container').find('.bb-grid-toolbar-container .bb-grid-filter-summary-container');\n                    toolbarContainer.append(element);\n                });\n\n\n                $scope.updateFilters = function (filters) {\n                    bbGrid.setFilters(filters);\n                };\n\n                $scope.openFilterMenu = function () {\n                    if (bbGrid.openFilterMenu) {\n                        bbGrid.openFilterMenu();\n                    }\n                };\n                $scope.$watch(function () {\n                    return element.is(':visible');\n                }, function (newValue, oldValue) {\n                    if (newValue !== oldValue) {\n                        bbGrid.syncViewKeepers();\n                    }\n                });\n            },\n            templateUrl: 'sky/templates/grids/filterssummary.html'\n        };\n    }]);\n\n}());\n","/*jslint plusplus: true */\n/*global angular, jQuery */\n\n/** @module Grid\n@icon table\n@summary The grid builds a full-featured grid with a search box, column picker, and filter form.\n @description The grid directive allows you to build a full-featured grid with a search box, column picker, and filter form.\n\n ### Dependencies ###\n\n- **[jqGrid](https://github.com/free-jqgrid/jqGrid) (4.7.0 or higher)**\n- **[enquire.js](http://wicky.nillia.ms/enquire.js/) (2.1.2 or later)**\n---\n\nThe grid directive allows you to build a full-featured grid with a search box, column picker and filter form.\n\n### Grid Settings ###\n- `bb-grid-filters` A directive you can use inside the bb-grid directive to create a filter flyout menu.\n  - `bb-options` An options object for bb-grid-filters that contains the following:\n      - `applyFilters` A function that is called when you click the apply filters button. You can pass updated filters to `bb-grid` by setting `args.filters`.\n      - `clearFilters` A function that is called when you click the clear filters button. You can pass updated filters to `bb-grid` by setting `args.filters`.\n  - `bb-grid-filters-group` A directive you can use inside of `bb-grid-filters` that creates labels (with the `bb-grid-filters-group-label` option) and collapsible areas.\n- `bb-grid-filters-summary` A directive you can use inside the bb-grid directive to create a summary toolbar for your applied filters.\n  - `bb-options` An options object for `bb-grid-filters-summary` that contains the following:\n      - `clearFilters` A function that is called when you click the clear filters (x) icon. You can pass updated filters to `bb-grid` by setting `args.filters`.\n\n- `bb-grid-options` An object with the following properties:\n  - `columns` An array of available columns.  Each column can have these properties:\n        - `allow_see_more` Allows the column to have a see more link to view overflow content.\n        - `caption` The text to display in the column header and column chooser.\n        - `category` A category for the column, can be used to filter in the column chooser.\n        - `center_align` True if the column header and contents should be center aligned.\n        - `controller` The controller function if the column is templated. This allows a cell to perform logic while displaying formatted or complex data. You can access row data from the grid in the column template controller using `$scope.rowData`.\n        - `description` A description for the column, seen in the column chooser.\n        - `exclude_from_search` If true, then the column does not highlight text on search.\n        - `id` A unique identifier for the column.  The ID is referenced by the option object's `selectedColumnIds` property.\n        - `jsonmap` The name of the property that maps to the column's data.\n        - `name` The name of the column.\n        - `right_align` True if the column header and contents should be right aligned.\n        - `template_url` The url for the column template to show formatted or complex data in a cell. The properties of the cell data object can be accessed using the format `data.property_name`.\n        - `width_all` The default width (in pixels) for a column if no breakpoint specific column is specified (`width_xs`, `width_sm`, `width_md`, `width_lg`). If no value is specified, columns will default to 150px, and if the columns do not take up the available room in the grid, the last column will be extended.\n        - `width_xs` The width of the column for screen sizes less than 768px.\n        - `width_sm` The width of the column for screen sizes from 768px to 991px.\n        - `width_md` The width of the column for screen sizes from 992px to 1199px.\n        - `width_lg` The width of the column for screen sizes greater than 1199px.\n  - `data` An array of objects representing the rows in the grid.  Each row should have properties that correspond to the `columns` `jsonmap` properties.\n  - `fixedToolbar` Prevents the toolbar and grid headers from scrolling with the window. Defaults to false.\n  - `filtersAreActive` If true, the filter button highlights to indicate that filters are active.\n  - `filtersOpen` If set to true, opens filters. If set to false, closes filters.\n  - `getContextMenuItems` If a function is specified, then the grid rows will attempt to create a bootstrap dropdown based on the return value of the function. The return value should be an array of objects that represent the items in a dropdown. The objects should contain the following properties:\n      - `id` A unique string identifier for the option.\n      - `title` The title shown for the dropdown option.\n      - `cmd` A function that will be called when the dropdown option is clicked. It should return false if you wish to close the dropdown after the function is called.\n  - `hasInlineFilters` If true, toggles hide/show on the transcluded content in the `bb-grid` directive when the filter button is pressed.\n  - `hasMoreRows` If set to true, then the `See more` button will appear below the grid when the grid does not use pagination.\n  - `hideColPicker` If true, hides the grid column picker in the toolbar.\n  - `hideFilters` If true, hides the filters button in the toolbar.\n  - `multiselect` If true, adds a multiselect checkbox column to the listbuilder.\n  - `onAddClick` If a function is specified, then an add button will appear in the grid toolbar that will call the `onAddClick` function when clicked.\n  - `onAddClickLabel` Label for the add button.\n  - `searchText` The text entered in the grid search box, set by bbGrid.\n  - `selectedColumnIds` An array of unique identifiers indicating the visible columns in the order in which they should be displayed.\n  - `sortOptions` Options around column sorting:\n      - `excludedColumns` An array of column names that should be excluded.\n      - `column` The name of the column that the data should be sorted by, set by bbGrid.\n      - `descending` Set to true by bbGrid if the sort should be in descending order.\n- `bb-grid-pagination` An object set when you intend to use pagination instead of infinite scrolling with your grid. It has the following properties:\n  - `itemsPerPage` The number of rows you wish to show in the grid per page, defaults to 5.\n  - `maxPages` The maximum number of pages to show in the pagination bar, defualts to 5.\n  - `recordCount` The total number of records available through pagination.\n- `bb-multiselect-actions` An array of actions that can be shown in the multiselect action bar. Each action can have the following:\n  - `actionCallback` A function that will be called when the action is clicked.\n  - `automationId` An identifier that will be placed in the `data-bbauto` attribute for automation purposes.\n  - `isPrimary` If true, this action will have the primary button color.\n  - `selections` The selected row objects from the list builder that are associated with this action, this can be updated through the `bb-selections-updated` function.\n  - `title` The text that will appear on the button for the action.\n- `bb-selected-rows` An object that has two way binding to the multiselected rows. It can be used to set the multiselected rows from the parent controller of the directive.\n- `bb-selections-updated` A function which will be called when multiselect selections are updated. The selections are passed to the function as an argument and you can update your multiselect actions accordingly.\n\n### Custom Grid Toolbar ###\nIf you need more content in the grid toolbar beyond the add button, search input, column chooser, and filter button, then you can add custom content between the add button and search input.\n\nTo do this, the `bb-grid-custom-toolbar` attribute must be added to the `bb-grid` directive. Then, place a `bb-grid-toolbar` directive with your custom controls inside of the `bb-grid` directive.\n\n### Grid Events ###\n\n  - `includedColumnsChanged` Fires when the user has changed the grid columns.  If you plan to handle reloading the grid after this change (e.g. you need\nto reload data from the server as a result of the column change), set the event handler's `data` parameter's `willResetData` property to `true` to avoid\nreloading the grid with the current data after the event has fired.\n  - `loadMoreRows` Fires when a page changes (when using pagination) or when the 'See more' button is clicked. When raised from a page change, a data object with top and skip parameters is included so that the calling controller can retrieve the proper paged data.\n\n*/\n(function ($) {\n    'use strict';\n\n    var DEFAULT_ITEMS_PER_PAGE = 5,\n        DEFAULT_MAX_PAGES = 5,\n        DEFAULT_COLUMN_SIZE = 150,\n        MULTISELECT_COLUMN_SIZE = 35,\n        DROPDOWN_TOGGLE_COLUMN_SIZE = 40,\n        DROPDOWN_TOGGLE_COLUMN_NAME = 'dropdownToggle',\n        MULTISELECT_COLUMN_NAME = 'cb';\n\n\n    function arrayObjectIndexOf(array, obj) {\n        var i;\n        for (i = 0; i < array.length; i++) {\n            if (angular.equals(array[i], obj)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    angular.module('sky.grids', ['sky.contextmenu', 'sky.mediabreakpoints', 'sky.viewkeeper', 'sky.highlight', 'sky.resources', 'sky.data', 'sky.grids.filters', 'sky.grids.actionbar', 'sky.window', 'sky.grids.toolbar'])\n        .controller('bbGridContextMenuController', ['$scope', function ($scope) {\n            function toggleDropdown($event) {\n                $event.preventDefault();\n                $event.stopPropagation();\n                $scope.locals.is_open = !$scope.locals.is_open;\n            }\n\n            $scope.locals = {\n                is_open: false,\n                items: [],\n                toggleDropdown: toggleDropdown\n            };\n\n            /*istanbul ignore else: sanity check */\n            if (angular.isFunction($scope.getContextMenuItems)) {\n                $scope.locals.items = $scope.getContextMenuItems($scope.rowData.id, $scope.rowData);\n            }\n        }])\n\n\n        .directive('bbGrid', ['$window', '$compile', '$templateCache', 'bbMediaBreakpoints', 'bbViewKeeperBuilder', 'bbHighlight', 'bbResources', 'bbData', '$controller', '$timeout', 'bbWindow',\n\n            function ($window, $compile, $templateCache, bbMediaBreakpoints, bbViewKeeperBuilder, bbHighlight, bbResources, bbData, $controller, $timeout, bbWindow) {\n                return {\n                    replace: true,\n                    transclude: true,\n                    restrict: 'E',\n                    scope: {\n                        options: '=bbGridOptions',\n                        multiselectActions: '=?bbMultiselectActions',\n                        updateMultiselectActions: '&bbSelectionsUpdated',\n                        paginationOptions: '=?bbGridPagination',\n                        selectedRows: '=?bbSelectedRows'\n                    },\n                    controller: ['$scope', function ($scope) {\n                        var locals,\n                            self = this;\n\n                        self.setFilters = function (filters) {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.setFilters)) {\n                                locals.setFilters(filters);\n                            }\n                        };\n\n                        self.syncViewKeepers = function () {\n                            /*istanbul ignore else: sanity check */\n                            if ($scope.syncViewKeepers) {\n                                $scope.syncViewKeepers();\n                            }\n                        };\n\n                        self.syncActionBarViewKeeper = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction($scope.syncActionBarViewKeeper)) {\n                                $scope.syncActionBarViewKeeper();\n                            }\n                        };\n\n                        self.resetMultiselect = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.resetMultiselect)) {\n                                locals.resetMultiselect();\n                            }\n                        };\n\n                        self.getVisibleSelections = function (data, selected) {\n                            var i,\n                                index,\n                                result = [];\n\n                            for (i = 0; i < selected.length; i++) {\n                                index = arrayObjectIndexOf(data, selected[i]);\n                                if (index > -1) {\n                                    result.push(selected[i]);\n                                }\n                            }\n                            return result;\n                        };\n\n                        self.toggleMultiselectRows = function (visibleSelectedRows) {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.toggleMultiselectRows)) {\n                                locals.toggleMultiselectRows(visibleSelectedRows);\n                            }\n                        };\n\n                        self.syncGridHeaderScrollToTopScrollbar = function () {\n                            /*istanbul ignore else: sanity check */\n                            if (angular.isFunction(locals.topScrollbarScroll)) {\n                                locals.topScrollbarScroll();\n                            }\n                        };\n\n                        self.scope = $scope;\n\n                        $scope.resources = bbResources;\n\n                        locals = $scope.locals = {\n                            gridId: 'bbgrid-table-' + $scope.$id,\n                            hasAdd: false,\n                            hasColPicker: true,\n                            hasFilters: true,\n                            applySearchText: function () {\n                                /*istanbul ignore else: sanity check */\n                                if (angular.isFunction(self.applySearchText)) {\n                                    self.applySearchText();\n                                }\n                            },\n                            loadMore: function () {\n                                $scope.$emit('loadMoreRows');\n                            }\n                        };\n\n                        $scope.$watch('options.viewKeeperOffsetElId', function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                if (self.viewKeeperChangedHandler) {\n                                    self.viewKeeperChangedHandler(newValue);\n                                }\n                            }\n                        });\n                    }],\n                    link: function ($scope, element, attr) {\n                        $scope.customToolbar = {\n                            hasCustomToolbar: false\n                        };\n                        $scope.customToolbar.hasCustomToolbar = angular.isDefined(attr.bbGridCustomToolbar);\n\n                        $scope.$watch('locals.hasCustomToolbar', function () {\n                            var breakpoints = {},\n                                cellScopes,\n                                columnCount = 0,\n                                columnModel,\n                                compiledTemplates = [],\n                                currentExtendedColumnWidth,\n                                extendedColumnIndex,\n                                extendedColumnName,\n                                fullGrid,\n                                getContextMenuItems,\n                                hasTemplatedColumns,\n                                header,\n                                id,\n                                locals = $scope.locals,\n                                localRowSelect = false,\n                                needsExtendedColumnResize,\n                                originalExtendedColumnWidth,\n                                seemore_template = 'sky/templates/grids/seemore.html',\n                                dropdown_template = 'sky/templates/grids/dropdown.html',\n                                reorderingColumns,\n                                tableBody,\n                                tableEl = element.find('table'),\n                                tableDomEl = tableEl[0],\n                                tableWrapper = element.find('.table-responsive'),\n                                tableWrapperWidth,\n                                toolbarContainer = element.find('.bb-grid-toolbar-viewkeeper'),\n                                toolbarContainerId,\n                                totalColumnWidth,\n                                verticalOffSetElId,\n                                vkActionBarAndBackToTop,\n                                vkToolbars,\n                                vkHeader,\n                                windowEl = $($window),\n                                windowEventId,\n                                resizeStartColWidth,\n                                hasPristineColumns = true,\n                                scrollbarWidth;\n\n                            function getTopScrollbar() {\n                                return element.find('.bb-grid-top-scrollbar');\n                            }\n\n                            function getTopScrollbarDiv() {\n                                return element.find('.bb-grid-top-scrollbar > div');\n                            }\n\n                            function updateGridLoadedTimestampAndRowCount(count) {\n                                $scope.locals.timestamp = new Date().getTime();\n                                $scope.locals.rowcount = count;\n                            }\n\n                            function reInitGrid() {\n                                if ($scope.options && $scope.options.selectedColumnIds && $scope.options.selectedColumnIds.length > 0 && tableEl[0].grid) {\n\n                                    initGrid();\n\n                                    if ($scope.options.data && $scope.options.data.length > 0) {\n                                        setRows($scope.options.data);\n                                    }\n                                }\n                            }\n\n                            function mediaBreakpointHandler(newBreakpoints) {\n                                breakpoints = newBreakpoints;\n                                reInitGrid();\n                            }\n\n                            function buildColumnClasses(column) {\n                                var classes = '';\n\n                                //if this column does not allow search then add the appropriate class. This is used when highlighting search results\n                                if (column.exclude_from_search) {\n                                    classes += \"bb-grid-no-search \";\n                                }\n\n                                return classes;\n                            }\n\n                            function getEmptyString() {\n                                return '';\n                            }\n\n                            function buildCellAttribute(rowId, cellValue, rawObject, column) {\n                                /*jslint unparam: true*/\n                                return \"data-grid-field='\" + column.name + \"'\" + \"data-bbauto-field='\" + column.name + \"'\" + \"data-bbauto-index='\" + (tableEl.getInd(rowId) - 1) + \"'\";\n                            }\n\n                            function getColumnById(columns, id) {\n                                var column,\n                                    i;\n\n                                for (i = 0; i < columns.length; i++) {\n                                    column = columns[i];\n                                    if (column.id === id) {\n                                        return column;\n                                    }\n                                }\n                            }\n\n                            function resetExtendedColumn() {\n                                //wipe out extended column stuff\n                                extendedColumnName = null;\n                                currentExtendedColumnWidth = null;\n                                originalExtendedColumnWidth = null;\n                                extendedColumnIndex = null;\n                                needsExtendedColumnResize = false;\n                            }\n\n                            function getBreakpointsWidth(column) {\n                                var columnDefault;\n\n                                if (column.width_all > 0) {\n                                    columnDefault = column.width_all;\n                                } else {\n                                    columnDefault = DEFAULT_COLUMN_SIZE;\n                                }\n\n                                if (breakpoints.xs) {\n                                    return column.width_xs > 0 ? column.width_xs : columnDefault;\n                                } else if (breakpoints.sm) {\n                                    return column.width_sm > 0 ? column.width_sm : columnDefault;\n                                } else if (breakpoints.md) {\n                                    return column.width_md > 0 ? column.width_md : columnDefault;\n                                } else if (breakpoints.lg) {\n                                    return column.width_lg > 0 ? column.width_lg : columnDefault;\n                                }\n\n                                return columnDefault;\n                            }\n\n                            function buildColumnModel(columns, selectedColumnIds) {\n                                var colModel = [],\n                                    column,\n                                    colWidth,\n                                    index,\n                                    gridColumn;\n\n                                hasTemplatedColumns = false;\n\n                                if (getContextMenuItems) {\n                                    colModel.push({\n                                        classes: 'bb-grid-dropdown-cell',\n                                        fixed: true,\n                                        sortable: false,\n                                        name: DROPDOWN_TOGGLE_COLUMN_NAME,\n                                        label: ' ',\n                                        width: DROPDOWN_TOGGLE_COLUMN_SIZE,\n                                        title: false,\n                                        hidedlg: true,\n                                        resizable: false,\n                                        search: false,\n                                        template_url: dropdown_template,\n                                        controller: 'bbGridContextMenuController',\n                                        cellattr: buildCellAttribute,\n                                        formatter: getEmptyString,\n                                        is_context_menu: true\n                                    });\n\n                                    /*istanbul ignore else: sanity check */\n                                    if (!compiledTemplates[dropdown_template]) {\n                                        compiledTemplates[dropdown_template] = $compile($templateCache.get(dropdown_template));\n                                    }\n\n                                    hasTemplatedColumns = true;\n\n                                    totalColumnWidth = totalColumnWidth + DROPDOWN_TOGGLE_COLUMN_SIZE;\n                                }\n\n\n                                resetExtendedColumn();\n\n                                for (index = 0; index < selectedColumnIds.length; index++) {\n                                    column = getColumnById(columns, selectedColumnIds[index]);\n\n                                    if (column) {\n\n                                        colWidth = getBreakpointsWidth(column);\n\n                                        //If this is the last selected column and the sum of the columns is shorter than the area available, extend the last column\n                                        if ((index === (selectedColumnIds.length - 1)) && (tableWrapper.width() > (colWidth + totalColumnWidth))) {\n                                            needsExtendedColumnResize = true;\n                                            originalExtendedColumnWidth = colWidth;\n                                            extendedColumnName = column.name;\n                                            extendedColumnIndex = index;\n\n                                            //If multiselect and/or contextmenu exist, then the last column index is shifted.\n                                            if (locals.multiselect) {\n                                                extendedColumnIndex =  extendedColumnIndex + 1;\n                                            }\n                                            if (getContextMenuItems) {\n                                                extendedColumnIndex = extendedColumnIndex + 1;\n                                            }\n\n                                            colWidth = tableWrapper.width() - totalColumnWidth;\n                                            currentExtendedColumnWidth = colWidth;\n                                        }\n\n                                        gridColumn = {\n                                            index: column.id.toString(),\n                                            sortable: false,\n                                            id: column.id,\n                                            name: column.name,\n                                            label: column.caption,\n                                            align: (column.right_align ? 'right' : (column.center_align ? 'center' : 'left')),\n                                            classes: buildColumnClasses(column),\n                                            cellattr: buildCellAttribute,\n                                            controller: column.controller,\n                                            template_url: column.template_url,\n                                            jsonmap: column.jsonmap,\n                                            allow_see_more: column.allow_see_more,\n                                            width: colWidth\n                                        };\n\n                                        if (column.allow_see_more && !gridColumn.template_url) {\n                                            gridColumn.template_url = seemore_template;\n\n                                            if (!compiledTemplates[seemore_template]) {\n                                                compiledTemplates[seemore_template] = $compile($templateCache.get(seemore_template));\n                                            }\n                                        }\n\n                                        if (gridColumn.template_url) {\n                                            //Setup a formatter to return an empty string until the\n                                            //angular template is processed for the cell.\n                                            gridColumn.formatter = getEmptyString;\n                                            hasTemplatedColumns = true;\n                                        } else if (column.colFormatter) {\n                                            gridColumn.formatter = column.colFormatter;\n                                        }\n\n                                        colModel.push(gridColumn);\n\n                                        totalColumnWidth = totalColumnWidth + colWidth;\n                                    }\n                                }\n\n                                return colModel;\n                            }\n\n                            function getColumnElementIdFromName(columnName) {\n                                return locals.gridId + \"_\" + columnName;\n                            }\n\n                            function getColumnNameFromElementId(columnName) {\n                                /*istanbul ignore else: sanity check */\n                                if (columnName) {\n                                    return columnName.replace(locals.gridId + \"_\", \"\");\n                                }\n                            }\n\n                            function getDesiredGridWidth() {\n                                var width = tableWrapper.width();\n\n                                if (width < totalColumnWidth) {\n                                    width = totalColumnWidth;\n                                    tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n                                } else {\n                                    tableWrapper.addClass('bb-grid-table-wrapper');\n                                }\n\n                                return width;\n                            }\n\n                            function setScrollbarHeight() {\n                                var topScrollbar = getTopScrollbar(),\n                                    topScrollbarDiv = getTopScrollbarDiv();\n\n                                if (totalColumnWidth > (topScrollbar.width()) && !breakpoints.xs) {\n                                    topScrollbar.height(scrollbarWidth);\n                                    topScrollbarDiv.height(scrollbarWidth);\n                                } else {\n                                    topScrollbar.height(0);\n                                    topScrollbarDiv.height(0);\n                                }\n                            }\n\n                            function resetTopScrollbar() {\n                                var topScrollbarDiv = getTopScrollbarDiv();\n                                topScrollbarDiv.width(totalColumnWidth);\n                                setScrollbarHeight();\n                            }\n\n                            function setColumnSize(columnName, columnSize, totalWidth) {\n\n                                /* jqGrid does not provide a function to change a single column column size.\n                                   This code snippet mirrors how jqGrid changes column size in their own dragEnd\n                                   function.\n                                */\n                                tableEl[0].p.colModel[extendedColumnIndex].width = columnSize;\n                                tableEl[0].grid.headers[extendedColumnIndex].width = columnSize;\n                                tableEl[0].grid.headers[extendedColumnIndex].el.style.width = columnSize + 'px';\n                                tableEl[0].grid.cols[extendedColumnIndex].style.width = columnSize + 'px';\n                                tableEl[0].p.tblwidth = totalWidth || tableEl[0].p.tblwidth;\n                                $('table:first', tableEl[0].bDiv).css(\"width\", tableEl[0].p.tblwidth + 'px');\n                                $('table:first', tableEl[0].hDiv).css(\"width\", tableEl[0].p.tblwidth + 'px');\n                                tableEl[0].grid.hDiv.scrollLeft = tableEl[0].grid.bDiv.scrollLeft;\n                            }\n\n                            function resizeExtendedColumn(changedWidth, isIncreasing) {\n                                var extendedShrinkWidth = currentExtendedColumnWidth - originalExtendedColumnWidth;\n\n                                //If the extended portion of the last column is less than the amount resized\n                                if (extendedShrinkWidth <= changedWidth) {\n                                    //decrease extended column to original size\n\n\n                                    //increase grid width by remainder and wipe out all the extended stuff\n                                    if (isIncreasing) {\n                                        totalColumnWidth = totalColumnWidth + (changedWidth - extendedShrinkWidth);\n                                    } else {\n                                        totalColumnWidth = totalColumnWidth - extendedShrinkWidth;\n                                    }\n                                    setColumnSize(extendedColumnName, originalExtendedColumnWidth, totalColumnWidth);\n\n                                    tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n                                    resetExtendedColumn();\n\n                                } else {\n                                    //decrease extended column width by changedWidth\n                                    currentExtendedColumnWidth = currentExtendedColumnWidth - changedWidth;\n\n\n                                    if (!isIncreasing) {\n                                        totalColumnWidth = totalColumnWidth - changedWidth;\n                                    }\n                                    setColumnSize(extendedColumnName, currentExtendedColumnWidth, totalColumnWidth);\n\n                                }\n                                tableEl.setGridWidth(totalColumnWidth, false);\n                                resetTopScrollbar();\n                            }\n\n                            function resetGridWidth(oldWidth, newWidth) {\n                                var changedWidth,\n                                    topScrollbar = getTopScrollbar(),\n                                    width;\n\n                                topScrollbar.width(tableWrapper.width());\n                                if (needsExtendedColumnResize && newWidth < oldWidth) {\n                                    changedWidth = oldWidth - newWidth;\n                                    resizeExtendedColumn(changedWidth, false);\n                                } else {\n                                    if (totalColumnWidth === oldWidth) {\n                                        totalColumnWidth = newWidth;\n                                    }\n\n                                    width = getDesiredGridWidth();\n\n                                    /*istanbul ignore else: sanity check */\n                                    if (width > 0) {\n                                        tableEl.setGridWidth(width);\n                                        resetTopScrollbar();\n                                    }\n                                }\n                            }\n\n                            function getLastIndex() {\n                                var lastIndex = $scope.options.selectedColumnIds.length - 1;\n\n                                if (locals.multiselect) {\n                                    lastIndex = lastIndex + 1;\n                                }\n                                if (getContextMenuItems) {\n                                    lastIndex = lastIndex + 1;\n                                }\n\n                                return lastIndex;\n                            }\n\n                            function resizeStart(event, index) {\n                                var lastIndex = getLastIndex(),\n                                    jqGridEl,\n                                    thEls;\n\n                                hasPristineColumns = false;\n\n                                jqGridEl = element.find('.ui-jqgrid');\n\n                                //if resizing last element and tableEl smaller than table wrapper\n\n                                if (index === lastIndex && tableWrapperWidth > jqGridEl.width()) {\n                                    //increase width of child of table-responsive\n                                    jqGridEl.width(tableWrapperWidth);\n                                    //increase width of hdiv\n                                    element.find('.ui-jqgrid-hdiv').width(tableWrapperWidth);\n                                    //make padding right on tr of headers\n                                    element.find('.ui-jqgrid-hdiv tr').css('padding-right', tableWrapperWidth.toString() + 'px');\n                                }\n\n                                fullGrid.find('.ui-jqgrid-resize-mark').height(fullGrid.height());\n                                thEls = element.find('.ui-jqgrid .ui-jqgrid-hdiv .ui-jqgrid-htable th');\n                                resizeStartColWidth = parseInt(thEls[index].style.width);\n\n                            }\n\n                            function syncHeaderToTableWrapper() {\n                                if (vkHeader && vkHeader.isFixed) {\n                                    header.width(tableWrapper.width());\n                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                }\n                            }\n\n                            function resizeStop(newWidth, index) {\n                                var changedWidth;\n\n                                tableWrapper.addClass('bb-grid-table-wrapper-overflow');\n\n                                changedWidth = newWidth - resizeStartColWidth;\n\n                                //If your last column was extended and this is the first resize\n                                if (needsExtendedColumnResize) {\n                                    //If the column you're resizing is not the extended column and you're increasing the size\n                                    if (index !== extendedColumnIndex && changedWidth > 0) {\n\n                                        resizeExtendedColumn(changedWidth, true);\n\n                                        resetExtendedColumn();\n                                        syncHeaderToTableWrapper();\n\n                                        return;\n                                    }\n                                    resetExtendedColumn();\n                                }\n\n                                totalColumnWidth = totalColumnWidth + changedWidth;\n                                tableEl.setGridWidth(totalColumnWidth, false);\n                                resetTopScrollbar();\n                                syncHeaderToTableWrapper();\n\n                                return;\n                            }\n\n                            function setSortStyles() {\n                                var className,\n                                    headerElId,\n                                    sortOptions;\n                                /*istanbul ignore else: sanity check */\n                                if (header) {\n                                    header.find('th').removeClass('sorting-asc').removeClass('sorting-desc');\n                                    /* istanbul ignore else: sanity check */\n                                    if ($scope.options) {\n                                        sortOptions = $scope.options.sortOptions;\n                                        if (sortOptions && sortOptions.column) {\n                                            headerElId = getColumnElementIdFromName(sortOptions.column);\n\n                                            if (sortOptions.descending) {\n                                                className = 'sorting-desc';\n                                            } else {\n                                                className = 'sorting-asc';\n                                            }\n\n                                            header.find('#' + headerElId).addClass(className);\n                                        }\n                                    }\n                                }\n                            }\n\n                            function columnIsSortable(columnName) {\n                                var excludedColumns,\n                                    sortOptions = $scope.options.sortOptions;\n\n                                if (columnName === DROPDOWN_TOGGLE_COLUMN_NAME || columnName === MULTISELECT_COLUMN_NAME) {\n                                    return false;\n                                }\n\n\n                                /*istanbul ignore else: sanity check */\n                                if (sortOptions) {\n                                    excludedColumns = sortOptions.excludedColumns;\n                                    if (excludedColumns) {\n                                        if (excludedColumns.indexOf(columnName) > -1) {\n                                            return false;\n                                        }\n                                    }\n                                }\n                                return true;\n                            }\n\n                            function highlightSearchText() {\n                                var options = $scope.options;\n                                if (options && options.searchText) {\n                                    bbHighlight(tableEl.find(\"td\").not('.bb-grid-no-search'), options.searchText, 'highlight');\n                                } else {\n                                    bbHighlight.clear(tableEl);\n                                }\n                            }\n\n                            function linkCellValue(scope, cell, linkFunction) {\n                                linkFunction(scope, function (cloned) {\n                                    cell.append(cloned);\n                                });\n                            }\n\n                            function afterInsertRow(rowid, rowdata, rowelem) {\n                                /*jshint validthis: true */\n                                var cell,\n                                    column,\n                                    columnData,\n                                    i,\n                                    itemScope,\n                                    row,\n                                    rowIndex;\n\n                                if (hasTemplatedColumns) {\n\n                                    if (!tableBody) {\n                                        tableBody = $(this);\n                                    }\n\n                                    row = tableBody.find('#' + rowid);\n\n                                    for (i = 0; i < columnModel.length; i++) {\n                                        column = columnModel[i];\n\n                                        if (column.template_url) {\n\n                                            cell = row.find('[data-grid-field=\"' + column.name + '\"]');\n                                            columnData = rowdata[column.name];\n\n                                            //Create a new scope and apply the cell object's properties to it.\n                                            itemScope = $scope.$new(true);\n\n                                            itemScope.data = columnData;\n                                            itemScope.rowData = rowelem;\n\n                                            if (column.allow_see_more) {\n                                                itemScope.skyResources = $scope.resources;\n                                            }\n\n                                            if (column.is_context_menu) {\n                                                itemScope.getContextMenuItems = getContextMenuItems;\n                                            }\n\n                                            //make the resources from the caller available to the column templates\n                                            if ($scope.options.resources) {\n                                                itemScope.resources = $scope.options.resources;\n                                            }\n\n                                            if (column.controller) {\n                                                $controller(column.controller, {\n                                                    $scope: itemScope\n                                                });\n                                            }\n\n                                            cellScopes.push(itemScope); //Stash scope for cleanup later.\n\n                                            linkCellValue(itemScope, cell, compiledTemplates[column.template_url]);\n                                        }\n                                    }\n                                }\n\n                                rowIndex = tableEl.getInd(rowid);\n\n                                //check if row should be multiselected\n                                if ($scope.selectedRows && $scope.selectedRows.length > 0) {\n\n                                    row = $scope.options.data[(rowIndex - 1)];\n                                    if (row && arrayObjectIndexOf($scope.selectedRows, row) > -1) {\n                                        tableEl.setSelection(rowid, false);\n                                    }\n                                }\n                            }\n\n                            function setColumnHeaderAlignment() {\n                                var alignmentClass,\n                                    column,\n                                    i;\n\n                                for (i = 0; i < columnModel.length; i++) {\n                                    column = columnModel[i];\n                                    if (column.align === 'center') {\n                                        alignmentClass = 'bb-grid-th-center';\n                                    } else if (column.align === 'right') {\n                                        alignmentClass = 'bb-grid-th-right';\n                                    } else {\n                                        alignmentClass = 'bb-grid-th-left';\n                                    }\n\n                                    tableEl.setLabel(column.name, '', alignmentClass);\n\n                                }\n                            }\n\n                            function gridComplete() {\n                                setColumnHeaderAlignment();\n                            }\n\n                            function gridColumnsReordered(orderedColumns) {\n                                var i,\n                                    offset = 0,\n                                    oldIndex,\n                                    selectedColumnIds = $scope.options.selectedColumnIds,\n                                    newSelectedColumnIds = [];\n\n                                resetExtendedColumn();\n\n                                //Need to account for context menu if it exists.  It will always be the first\n                                //column before and after the reorder\n                                if (angular.isFunction(getContextMenuItems)) {\n                                    offset += 1;\n                                }\n\n                                if (locals.multiselect) {\n                                    offset += 1;\n                                }\n\n                                for (i = offset; i < orderedColumns.length; i++) {\n                                    oldIndex = orderedColumns[i];\n                                    newSelectedColumnIds.push(selectedColumnIds[oldIndex - offset]);\n                                }\n\n                                reorderingColumns = true;\n                                $scope.options.selectedColumnIds = newSelectedColumnIds;\n                                $scope.$apply();\n                            }\n\n                            function getSortable() {\n                                var sortable = {\n                                    update: gridColumnsReordered\n                                };\n\n                                if (getContextMenuItems) {\n                                    sortable.exclude = \"#\" + $scope.locals.gridId + \"_\" + DROPDOWN_TOGGLE_COLUMN_NAME;\n                                }\n\n                                return sortable;\n                            }\n\n                            function clearSelectedRowsObject() {\n                                $scope.selectedRows = [];\n                            }\n\n\n                            function resetMultiselect() {\n                                clearSelectedRowsObject();\n                                tableEl.resetSelection();\n                            }\n\n\n\n                            function onSelectAll(rowIds, status) {\n                                /*jslint unparam: true */\n                                var allRowData;\n\n                                localRowSelect = true;\n\n                                clearSelectedRowsObject();\n\n                                if (status === true) {\n                                    allRowData = $scope.options.data;\n                                    if (allRowData && allRowData.length > 0) {\n                                        $scope.selectedRows = allRowData.slice();\n                                    }\n                                }\n                                $scope.$apply();\n                            }\n\n\n                            function toggleMultiselectRows(visibleSelectedRows) {\n                                var i,\n                                    index,\n                                    rowIds;\n\n                                rowIds = tableEl.getDataIDs();\n\n                                for (i = 0; i < visibleSelectedRows.length; i++) {\n                                    index = arrayObjectIndexOf($scope.options.data, visibleSelectedRows[i]);\n                                    tableEl.setSelection(rowIds[index], true);\n                                }\n                            }\n\n\n                            function onSelectRow(rowId, status) {\n                                $timeout(function () {\n                                    var index,\n                                        rowIndex = tableEl.getInd(rowId),\n                                        row;\n                                    row = $scope.options.data[(rowIndex - 1)];\n\n                                    localRowSelect = true;\n\n                                    index = arrayObjectIndexOf($scope.selectedRows, row);\n\n                                    if (status === true && index === -1 && row) {\n                                        $scope.selectedRows.push(row);\n                                    } else if (status === false && index > -1) {\n                                        $scope.selectedRows.splice(index, 1);\n                                    }\n                                });\n                            }\n\n                            function setMultiselectRow(rowId, rowIndex) {\n                                var row;\n\n                                tableEl.setSelection(rowId, false);\n                                row  = $scope.options.data[(rowIndex - 1)];\n                                $scope.selectedRows.push(row);\n                            }\n\n                            function beforeSelectRow(rowId, e) {\n                                var endIndex,\n                                    i,\n                                    lastSelectedRow,\n                                    rowIds,\n                                    startIndex = parseInt(tableEl.getInd(rowId));\n\n                                localRowSelect = true;\n\n                                if (e.shiftKey) {\n                                    lastSelectedRow = tableEl.getInd(tableEl.getGridParam('selrow'));\n                                    resetMultiselect();\n\n                                    //if lastSelectedRow is undefined or null, set to 1\n                                    if (angular.isUndefined(lastSelectedRow) || lastSelectedRow === null) {\n                                        lastSelectedRow = 1;\n                                    }\n\n                                    endIndex = parseInt(lastSelectedRow);\n\n                                    rowIds = tableEl.getDataIDs();\n\n                                    //set shift click selection first so last selected row is set properly\n                                    if (endIndex < startIndex) {\n                                        for (i = startIndex; i >  endIndex - 1; i = i - 1) {\n                                            setMultiselectRow(rowIds[(i - 1)], i);\n                                        }\n                                    } else if (endIndex > startIndex) {\n                                        for (i = startIndex; i <  endIndex + 1; i = i + 1) {\n                                            setMultiselectRow(rowIds[(i - 1)], i);\n                                        }\n                                    } else {\n                                        $scope.$apply();\n                                        return true;\n                                    }\n\n                                    $scope.$apply();\n                                    return false;\n                                }\n                                return true;\n                            }\n\n                            function pageChanged() {\n                                var skip = ($scope.locals.currentPage - 1) * $scope.paginationOptions.itemsPerPage,\n                                    top = $scope.paginationOptions.itemsPerPage;\n\n                                $scope.$emit('loadMoreRows', {top: top, skip: skip});\n\n                            }\n\n                            function initializePagination() {\n                                if (angular.isDefined($scope.paginationOptions)) {\n\n                                    if (!$scope.paginationOptions.itemsPerPage) {\n                                        $scope.paginationOptions.itemsPerPage = DEFAULT_ITEMS_PER_PAGE;\n                                    }\n\n                                    if (!$scope.paginationOptions.maxPages) {\n                                        $scope.paginationOptions.maxPages = DEFAULT_MAX_PAGES;\n                                    }\n\n                                    $scope.paginationOptions.pageChanged = pageChanged;\n\n                                    $scope.locals.currentPage = 1;\n                                }\n                            }\n\n                            function fancyCheckOff() {\n                                element.find('td .bb-check-checkbox').off();\n                            }\n\n                            function wrapCheckboxEl(checkboxEl) {\n                                checkboxEl.wrap('<label class=\"bb-check-wrapper\"></label>');\n                                checkboxEl.after('<span class=\"bb-check-checkbox\"></span>');\n                            }\n\n                            function setUpFancyCheckHeader() {\n                                var headerCheckEl =  header.find('th .cbox');\n                                wrapCheckboxEl(headerCheckEl);\n                            }\n\n                            function setUpFancyCheckCell() {\n                                var checkCellEl = element.find('td .cbox');\n                                wrapCheckboxEl(checkCellEl);\n                                element.find('td .bb-check-checkbox').on('click', function (event) {\n                                    event.preventDefault();\n                                });\n                            }\n\n                            function getIdPrefix() {\n                                return 'bb-grid-row-' + $scope.$id + '-';\n                            }\n\n                            function initGrid() {\n                                var columns,\n                                    jqGridOptions,\n                                    selectedColumnIds,\n                                    useGridView = true,\n                                    hoverrows = false;\n\n                                totalColumnWidth = 0;\n\n                                hasPristineColumns = true;\n\n                                tableWrapperWidth = tableWrapper.width();\n\n                                locals.multiselect = false;\n\n                                //Clear reference to the table body since it will be recreated.\n                                tableBody = null;\n\n                                //Unload grid if it already exists.\n                                tableEl.jqGrid('GridUnload');\n                                fancyCheckOff();\n\n                                tableEl = element.find('table');\n                                tableDomEl = tableEl[0];\n\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n\n                                    columns = $scope.options.columns;\n                                    selectedColumnIds = $scope.options.selectedColumnIds;\n                                    getContextMenuItems = $scope.options.getContextMenuItems;\n\n                                    if ($scope.options.multiselect) {\n                                        locals.multiselect = true;\n                                        hoverrows = true;\n\n                                        totalColumnWidth = totalColumnWidth + MULTISELECT_COLUMN_SIZE;\n                                    }\n                                    $scope.searchText = $scope.options.searchText;\n                                }\n\n                                // Allow grid styles to be changed when grid is in multiselect mode (such as the\n                                // header checkbox alignment).\n                                element[locals.multiselect ? 'addClass' : 'removeClass']('bb-grid-multiselect');\n\n\n                                if (getContextMenuItems) {\n                                    useGridView = false;\n                                }\n\n                                if (columns && selectedColumnIds) {\n\n\n                                    columnModel = buildColumnModel(columns, selectedColumnIds);\n                                    columnCount = columnModel.length;\n\n                                    jqGridOptions = {\n                                        afterInsertRow: afterInsertRow,\n                                        autoencode: true,\n                                        beforeSelectRow: beforeSelectRow,\n                                        colModel: columnModel,\n                                        datatype: angular.noop,\n                                        gridComplete: gridComplete,\n                                        gridView: useGridView,\n                                        height: 'auto',\n                                        hoverrows: hoverrows,\n                                        idPrefix: getIdPrefix(),\n                                        multiselect: locals.multiselect,\n                                        multiselectWidth: MULTISELECT_COLUMN_SIZE,\n                                        onSelectAll: onSelectAll,\n                                        onSelectRow: onSelectRow,\n                                        resizeStart: resizeStart,\n                                        resizeStop: resizeStop,\n                                        rowNum: -1,\n                                        shrinktofit: false,\n                                        sortable: getSortable(),\n                                        width: getDesiredGridWidth()\n                                    };\n\n\n                                    tableEl.jqGrid(jqGridOptions);\n\n                                    header = $(tableDomEl.grid.hDiv);\n\n                                    //Attach click handler for sorting columns\n                                    header.find('th').on('click', function () {\n                                        var sortOptions = $scope.options.sortOptions,\n                                            columnName;\n\n                                        if (!sortOptions) {\n                                            sortOptions = $scope.options.sortOptions = {};\n                                        }\n\n                                        columnName = getColumnNameFromElementId(this.id);\n\n                                        if (columnIsSortable(columnName)) {\n                                            sortOptions.column = columnName;\n                                            sortOptions.descending = $(this).hasClass('sorting-asc');\n                                            $scope.$apply();\n                                        }\n                                    });\n\n                                    fullGrid = header.parents('.ui-jqgrid:first');\n\n                                    if (vkHeader) {\n                                        vkHeader.destroy();\n                                    }\n\n                                    $scope.locals.showToolbar = true;\n\n                                    getTopScrollbar().width(tableWrapper.width());\n                                    resetTopScrollbar();\n\n                                    if (!$scope.options.fixedToolbar) {\n                                        vkHeader = new bbViewKeeperBuilder.create({\n                                            el: header[0],\n                                            boundaryEl: tableWrapper[0],\n                                            verticalOffSetElId: toolbarContainerId,\n                                            setWidth: true,\n                                            onStateChanged: function () {\n                                                if (vkHeader.isFixed) {\n                                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                                } else {\n                                                    header.scrollLeft(0);\n                                                }\n\n                                            }\n                                        });\n                                    }\n\n                                    setSortStyles();\n\n                                    setUpFancyCheckHeader();\n\n                                    $scope.gridCreated = true;\n\n                                }\n\n                            }\n\n                            function destroyCellScopes() {\n                                var i;\n                                if (cellScopes) {\n                                    for (i = 0; i < cellScopes.length; i++) {\n                                        cellScopes[i].$destroy();\n                                    }\n                                }\n                                cellScopes = [];\n                            }\n\n                            function loadColumnTemplates(callback) {\n                                var columns,\n                                    templateUrlsToLoad = {};\n\n                                //Identify any template URLs that haven't been compiled\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n                                    columns = $scope.options.columns;\n                                    /*istanbul ignore else: sanity check */\n                                    if (columns) {\n                                        angular.forEach(columns, function (column) {\n                                            var templateUrl = column.template_url;\n\n                                            if (templateUrl && !compiledTemplates[templateUrl]) {\n                                                templateUrlsToLoad[templateUrl] = templateUrl;\n                                            }\n                                        });\n                                    }\n                                }\n\n                                //Load template URLs that need compiling\n                                bbData.load({\n                                    text: templateUrlsToLoad\n                                }).then(function (result) {\n                                    var p,\n                                        template;\n\n                                    // Compile templates and store them for use when adding rows.\n                                    for (p in result.text) {\n                                        /*istanbul ignore else: sanity check */\n                                        if (result.text.hasOwnProperty(p)) {\n                                            template = result.text[p];\n\n                                            /*istanbul ignore else: sanity check */\n                                            if (template) {\n                                                compiledTemplates[p] = $compile(template);\n                                            }\n                                        }\n                                    }\n\n                                    callback();\n                                });\n                            }\n\n                            function handleTableWrapperResize() {\n                                var newWidth = tableWrapper.width(),\n                                    topScrollbar = getTopScrollbar();\n\n                                if (tableWrapperWidth && tableWrapperWidth !== newWidth) {\n                                    if (hasPristineColumns) {\n                                        resetGridWidth(tableWrapperWidth, newWidth);\n                                    } else {\n                                        topScrollbar.width(newWidth);\n                                    }\n                                    tableWrapperWidth = newWidth;\n                                } else {\n                                    tableWrapperWidth = newWidth;\n                                }\n                            }\n\n                            function setRows(rows) {\n                                /*istanbul ignore else: sanity check */\n                                if (tableDomEl.addJSONData) {\n                                    loadColumnTemplates(function () {\n\n                                        if (locals.multiselect) {\n                                            element.find('td').off('mousedown.gridmousedown');\n                                        }\n\n                                        tableEl.resetSelection();\n\n                                        fancyCheckOff();\n\n                                        destroyCellScopes();\n                                        tableDomEl.addJSONData(rows);\n                                        $timeout(highlightSearchText);\n                                        handleTableWrapperResize();\n                                        /*istanbul ignore next: sanity check */\n                                        updateGridLoadedTimestampAndRowCount(rows ? rows.length : 0);\n\n                                        setUpFancyCheckCell();\n\n                                    });\n                                }\n                            }\n\n                            function setupToolbarViewKeepers() {\n                                if (vkToolbars) {\n                                    vkToolbars.destroy();\n                                }\n\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if ($scope.options) {\n                                    verticalOffSetElId = $scope.options.viewKeeperOffsetElId;\n                                }\n\n                                if (!$scope.options || !$scope.options.fixedToolbar) {\n                                    vkToolbars = new bbViewKeeperBuilder.create({\n                                        el: toolbarContainer[0],\n                                        boundaryEl: tableWrapper[0],\n                                        setWidth: true,\n                                        verticalOffSetElId: verticalOffSetElId,\n                                        onStateChanged: function () {\n                                            $timeout(function () {\n                                                locals.isScrolled = vkToolbars.isFixed;\n                                            });\n                                        }\n                                    });\n                                }\n\n\n                                vkActionBarAndBackToTop = new bbViewKeeperBuilder.create({\n                                    el: element.find('.bb-grid-action-bar-and-back-to-top')[0],\n                                    boundaryEl: element[0],\n                                    setWidth: true,\n                                    verticalOffSetElId: verticalOffSetElId,\n                                    fixToBottom: true\n                                });\n                            }\n\n                            function backToTop() {\n                                vkToolbars.scrollToTop();\n                            }\n\n                            locals.resetMultiselect = resetMultiselect;\n\n                            locals.toggleMultiselectRows = toggleMultiselectRows;\n\n                            locals.setFilters = function (filters) {\n                                $scope.options.filters = filters;\n                                $scope.locals.applySearchText();\n                            };\n\n                            if (angular.isUndefined($scope.selectedRows) || !angular.isArray($scope.selectedRows)) {\n                                $scope.selectedRows = [];\n                            }\n\n                            scrollbarWidth = bbWindow.getScrollbarWidth();\n\n                            id = $scope.$id;\n                            toolbarContainerId = id + '-toolbar-container';\n\n                            locals.backToTop = backToTop;\n\n                            //Apply unique id to the table.  ID is required by jqGrid.\n                            toolbarContainer.attr('id', toolbarContainerId);\n\n                            $scope.$watch('options.selectedColumnIds', function (newValue) {\n                                var columnChangedData;\n\n                                /*istanbul ignore else: sanity check */\n                                if (newValue) {\n                                    if (reorderingColumns) {\n                                        reorderingColumns = false;\n                                        return;\n                                    }\n\n                                    initGrid();\n\n                                    // re-evaluated so the grid won't automatically be reloaded with existing data.\n                                    columnChangedData = {\n                                        willResetData: false\n                                    };\n\n                                    $scope.$emit('includedColumnsChanged', columnChangedData);\n\n\n                                    if (!columnChangedData.willResetData && $scope.options.data && $scope.options.data.length > 0) {\n                                        // Data won't change as a result of the columns changing; reload existing data.\n                                        setRows($scope.options.data);\n                                    }\n                                }\n                            }, true);\n\n                            $scope.$watchCollection('selectedRows', function (newSelections) {\n                                var i,\n                                    index,\n                                    rowIds;\n\n                                if (localRowSelect) {\n                                    localRowSelect = false;\n                                    return;\n                                }\n\n                                if (tableEl[0].grid && $scope.options.data && $scope.options.data.length > 0) {\n                                    //blow away existing selections\n                                    tableEl.resetSelection();\n\n                                    rowIds = tableEl.getDataIDs();\n\n                                    for (i = 0; i < newSelections.length; i++) {\n\n                                        index = arrayObjectIndexOf($scope.options.data, newSelections[i]);\n\n                                        if (index > -1) {\n                                            tableEl.setSelection(rowIds[index], false);\n                                        }\n\n                                    }\n                                }\n\n                            });\n\n                            $scope.$watch('paginationOptions', initializePagination, true);\n\n                            $scope.$watchCollection('options.data', setRows);\n\n                            $scope.syncViewKeepers = function () {\n                                /*istanbul ignore else: sanity check */\n                                if (vkToolbars) {\n                                    vkToolbars.syncElPosition();\n                                }\n                            };\n\n                            $scope.syncActionBarViewKeeper = function () {\n                                /*istanbul ignore else: sanity check */\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.syncElPosition();\n                                }\n                            };\n\n                            $scope.$watch('options.sortOptions', setSortStyles, true);\n\n                            $scope.$watchGroup(['options.viewKeeperOffsetElId', 'options.fixedToolbar'], function () {\n                                setupToolbarViewKeepers();\n                            });\n\n                            $scope.$watch('options.filters', function (f) {\n                                $scope.$broadcast('updateAppliedFilters', f);\n                            });\n\n                            bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                            tableWrapper.on('scroll', function () {\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkHeader) {\n                                    vkHeader.syncElPosition();\n                                }\n\n                                if (header.hasClass('bb-viewkeeper-fixed')) {\n                                    header.scrollLeft(tableWrapper.scrollLeft());\n                                }\n\n                                getTopScrollbar().scrollLeft(tableWrapper.scrollLeft());\n                            });\n\n                            windowEventId = 'bbgrid' + id;\n\n                            windowEl.on('resize.' + windowEventId + ', orientationchange.' + windowEventId, function () {\n                                handleTableWrapperResize();\n                            });\n\n                            // Reinitialize grid when grid element resizes from 0\n                            $scope.$watch(function () {\n                                return element.width();\n                            }, function (newValue, oldValue) {\n                                if (newValue !== oldValue && oldValue === 0) {\n                                    reInitGrid();\n                                }\n                            });\n\n                            $scope.locals.topScrollbarScroll = function () {\n                                var topScrollbar = getTopScrollbar();\n                                tableWrapper.scrollLeft(topScrollbar.scrollLeft());\n                                if (header.hasClass('bb-viewkeeper-fixed')) {\n                                    header.scrollLeft(topScrollbar.scrollLeft());\n                                }\n                            };\n\n                            $scope.locals.hasWaitAndEmpty = function () {\n                                return $scope.options && $scope.options.loading && (!$scope.options.data || $scope.options.data.length < 1);\n                            };\n\n\n                            element.on('$destroy', function () {\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkToolbars) {\n                                    vkToolbars.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkHeader) {\n                                    vkHeader.destroy();\n                                }\n\n                                /*istanbul ignore else: sanity check */\n                                if (vkActionBarAndBackToTop) {\n                                    vkActionBarAndBackToTop.destroy();\n                                }\n\n                                windowEl.off('resize.' + windowEventId + ', orientationchange.' + windowEventId);\n\n                                fancyCheckOff();\n\n                                bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                            });\n                        });\n                    },\n                    templateUrl: 'sky/templates/grids/grid.html'\n                };\n            }]);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n\n    function BBGridToolbar(bbResources, bbModal) {\n        return {\n            require: '?^bbGrid',\n            scope: {\n                options: '=?bbToolbarOptions'\n            },\n            transclude: true,\n            link: function ($scope, el, attr, bbGrid) {\n                var topScrollbarEl = el.find('.bb-grid-top-scrollbar');\n\n                function applySearchText() {\n                    var searchEl;\n\n                    searchEl = el.find('.bb-search-container input');\n                    /*istanbul ignore else: sanity check */\n                    if (angular.isFunction(searchEl.select) && searchEl.length > 0 && $scope.searchText) {\n                        searchEl.eq(0).select();\n                    }\n\n                    $scope.options.searchText = $scope.searchText;\n                }\n\n                function openColumnPicker() {\n                    bbModal.open({\n                        templateUrl: 'sky/templates/grids/columnpicker.html',\n                        controller: 'BBGridColumnPickerController',\n                        resolve: {\n                            columns: function () {\n                                return $scope.options.columns;\n                            },\n                            selectedColumnIds: function () {\n                                return $scope.options.selectedColumnIds;\n                            },\n                            columnPickerHelpKey: function () {\n                                return $scope.options.columnPickerHelpKey;\n                            },\n                            listMode: function () {\n                                return $scope.options.columnPickerMode;\n                            }\n                        }\n                    }).result.then(function (selectedColumnIds) {\n                        $scope.options.selectedColumnIds = selectedColumnIds;\n                    });\n                }\n\n                function toggleFilterMenu(isOpen) {\n                    if ($scope.options && $scope.options.hasInlineFilters) {\n                        if (angular.isDefined(isOpen)) {\n                            $scope.toolbarLocals.filtersVisible = isOpen;\n                        } else {\n                            $scope.toolbarLocals.filtersVisible = !$scope.toolbarLocals.filtersVisible;\n                        }\n                    /*istanbul ignore else: sanity check */\n                    } else if (bbGrid !== null && angular.isFunction(bbGrid.toggleFilterMenu)) {\n                        bbGrid.toggleFilterMenu(isOpen);\n                    }\n                }\n\n                function moveInlineFilters() {\n                    el.parents('.bb-grid-container').find('.bb-filters-inline')\n                        .appendTo(el.find('.bb-grid-filter-inline-container'));\n\n                }\n\n                $scope.toolbarLocals = {\n                    applySearchText: applySearchText,\n                    openColumnPicker: openColumnPicker,\n                    toggleFilterMenu: toggleFilterMenu\n                };\n\n                $scope.resources = bbResources;\n\n                /*istanbul ignore else: sanity check */\n                if (bbGrid !== null && angular.isUndefined($scope.options)) {\n                    $scope.$watch(function () {\n                        return bbGrid.scope.options;\n                    }, function (newValue) {\n                        $scope.options = newValue;\n                    });\n                }\n\n                //grid columns changed, initialize toolbar stuff\n                $scope.$watch('options.selectedColumnIds', function (newValue) {\n                    if (angular.isDefined(newValue)) {\n\n                        $scope.searchText = $scope.options.searchText;\n\n                        if ($scope.options.hasInlineFilters) {\n                            moveInlineFilters();\n                        }\n\n                        /*istanbul ignore else: sanity check */\n                        if (bbGrid !== null) {\n                            bbGrid.applySearchText = applySearchText;\n                        }\n\n                        if (angular.isFunction($scope.options.onAddClick)) {\n                            $scope.toolbarLocals.hasAdd = true;\n                        }\n                    }\n                }, true);\n\n                $scope.$watch('options.filtersOpen', function (newValue) {\n                    if (angular.isDefined(newValue)) {\n                        toggleFilterMenu(newValue);\n                    }\n                });\n\n                /*istanbul ignore else: sanity check */\n                if (bbGrid !== null) {\n                    topScrollbarEl.on('scroll', function () {\n                        bbGrid.syncGridHeaderScrollToTopScrollbar();\n                    });\n                }\n\n                $scope.$on('$destroy', function () {\n                    /*istanbul ignore else: sanity check */\n                    if (bbGrid !== null) {\n                        topScrollbarEl.off();\n                    }\n                });\n\n\n            },\n            templateUrl: 'sky/templates/grids/gridtoolbar.html'\n        };\n    }\n\n    BBGridToolbar.$inject = ['bbResources', 'bbModal'];\n\n    angular.module('sky.grids.toolbar', ['sky.resources', 'sky.modal', 'sky.grids.columnpicker'])\n        .directive('bbGridToolbar', BBGridToolbar);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Help\n@icon question\n@summary The help service allows Angular components to open and close the help panel programmatically.\n @description The help service allows other Angular components to open or close the help panel programmatically. When the widget opens, it interrogates the page to identify the current help topic and display the relevant help content. Settings for this service are controlled with the `bbHelpConfig` object.\n\n ### Dependencies ###\n\n - **[easyXDM](http://easyxdm.net/wp/) (2.4.19 or higher)** Used to make cross-domain requests to the help server\n\n---\n\n### bbHelp Methods ###\n\n- `init()` Adds a global help button to the top-right corner of the page.  The appropriate `bbHelpConfig` options should be supplied before calling `init()`.\n- `open()` Opens help using the specified help key.  If `init()` has not yet been called then the global add button will be added to the page before opening the help topic.\n- `close()` Closes the current help topic.\n\n### bbHelpConfig Settings ###\n\n - `caseCentral` Optional. Can customize the Case Central URL if needed, or set to empty string to remove this link.\n - `clientId` Optional. Used to pass the client / site id to the chat session.\n - `communityUrl` Optional. Can be provided in order for a link to Community to appear.\n - `customLocales` Optional.  An array of additional locales for which the product has help content other than the default help content locale.  This array should contain strings like 'en-gb' or 'fr'.\n - `getChatData` Optional. Function that returns the appropriate chat key and website id to use for the product based on the user's locale. e.g.\n   ```\n   getChatData: function(userLocale) {\n            if (locale === 'en-gb') {\n                return {\n                    key: '3674699029499270000',\n                    websiteId: ' 3506212574036402816'\n                };\n            }\n            return {\n                key: ' 171147028994005462',\n                websiteId: '2766361919244160000'\n            };\n        }\n    ```\n - `getCurrentHelpKey` A function that returns the page's current help URL. This way, if a user navigates around your app, at any point clicking the help panel can call this to determine the appropriate help file to show. e.g. `function() { return 'myHelpFile.html'}`\n - `helpBaseUrl` Optional. Provide the base URL to your help files. If omitted, the productId will be inserted into the URL https://www.blackbaud.com/files/support/helpfiles/{ProductId}/content/ to construct the base URL.  This parameter override is available if help content must exist at some other path instead.\n - `knowledgebaseUrl` Optional. Can customize the knowledgebase URL if needed, or set to empty string to remove this link.\n - `onHelpLoaded` Optional. An callback function after the help panel is loaded.\n - `productId` The current product identifier used to build the URL to the product's help content.\n - `url` The URL to the Help Widget that will be included.\n - `userData` Optional. Object used to pass information about the current user to the chat session. e.g `{ emailAddress: '', firstName: '', lastName: ''}`\n\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.help', ['ui.router'])\n        .constant('bbHelpConfig', {\n            onHelpLoaded: null,\n            productId: 'Sky',\n            customLocales: [],\n            url: null\n        })\n        .factory('bbHelp', ['$q', '$state', '$window', 'bbHelpConfig', function ($q, $state, $window, bbHelpConfig) {\n            var initPromise;\n\n            function helpwidgetLoaded() {\n                return !!($window.BBHELP && $window.BBHELP.HelpWidget);\n            }\n\n            function init() {\n                var configOnHelpLoaded,\n                    deferred;\n\n                if (!initPromise) {\n                    deferred = $q.defer();\n                    initPromise = deferred.promise;\n\n                    if (helpwidgetLoaded()) {\n                        deferred.resolve();\n                    } else if (bbHelpConfig.url) {\n                        jQuery.ajax({\n                            cache: true,\n                            dataType: 'script',\n                            url: bbHelpConfig.url\n                        }).done(function () {\n                            var config = angular.extend({}, bbHelpConfig);\n\n                            if (!config.getCurrentHelpKey) {\n                                config.getCurrentHelpKey = function () {\n                                    // $state.current.helpKeyOverride outranks $state.current.pageData.helpKey\n                                    if ($state.current.helpKeyOverride) {\n                                        return $state.current.helpKeyOverride;\n                                    }\n\n                                    if ($state.current.pageData) {\n                                        return $state.current.pageData.helpKey;\n                                    }\n                                    return null;\n                                };\n                            }\n\n                            configOnHelpLoaded = config.onHelpLoaded;\n\n                            config.onHelpLoaded = function () {\n                                if (angular.isFunction(configOnHelpLoaded)) {\n                                    configOnHelpLoaded.apply(this, arguments);\n                                }\n\n                                deferred.resolve();\n                            };\n\n                            $window.BBHELP.HelpWidget.load(config);\n                        });\n                    } else {\n                        initPromise = null;\n                        throw new Error('bbHelpConfig.url is not defined.');\n                    }\n                }\n\n                return initPromise;\n            }\n\n            function open() {\n                var args = arguments;\n\n                init().then(function () {\n                    $window.BBHELP.HelpWidget.open.apply($window.BBHELP.HelpWidget, args);\n                });\n            }\n\n            function close() {\n                if (helpwidgetLoaded()) {\n                    $window.BBHELP.HelpWidget.close.apply($window.BBHELP.HelpWidget, arguments);\n                }\n            }\n\n            return {\n                init: init,\n                open: open,\n                close: close\n            };\n        }]);\n\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Help Button\n@icon question-circle\n@summary The help button creates a help icon to launch a help key that is different than the default help based on page context.\n @description The help button directive creates a help icon that can be clicked to launch a specific help key that is different than the default help based on page context. Optionally, it can override the page help context throughout the duration that the help button exists on the page.\n\n### Help Button Settings ###\n\n - `bb-help-key` Specifies the help key that will be opened when the help button is clicked.\n - `bb-set-help-key-override` *(Default: `false`)* If `true`, then this button will override the current page help context, so clicking on the help ear will open to this help key while this button exists.\n\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.helpbutton', ['sky.help'])\n        .directive('bbHelpButton', ['$state', '$window', 'bbHelp', function ($state, $window, bbHelp) {\n            /// <summary>\n            /// This directive provides a button that launches the Blackbaud Help Widget.\n            /// The bbHelpKey attribute sets the help key. The widget will show the given key's corresponding help page\n            /// The bbSetHelpKeyOverride attribute, when set to \"true\", makes this directive's help key override the current page help key.\n            ///     The help key override will be removed when the directive is removed from the page.\n            /// </summary>\n\n            function link(scope, el, attrs) {\n                /*jslint unparam: true */\n                var oldHelpKeyOverride;\n\n                el.addClass('bb-helpbutton fa fa-question-circle close');\n\n                if (attrs.bbSetHelpKeyOverride && attrs.bbSetHelpKeyOverride.toLowerCase() === 'true') {\n                    oldHelpKeyOverride = $state.current.helpKeyOverride;\n                    $state.current.helpKeyOverride = attrs.bbHelpKey;\n\n                    el.on(\"remove\", function () {\n                        $state.current.helpKeyOverride = oldHelpKeyOverride;\n                    });\n                }\n\n                el.click(function () {\n                    bbHelp.open(attrs.bbHelpKey);\n                });\n            }\n\n            return {\n                link: link\n            };\n        }]);\n\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Highlight\n@icon paint-brush\n@summary The highlight component highlights portions of text inside DOM elements.\n @description The highlight directive allows you to highlight portions of text inside DOM elements. Set the `bb-highlight` attribute to the text you want to highlight, and all matching text within the element will be highlighted.\n\n### Highlight Options ###\n\n- `bb-highlight-beacon` A property on your scope that will cause highlighting to occur when its value changes. This is needed when the highlight directive can't tell that the contents of the element to be highlighted has changed. For instance, if the element with the `bb-highlight` attribute also has the `ng-bind` attribute, the highlight directive can detect this and update highlighting whenever this value changes. However if you use a different directive to update the element's contents or the `bb-highlight` attribute is specified on a parent element of the element to be highlighted, you will need to use `bb-highlight-beacon` to notify the highlight directive to update the highlighted text.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.highlight', [])\n        .factory('bbHighlight', function () {\n            var DATA_CLASS_NAME = 'bb-hightlight-class',\n                DEFAULT_CLASS_NAME = 'highlight';\n\n            // Copied and modified from here so we don't have yet another jQuery plugin dependency.\n            // http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html\n            function highlight(el, pat, classn) {\n                function innerHighlight(node, pat) {\n                    var pos,\n                        skip = 0,\n                        spannode,\n                        middlebit,\n                        i,\n                        middleclone;\n\n                    classn = classn || DEFAULT_CLASS_NAME;\n\n                    el.data(DATA_CLASS_NAME, classn);\n\n                    if (node.nodeType === 3) {\n                        pos = node.data.toUpperCase().indexOf(pat);\n                        if (pos >= 0) {\n                            spannode = document.createElement('span');\n                            spannode.className = String(classn);\n                            middlebit = node.splitText(pos);\n                            middlebit.splitText(pat.length);\n                            middleclone = middlebit.cloneNode(true);\n                            spannode.appendChild(middleclone);\n                            middlebit.parentNode.replaceChild(spannode, middlebit);\n                            skip = 1;\n                        }\n                    } else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n                        for (i = 0; i < node.childNodes.length; ++i) {\n                            i += innerHighlight(node.childNodes[i], pat);\n                        }\n                    }\n                    return skip;\n                }\n\n                return el.length && pat && pat.length ? el.each(function () {\n                    innerHighlight(this, pat.toUpperCase());\n                }) : el;\n            }\n\n            function removeHighlight(el) {\n                var classn = el.data(DATA_CLASS_NAME) || DEFAULT_CLASS_NAME;\n\n                return el.find('span.' + classn).each(function () {\n                    var parentNode = this.parentNode;\n\n                    parentNode.replaceChild(this.firstChild, this);\n                    parentNode.normalize();\n                }).end();\n            }\n\n            highlight.clear = removeHighlight;\n\n            return highlight;\n        })\n        .directive('bbHighlight', ['bbHighlight', function (bbHighlight) {\n            return {\n                link: function (scope, el, attrs) {\n                    function highlight() {\n                        var highlightText = scope.$eval(attrs.bbHighlight);\n                        \n                        bbHighlight.clear(el);\n\n                        if (highlightText) {\n                            bbHighlight(el, highlightText);\n                        }\n                    }\n                    \n                    scope.$watch(attrs.bbHighlight, function () {\n                        highlight();\n                    });\n\n                    if (attrs.bbHighlightBeacon) {\n                        scope.$watch(attrs.bbHighlightBeacon, function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                scope.$evalAsync(highlight);\n                            }\n                        }, true);\n                    }\n                    \n                    if (attrs.ngBind) {\n                        scope.$watch(attrs.ngBind, function (newValue, oldValue) {\n                            if (newValue !== oldValue) {\n                                highlight();\n                            }\n                        });\n                    }\n                },\n                priority: 1, // Make sure ng-bind (which has a priortiy of 0) is processed before this\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*global angular, define, enquire, require */\n\n/** @module Media Breakpoints\n@icon mobile\n@summary The media breakpoints service calls callback functions when a Bootstrap grid system breakpoint is hit to manipulate the user interface programmatically when CSS media queries are not sufficient.\n @description The media breakpoints service can call one or more callback functions whenever a [Bootstrap grid system breakpoint](http://getbootstrap.com/css/#grid-media-queries) is hit. This allows for manipulating the UI programmatically in cases where CSS media queries are not sufficient.\n\n### Dependencies ##\n\n - **[enquire.js](http://wicky.nillia.ms/enquire.js/) (2.1.2 or later)**\n\n---\n\n### Media Breakpoint Methods ###\n\n - `register(callback)` Registers a callback method with the service that will be called any time a media breakpoint is hit. The callback function will be called with the following arguments:\n  - `breakpoint` An object with `xs`, `sm`, `md` and `lg` properties. The property corresponding with the current breakpoint will be set to `true` and the rest set to `false`.\n - `unregister(callback)` Unregisters the specified callback method. This should be called whenever the controller's `$scope` is destroyed.\n - `getCurrent()` Gets the current media breakpoint object.\n */\n\n(function () {\n    'use strict';\n\n    var mediaBreakpointsConfig = {\n            mediaQueries: {\n                xs: '(max-width: 767px)',\n                sm: '(min-width: 768px) and (max-width: 991px)',\n                md: '(min-width: 992px) and (max-width: 1199px)',\n                lg: '(min-width: 1200px)'\n            }\n        },\n        bp = {},\n        handlers = [],\n        mediaBreakpoints;\n\n\n\n    function runRegisterEnquire($window, $timeout) {\n        function registerEnquire(enquire) {\n            var mediaQueries = mediaBreakpointsConfig.mediaQueries,\n                p;\n\n            function updateStatus(newSize) {\n                var handler,\n                    i;\n                bp.xs = bp.sm = bp.md = bp.lg = false;\n                bp[newSize] = true;\n\n                for (i = 0; i < handlers.length; i += 1) {\n                    handler = handlers[i];\n\n                    /*istanbul ignore else */\n                    if (handler) {\n                        handler(bp);\n                    }\n                }\n                $timeout(angular.noop);\n            }\n\n\n            function registerQuery(name) {\n                if (!angular.isDefined(enquire.queries[mediaQueries[name]])) {\n                    enquire.register(mediaQueries[name], function () {\n                        updateStatus(name);\n                    });\n                }\n            }\n\n            for (p in mediaQueries) {\n                /*istanbul ignore else */\n                if (mediaQueries.hasOwnProperty(p)) {\n                    registerQuery(p);\n                }\n            }\n        }\n\n        /* istanbul ignore next boilerplate RequireJS detection */\n        if (typeof define === 'function' && define.amd) {\n            // AMD. Register as an anonymous module.\n            require(['enquire'], registerEnquire);\n        } else if ($window.enquire) {\n            // Browser globals\n            registerEnquire(enquire);\n        }\n    }\n\n    runRegisterEnquire.$inject = ['$window', '$timeout'];\n\n    mediaBreakpoints = {\n        register: function (callback) {\n            handlers.push(callback);\n\n            //Fire handler immediately\n            callback(bp);\n        },\n\n        unregister: function (callback) {\n            var i;\n\n            for (i = 0; i < handlers.length; i += 1) {\n                if (handlers[i] === callback) {\n                    handlers.splice(i, 1);\n                    break;\n                }\n            }\n        },\n\n        getCurrent: function () {\n            return bp;\n        }\n    };\n\n    angular.module('sky.mediabreakpoints', [])\n        .constant('bbMediaBreakpointsConfig', mediaBreakpointsConfig)\n        .run(runRegisterEnquire)\n        .factory('bbMediaBreakpoints', [function () {\n            return mediaBreakpoints;\n        }]);\n}());\n","/*jshint browser: true */\n/*global angular, jQuery */\n\n/** @module Modal\n@icon list-alt\n@summary The modal component launches modals in a way that is consistent with Sky UX applications.\n @description The modal directive and service can be used to launch modals in a consistent way in a Sky UX application. Rather than using the ui-bootstrap `$uibModal.open`, use `bbModal.open` instead. This takes the same options object but allows for some custom default behaviors in Sky UX.\n\nIn addition to the `bbModal` service for lauching modals, a `bb-modal` directive should be used to have common look-and-feel for modal content. Within `bb-modal`, use `bb-modal-header` to include a common modal header, `bb-modal-footer` to include a common modal footer and buttons, and `bb-modal-body` to wrap the modal's body content.\n\n### Modal Header Settings ###\n\n - `bb-modal-help-key` Specifies the help key for the modal. This will be be linked from a help button included in the modal header.\n\n### Modal Footer Buttons ##\n\n - `bb-modal-footer-button` Generic button for the modal footer. HTML included in this tag will be included in the contents of the button. You must register events for the button manually.\n\n - `bb-modal-footer-button-primary` Primary button for the modal footer which will have a custom look.  Default content is 'Save', but HTML included in this tag will be included as the contents of the button if provided. You must register events for the button manually.\n\n - `bb-modal-footer-button-cancel` Cancel button for the modal footer. Default content is 'Cancel', but HTML included in this tag will be included as the contents of the button if provided. This button automatically cancels the modal form.\n\n */\n\n(function ($) {\n    'use strict';\n\n    var openModalCount = 0;\n\n    angular.module('sky.modal', ['sky.helpbutton', 'sky.resources', 'ui.bootstrap'])\n        .factory('bbModal', ['$uibModal', '$window', function ($uibModal, $window) {\n            return {\n                open: function (opts) {\n                    var bodyEl,\n                        isIOS,\n                        modalInstance,\n                        scrollTop;\n\n                    function modalClosed() {\n                        openModalCount--;\n                        if (isIOS) {\n                            bodyEl\n                                .removeClass('bb-modal-open-mobile')\n                                .scrollTop(scrollTop);\n                        }\n\n                        bodyEl = null;\n                    }\n\n                    isIOS = /iPad|iPod|iPhone/i.test($window.navigator.userAgent);\n                    bodyEl = $(document.body);\n\n                    // Change default values for modal options\n                    opts = angular.extend({\n                        backdrop: 'static',\n                        windowClass: 'bb-modal'\n                    }, opts);\n\n                    // Mobile browsers exhibit weird behavior when focusing on an input element\n                    // inside a position: fixed element (in this case the modal), and it also\n                    // doesn't propery prohibit scrolling on the window.  Adding this CSS class\n                    // will change the body position to fixed and the modal position to absolute\n                    // to work around this behavior.\n                    if (isIOS) {\n                        // Setting the body position to be fixed causes it to be scrolled to the\n                        // top.  Cache the current scrollTop and set it back when the modal is\n                        // closed.\n                        scrollTop = bodyEl.scrollTop();\n                        bodyEl.addClass('bb-modal-open-mobile');\n                    }\n\n                    modalInstance = $uibModal.open(opts);\n                    openModalCount++;\n\n                    modalInstance.result.then(modalClosed, modalClosed);\n\n                    return modalInstance;\n                }\n            };\n        }])\n        .directive('bbModal', ['$timeout', function ($timeout) {\n            function getPixelValue(val) {\n                val = val || '0';\n\n                return parseFloat(val.replace('px', ''));\n            }\n\n            function getModalBodyWrapperMargin(el) {\n                var margin = 0;\n\n                while (el.not('.modal-dialog') && el.length > 0) {\n                    margin += el.outerHeight() - el.height();\n\n                    el = el.parent();\n                }\n\n                return margin;\n            }\n\n            return {\n                controller: ['$scope', function ($scope) {\n                    this.setBodyEl = function (bodyEl) {\n                        $scope.bodyEl = bodyEl;\n                    };\n                }],\n                replace: true,\n                transclude: true,\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modal.html',\n                link: function ($scope, el) {\n                    var bodyEl,\n                        resizeTimeout,\n                        windowEl = $(window);\n\n                    function fitToWindow() {\n                        var margin,\n                            modalParentEl,\n                            newMaxHeight,\n                            reservedHeight;\n\n                        if (bodyEl && bodyEl.length > 0) {\n                            modalParentEl = el.parents('.modal-dialog');\n\n                            if (modalParentEl.length > 0) {\n                                margin = getPixelValue(modalParentEl.css('margin-bottom')) + getPixelValue(modalParentEl.css('margin-top'));\n\n                                reservedHeight = margin + el.find('.modal-header').outerHeight() + el.find('.modal-footer').outerHeight();\n\n                                // Account for the border, padding, etc. of the elements that wrap the modal body.\n                                reservedHeight += getModalBodyWrapperMargin(el);\n\n                                newMaxHeight = windowEl.height() - reservedHeight;\n\n                                bodyEl.css('max-height', newMaxHeight);\n                            }\n                        }\n                    }\n\n                    $scope.$watch('bodyEl', function (newValue) {\n                        bodyEl = newValue;\n                        fitToWindow();\n                    });\n\n                    $timeout(function () {\n                        fitToWindow();\n                    }, 0);\n\n                    windowEl.on('resize.bbModal' + $scope.$id, function () {\n                        $timeout.cancel(resizeTimeout);\n\n                        resizeTimeout = $timeout(function () {\n                            fitToWindow();\n                        }, 250);\n                    });\n\n                    el.on('$destroy', function () {\n                        windowEl.off('.bbModal' + $scope.$id);\n                    });\n                }\n            };\n        }])\n        .directive('bbModalBody', function () {\n            return {\n                link: function (scope, el, attrs, modalCtrl) {\n                    el.addClass('modal-body container-fluid');\n                    modalCtrl.setBodyEl(el);\n                },\n                require: '^bbModal',\n                restrict: 'A'\n            };\n        })\n        .directive('bbModalHeader', function () {\n            return {\n                controller: angular.noop,\n                replace: true,\n                transclude: true,\n                require: '^bbModal',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalheader.html',\n                scope: {\n                    bbModalHelpKey: '='\n                }\n            };\n        })\n        .directive('bbModalFooter', function () {\n            return {\n                controller: angular.noop,\n                replace: true,\n                transclude: true,\n                require: '^bbModal',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooter.html'\n            };\n        })\n        .directive('bbModalFooterButton', function () {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbutton.html'\n            };\n        })\n        .directive('bbModalFooterButtonPrimary', ['bbResources', function (bbResources) {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbuttonprimary.html',\n                link: function ($scope, el) {\n                    if (el.children().length === 0) {\n                        el.append(\"<span>\" + bbResources.modal_footer_primary_button + \"</span>\");\n                    }\n                }\n            };\n        }])\n        .directive('bbModalFooterButtonCancel', ['bbResources', function (bbResources) {\n            return {\n                replace: true,\n                transclude: true,\n                require: '^bbModalFooter',\n                restrict: 'E',\n                templateUrl: 'sky/templates/modal/modalfooterbuttoncancel.html',\n                link: function ($scope, el) {\n                    if (el.children().length === 0) {\n                        el.append(\"<span>\" + bbResources.modal_footer_cancel_button + \"</span>\");\n                    }\n                }\n            };\n        }]);\n}(jQuery));\n","/*global angular, define, require */\n\n/** @module Moment\n@icon clock-o\n@summary The moment module use the moment.js library to parse, validate, manipulate, or display dates.\n@description The moment module allows you to use the [moment](http://momentjs.com/) library.\n*/\n\n(function () {\n    'use strict';\n\n    function bbMoment($window) {\n        return $window.moment;\n    }\n\n    bbMoment.$inject = ['$window'];\n\n    /*istanbul ignore next boilerplate require gunk */\n    function runRegisterMoment($window) {\n\n        function registerMoment(moment) {\n            $window.moment = moment;\n        }\n\n        if (angular.isUndefined($window.moment) && typeof define === 'function' && define.amd) {\n            require(['moment'], registerMoment);\n        }\n    }\n\n    runRegisterMoment.$inject = ['$window'];\n\n    angular.module('sky.moment', [])\n        .run(runRegisterMoment)\n        .factory('bbMoment', bbMoment);\n\n}());\n","/*global angular, jQuery */\n\n/** @module Navbar\n@icon compass\n@summary The navbar creates a Bootstrap `nav` element and applies Sky UX classes to it.\n @description The navbar directive creates a Bootstrap `nav` element with the appropriate Sky UX classes applied to it and its children, and also adds behavior such as showing sub-navigation items when the user hovers over the dropdown. If you do not wish to use the omnibar for collapsing the navbar into a mobile menu on small screens, then place the `bb-navbar-showmobile` class on the `bb-navbar` directive.\n */\n\n(function ($) {\n    'use strict';\n\n    function toggleOpen(el, action) {\n        $(el)[action + 'Class']('open');\n    }\n\n    angular.module('sky.navbar', [])\n        .directive('bbNavbar', function () {\n            return {\n                restrict: 'E',\n                replace: true,\n                transclude: true,\n                templateUrl: 'sky/templates/navbar/navbar.html',\n                link: function (scope, el) {\n                    /*jslint unparam: true */\n                    $(el).on('mouseenter', '.dropdown', function () {\n                        toggleOpen(this, 'add');\n                    }).on('mouseleave', '.dropdown', function () {\n                        toggleOpen(this, 'remove');\n                    }).on('click', '.dropdown-menu a', function () {\n                        toggleOpen($('.dropdown', el), 'remove');\n                    });\n                }\n            };\n        });\n}(jQuery));\n","/*global angular, jQuery */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.omnibar', [])\n        .constant('bbOmnibarConfig', {\n            appLookupUrl: '',\n            enableHelp: false,\n            enableSearch: false,\n            productId: 'Sky',\n            searchPlaceholder: 'Search',\n            serviceName: 'Sky',\n            signOutUrl: '',\n            tenantId: '',\n            url: 'https://signin.blackbaud.com/omnibar.min.js'\n        })\n        .directive('bbOmnibar', ['$window', 'bbOmnibarConfig', function ($window, bbOmnibarConfig) {\n            return {\n                transclude: true,\n                template: '<div class=\"bb-omnibar-wrap\"></div><div class=\"bb-omnibar-menu-wrap\" ng-transclude></div>',\n                link: function (scope, el) {\n                    var omnibarEl = el.children('.bb-omnibar-wrap'),\n                        omnibarMenuEl = el.find('.bb-omnibar-menu-wrap .bb-omnibar-menu');\n\n                    function afterLoad() {\n                        var searchBox = omnibarEl.find('.searchbox'),\n                            searchContainer = omnibarEl.find('.searchContainer'),\n                            searchValue;\n\n                        // No longer need this holding div now that the menu was moved into the right location in the omnibar.\n                        el.children(\".bb-omnibar-menu-wrap\").remove();\n\n                        if (omnibarEl.find(\".mobile .productmenucontainer\").length === 0) {\n                            $(\".bb-navbar\").addClass(\"bb-navbar-showmobile\");\n                        }\n\n                        searchBox.attr('placeholder', bbOmnibarConfig.searchPlaceholder);\n\n                        scope.searchBox = searchBox;\n\n                        searchBox.on('keyup', function (event) {\n                            var value = searchBox.val();\n\n                            /*istanbul ignore else */\n                            if (value !== searchValue) {\n                                searchValue = value;\n\n                                scope.searchText = value;\n                                scope.$apply();\n                            }\n\n                            scope.$emit('searchBoxKeyUp', event.keyCode);\n                        });\n\n                        scope.$watch('searching', function (searching) {\n                            if (searching) {\n                                searchContainer.addClass('searching');\n                            } else {\n                                searchContainer.removeClass('searching');\n                            }\n                        });\n\n                        scope.$watch('searchText', function (searchText) {\n                            searchText = searchText || '';\n                            if (searchText !== searchBox.val()) {\n                                searchValue = searchText;\n                                searchBox.val(searchText);\n                            }\n                        });\n\n                        scope.$apply();\n\n                        if (angular.isFunction(bbOmnibarConfig.afterLoad)) {\n                            /* jshint validthis: true */\n                            bbOmnibarConfig.afterLoad.apply(this, arguments);\n                        }\n                    }\n\n                    function userLoaded(userData) {\n                        var omnibarIndicatesNullUserTime;\n\n                        //If the user ID loaded in the omnibar does not match the user who loaded the page, sign the\n                        //user out of the application.  This will result in a redirect back to the auth size to update\n                        //the user's claims or ask the user to log back in.\n                        if (userData.id !== bbOmnibarConfig.authenticationUserId && bbOmnibarConfig.signOutUrl) {\n\n                            if (userData.id === null) {\n                                //If userData.id ==null then it may just means the omnibar is stale or there was a problem\n                                //with the interaction of the omnibar and the rex shell SPA client side code.\n                                //\n                                //If we can use localStorage to track data across sessions, then attempt to log out of NXT once\n                                //and see if this fixes it, but avoid an infinite redirect loop with the Auth Svc.\n                                //\n                                //If the browser doesn't support localStorage, then just return.\n                                //\n                                //If we don't back to the auth sign in site here, then it will just stay on the current page\n                                //with the understanding that the omnibar may be in a state of acting as though the user\n                                //is signed out.  The page is still secure because the Auth claims are evaluated on the server.\n                                //This special case is just about dealing with an edge case issue with client side javascript.\n                                if ($window.localStorage) {\n                                    omnibarIndicatesNullUserTime = $window.localStorage.omnibarIndicatesNullUserTime;\n                                    \n                                    if (omnibarIndicatesNullUserTime && (new Date() - Date.parse(omnibarIndicatesNullUserTime)) / 1000 <= 10) {\n                                        // We just looped through Auth within the last 10 seconds, so don't leave again now.\n                                        return;\n                                    }\n\n                                    try {\n                                        // Stash the time that we're doing this redirect to avoid infinite loops.\n                                        $window.localStorage.omnibarIndicatesNullUserTime = (new Date()).toString();\n                                    } catch (e) {\n                                        // Safari private browsing will throw an exception on setting localStroage.\n                                        /*istanbul ignore next: super edge case */\n                                        return;\n                                    }\n                                } else {\n                                    return;\n                                }\n                            }\n\n                            // Log out and redirect to auth service.\n                            $window.location.href = bbOmnibarConfig.signOutUrl;\n                        }\n\n                        if (angular.isFunction(bbOmnibarConfig.userLoaded)) {\n                            /* jshint validthis: true */\n                            bbOmnibarConfig.userLoaded.apply(this, arguments);\n                        }\n                    }\n\n                    $.ajax({\n                        cache: true,\n                        dataType: 'script',\n                        url: bbOmnibarConfig.url\n                    }).done(function () {\n                        var loadOptions = angular.extend({}, bbOmnibarConfig, {\n                            afterLoad: afterLoad,\n                            userLoaded: userLoaded,\n                            menuEl: omnibarMenuEl\n                        });\n\n                        $window.BBAUTH.Omnibar.load(omnibarEl, loadOptions);\n                    });\n                }\n            };\n        }])\n        .directive('bbOmnibarMenu', function () {\n            return {\n                replace: true,\n                require: '^bbOmnibar',\n                restrict: 'E',\n                transclude: true,\n                template: '<div class=\"bb-omnibar-menu\" ng-transclude></div>'\n            };\n        });\n}(jQuery));\n","/*global angular */\n\n/** @module Page\n@icon file-o\n@summary The page component handles functionality around loading pages.\n @description The page directive provides functionality around loading pages.\n\n### Page Settings ###\n\n - `bb-page-status` The status of the page.\n    - `LOADING` Denotes the page is currently loading.\n    - `LOADED` Denotes the page has successfully finished loading.\n    - `NOT_AUTHORIZED` Denotes the page has finished loading and should show the unauthorized content.\n    - `NOT_FOUND` Denotes the page is has finished loading and should redirect to the not found page.\n - `bb-page-uses-load-manager` Allow the page to use the bb-data load manager.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.page', [])\n        .constant('bbPageConfig', {\n            redirectUrl: null,\n            notFoundUrl: null\n        })\n        .factory('bbPage', [function () {\n            var pageStatuses;\n\n            pageStatuses = {\n                LOADING: 0,\n                LOADED: 1,\n                NOT_AUTHORIZED: 2,\n                //ERROR: 3,\n                NOT_FOUND: 4\n            };\n\n            return {\n                pageStatuses: pageStatuses\n            };\n        }])\n        .directive('bbPage', ['$window', 'bbResources', 'bbPage', 'bbPageConfig', 'bbData', '$location',\n            function ($window, bbResources, bbPage, bbPageConfig, bbData, $location) {\n                function link(scope, element) {\n                    var loadManager,\n                        locals;\n\n                    function navigateAway() {\n                        $window.location.href = bbPageConfig.redirectUrl || $window.location.origin;\n                    }\n\n                    function noPageStatusSpecified() {\n                        return element.attr('bb-page-status') === undefined;\n                    }\n\n                    function onShowing() {\n                        if (scope.bbPageUsesLoadManager) {\n                            loadManager = locals.loadManager = bbData.loadManager({\n                                scope: scope,\n                                waitForFirstItem: true,\n                                nonblockWaitForAdditionalItems: true,\n                                isAggregate: true\n                            });\n                        }\n                    }\n\n                    locals = scope.locals = {\n                        navigateAway: navigateAway,\n                        noPageStatusSpecified: noPageStatusSpecified,\n                        pageStatuses: bbPage.pageStatuses,\n                        onShowing: onShowing\n                    };\n\n                    scope.resources = bbResources;\n\n                    scope.$watch('bbPageStatus', function (value, oldValue) {\n                        scope.value = \"something\";\n                        scope.oldValue = oldValue;\n\n                        if (!value) {\n                            scope.$emit(\"bbBeginWait\");\n                        } else if (value && !oldValue) {\n                            scope.$emit(\"bbEndWait\");\n                        }\n\n                        if (value === locals.pageStatuses.NOT_AUTHORIZED) {\n                            if (loadManager) {\n                                loadManager.cancelWaiting();\n                            }\n                        } else if (value === locals.pageStatuses.NOT_FOUND) {\n                            if (loadManager) {\n                                loadManager.cancelWaiting();\n                            }\n\n                            $location.path(bbPageConfig.notFoundUrl).replace();\n                        }\n\n                    });\n                }\n\n                return {\n                    restrict: 'E',\n                    scope: {\n                        bbPageStatus: '=?',\n                        bbPageUsesLoadManager: '@?'\n                    },\n                    templateUrl: 'sky/templates/page/page.html',\n                    transclude: true,\n                    link: link\n                };\n            }]);\n}());\n","/*global angular */\n\n/** @module Pagination\n@icon files-o\n@summary The pagination component displays data across multiple pages and inserts a pagination control to page through the data.\n @description The pagination directive allows list data to be displayed across multiple pages. When the number of items in the list exceeds the page size, a pagination control is displayed.\n\nThe `bb-pagination-content` directive and the `bbPaging` service are used in conjunction with this directive. The `bb-pagination-content` is used to wrap the paged content so that the height of the wrapper can be kept as a constant height across pages regardless of contents. When the list data is bound, the height of the largest page will be used for the wrapper so that the height of the list will not fluctuate as the user pages through it.\nThe `bbPaging` service is used to create the paged data and responds to changes in the pagination directive.\n\n### Pagination Settings ###\n\n - `bb-pagination` The paged data initialized by the `bbPaging` service.\n - `bb-pagination-disabled` Determines whether the use can interact with the pagination control.\n\n### Pagination Content Settings ##\n\n - `bb-pagination-content` The paged data initialized by the `bbPaging` service.\n\n### Paging Settings ##\nThese are optional properties of the object passed to `bbPaging.init()`\n\n - `currentPage` *(Default: `1`)* The initial page to display.\n - `itemsPerPage` *(Default: `5`)* The number of items to display per page.\n */\n\n(function () {\n    'use strict';\n\n    var evtNsPos = 0;\n\n    angular.module('sky.pagination', ['ui.bootstrap.pagination'])\n        .config(['uibPaginationConfig', function (paginationConfig) {\n            paginationConfig.maxSize = 4;\n            paginationConfig.itemsPerPage = 5;\n\n            paginationConfig.nextText = paginationConfig.previousText = '';\n        }])\n        .factory('bbPaging', function () {\n            return {\n                init: function (sourceData, config) {\n                    var paging;\n\n                    function setPageData() {\n                        var startingIndex,\n                            currentPage;\n\n                        if (!paging.disabled && sourceData) {\n                            currentPage = paging.currentPage - 1; // 1-based\n\n                            startingIndex = currentPage * paging.itemsPerPage;\n\n                            paging.items = sourceData.slice(startingIndex, startingIndex + paging.itemsPerPage);\n                        }\n                    }\n\n                    paging = {\n                        currentPage: 1,\n                        itemsPerPage: 5,\n                        totalItems: sourceData ? sourceData.length : 0,\n                        pageChanged: setPageData\n                    };\n\n                    angular.extend(paging, config);\n\n                    setPageData();\n\n                    return paging;\n                }\n            };\n        })\n        .directive('bbPagination', function () {\n            return {\n                restrict: 'A',\n                scope: {\n                    paginationDisabled: '=bbPaginationDisabled'\n                },\n                compile: function (el, attrs) {\n                    var pagedData = attrs.bbPagination;\n\n                    /*jslint white: true */\n                    el.html(\n                        '<uib-pagination ng-show=\"' + pagedData + '.totalItems > ' + pagedData + '.itemsPerPage\" total-items=\"' + pagedData + '.totalItems\" ng-model=\"' + pagedData + '.currentPage\" ng-change=\"' + pagedData + '.pageChanged()\" items-per-page=\"' + pagedData + '.itemsPerPage\"></uib-pagination>' +\n                        '<div class=\"clearfix\"></div>'\n                    );\n                    /*jslint white: false */\n\n                    return function (scope, el) {\n                        scope.$watch('paginationDisabled', function (newValue) {\n                            var paginationDummyEl,\n                                paginationEl;\n\n                            // Since we don't have complete control over the Angular Bootstrap UI pagination directive,\n                            // we can't disable it directly.  Instead just clone the pagination element, disable it\n                            // and show it while hiding the original element when pagination is disabled.\n                            if (angular.isDefined(newValue)) {\n                                paginationEl = el.find('.pagination');\n\n                                if (newValue) {\n                                    paginationDummyEl = paginationEl\n                                        .clone()\n                                        .addClass('bb-pagination-dummy');\n\n                                    paginationEl\n                                        .before(paginationDummyEl)\n                                        .hide();\n\n                                    paginationDummyEl.find('li').addClass('disabled');\n                                } else {\n                                    el.find('.bb-pagination-dummy').remove();\n                                    paginationEl.show();\n                                }\n                            }\n                        });\n                    };\n                }\n            };\n        })\n        .directive('bbPaginationContent', ['$timeout', '$window', '$animate', function ($timeout, $window, $animate) {\n            return {\n                link: function (scope, el) {\n                    var evtNs;\n\n                    evtNsPos += 1;\n\n                    evtNs = \"bbPaginationContent\" + evtNsPos;\n\n                    function removeWindowResizeHandler() {\n                        angular.element($window).off('.' + evtNs);\n                    }\n\n                    scope.$watch('pagedData', function () {\n                        var pageCount,\n                            pagedData,\n                            tries = 0,\n                            windowResizeTimeout;\n\n                        // Try for 1 second to set a min-height on paged data so the paging bar doesn't jump\n                        // up when the user hits a page with less than the max number of items.\n                        function trySetMinHeight() {\n                            $timeout(function () {\n                                var currentPage,\n                                    height = el.height(),\n                                    i,\n                                    maxHeight = 0;\n\n                                function changePage(pageNumber) {\n                                    /* Disable animation for the page change\n                                       to prevent issues with ng-repeat\n                                       that impact min-height measurements */\n                                    $animate.enabled(false, el);\n                                    pagedData.currentPage = pageNumber;\n\n                                    pagedData.pageChanged();\n                                    scope.$apply();\n                                    $animate.enabled(true, el);\n\n                                }\n\n                                if (height === 0 && tries < 5) {\n                                    tries += 1;\n                                    trySetMinHeight();\n                                    return;\n                                }\n\n                                el.addClass('bb-pagination-content bb-pagination-content-calculating');\n\n                                // Cache the current page so we can put it back.\n                                currentPage = pagedData.currentPage;\n\n                                // Reset the min height from any previous iteration.\n                                el.css('min-height', 0);\n\n                                // Navigate through each page and find the tallest page.\n                                for (i = 1; i <= pageCount; i += 1) {\n                                    changePage(i);\n                                    maxHeight = Math.max(el.height(), maxHeight);\n                                }\n\n                                // Set the min height to the height of the tallest page.\n                                el.css('min-height', maxHeight);\n\n                                // Navigate back to the initial page.\n                                changePage(currentPage);\n\n                                el.removeClass('bb-pagination-content-calculating');\n                            }, 200);\n                        }\n\n                        pagedData = scope.pagedData;\n\n                        if (angular.isDefined(scope.pagedData)) {\n                            pageCount = Math.ceil(pagedData.totalItems / (pagedData.itemsPerPage || 1));\n\n                            if (pageCount > 1) {\n                                trySetMinHeight();\n\n                                removeWindowResizeHandler();\n\n                                angular.element($window).on('resize.' + evtNs, function () {\n                                    if (windowResizeTimeout) {\n                                        $timeout.cancel(windowResizeTimeout);\n                                    }\n\n                                    windowResizeTimeout = $timeout(trySetMinHeight, 500);\n                                });\n\n                                el.on('$destroy', removeWindowResizeHandler);\n                            }\n                        }\n                    });\n                },\n                scope: {\n                    pagedData: '=bbPaginationContent'\n                }\n            };\n        }]);\n}());\n","/*jshint unused: false */\n/*global angular, bbPaletteConfig */\n\n(function () {\n'use strict';\n\nvar bbPaletteConfig;\n\n/* LINES BELOW ARE AUTO GENERATED */\nbbPaletteConfig = {\n    \"multi\": [\n        \"#1f91da\",\n        \"#f9b66d\",\n        \"#1dc8a6\",\n        \"#9176c6\",\n        \"#28d7d9\",\n        \"#ef6977\",\n        \"#919191\",\n        \"#7ec2ed\",\n        \"#fbcf9f\",\n        \"#75ebd3\",\n        \"#beaedd\",\n        \"#85e8ea\",\n        \"#f59ca6\",\n        \"#afafaf\"\n    ],\n    \"mono\": [\n        \"#156395\",\n        \"#1c84c6\",\n        \"#44a6e5\",\n        \"#83c4ed\",\n        \"#c1e1f6\"\n    ]\n};\n\nangular.module('sky.palette.config', [])\n    .constant('bbPaletteConfig', bbPaletteConfig);\n\n}());\n","/*global angular */\n\n/** @module Palette\n@icon paint-brush\n@summary The palette service provides methods for consistently producing a sequence of colors for Sky.\n@description The palette service gives you the following functions:\n\n  - `getColorByIndex(index, paletteType)` Get a specific color by it's index in the palette.\n    - 'index' A required integer for the index of the color.\n    - 'paletteType' An optional string representing either `mono` or the default `multi`.\n  - `getColorSequence(requestedLength, paletteType)` Returns an array of colors for the requested length.  When using with `ng-repeat`, be sure to use the `track by` syntax since we return duplicates.\n    - 'requestedLength' A required integer for the size of the array of colors you want returned.\n    - 'paletteType' An optional string representing either `mono` or the default `multi`.\n\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.palette', ['sky.palette.config'])\n        .factory('bbPalette', ['bbPaletteConfig', function (bbPaletteConfig) {\n\n            function getPaletteByType(paletteType) {\n                return bbPaletteConfig[paletteType || 'multi'];\n            }\n\n            return {\n                getColorByIndex: function (index, paletteType) {\n                    var palette = getPaletteByType(paletteType);\n                    return palette[index % palette.length];\n                },\n                getColorSequence: function (requestedLength, paletteType) {\n\n                    var i,\n                        palette = getPaletteByType(paletteType),\n                        paletteLength,\n                        r = [];\n\n                    paletteLength = palette.length;\n                    requestedLength = requestedLength || paletteLength;\n\n                    for (i = 0; i < requestedLength; i++) {\n                        r.push(palette[i % paletteLength]);\n                    }\n\n                    return r;\n                }\n            };\n        }]);\n}());\n","/*global angular, jQuery */\n\n/** @module Popover\n@icon newspaper-o\n@summary The popover component wraps the Angular UI Bootstrap popover directive to create an HTML-formatted popover that is displayed by a trigger element.\n @description The `bb-popover-template` directive enables an HTML-formatted popover to be displayed via a trigger element. This directive is an alternative to the `popover` directive from Angular UI Bootstrap, making it easier to define markup in a template rather than directly in the view's controller.\n\nThe `bb-popover-template` attribute should specify a URL for a template in the `$templateCache` that will be used as the popover content. The scope applied to this template inherits the current scope. A `hide` function is also\nprovided on the scope to dismiss the popover.\n\nThe directive is built as a thin wrapper of the [Angular UI Bootstrap Popover](http://angular-ui.github.io/bootstrap/) directive and supports all of it's optional properties.\n */\n\n(function ($) {\n    'use strict';\n\n    function bbPopoverTemplate($compile) {\n        return {\n            restrict: 'A',\n            scope: true,\n            link: function ($scope, el) {\n                var bbPopoverOpenAttr = 'bbPopoverOpen' + $scope.$id;\n\n                //prevent breaking change by adding quotes around template url and\n                //passing to new directive\n                /*istanbul ignore else */\n                if (!el.attr('bb-uib-popover-template')) {\n                    el.attr('bb-uib-popover-template', \"'\" + el.attr('bb-popover-template') + \"'\");\n                }\n\n                if (!el.attr('popover-is-open')) {\n                    el.attr('popover-is-open', bbPopoverOpenAttr);\n                }\n\n                $scope.bbPopoverAttr = el.attr('popover-is-open');\n\n\n                el.removeAttr('bb-popover-template');\n                $compile(el)($scope);\n            }\n        };\n    }\n\n    bbPopoverTemplate.$inject = ['$compile'];\n\n    function bbUibPopoverTemplate($uibTooltip) {\n        var tooltip = $uibTooltip('bbUibPopoverTemplate', 'popover', 'click', {\n            useContentExp: true\n        });\n\n        return tooltip;\n    }\n\n    bbUibPopoverTemplate.$inject = ['$uibTooltip'];\n\n    function bbUibPopoverTemplatePopup($window, $parse) {\n        return {\n            replace: true,\n            scope: { title: '@', contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&', originScope: '&' },\n            link: function ($scope, el) {\n\n                var origScope = $scope.originScope(),\n                    popoverIsOpenAttr,\n                    windowEl = $($window),\n                    scopeId = $scope.$id;\n\n                popoverIsOpenAttr = origScope.bbPopoverAttr;\n\n                function closePopover() {\n\n                    /* Set the popover is open attribute this way to account for\n                       both variables directly on scope as well as using 'controller\n                       as' \n                    */\n                    /* istanbul ignore else: sanity check */\n                    if (angular.isDefined(origScope.$eval(popoverIsOpenAttr))) {\n                        $parse(popoverIsOpenAttr).assign(origScope, false);\n                    }\n                }\n\n                origScope.hide = function () {\n                    closePopover();\n                };\n\n                $scope.$watch('isOpen()', function (value) {\n                    if (value) {\n                        windowEl.on('click.popover' + scopeId, function (event) {\n                            if (!el.is(event.target) && el.has(event.target).length === 0 && $scope.isOpen) {\n                                $scope.$apply(function () {\n                                    closePopover();\n                                });\n                            }\n                        });\n                    }\n\n                });\n\n\n                $scope.$on('$destroy', function () {\n                    windowEl.off('click.popover' + scopeId);\n                });\n            },\n            templateUrl: 'sky/templates/popover/popup.html'\n        };\n    }\n    bbUibPopoverTemplatePopup.$inject = ['$window', '$parse'];\n\n    angular.module('sky.popover', ['ui.bootstrap.tooltip'])\n        .directive('bbUibPopoverTemplatePopup', bbUibPopoverTemplatePopup)\n        .directive('bbUibPopoverTemplate', bbUibPopoverTemplate)\n        .directive('bbPopoverTemplate', bbPopoverTemplate);\n}(jQuery));\n","/*global angular */\n\n(function () {\n    'use strict';\n\n    var serviceModules = [];\n    \n    function bbResoucesFilter(bbResources) {\n        return function (name) {\n            return bbResources[name];\n        };\n    }\n    \n    bbResoucesFilter.$inject = ['bbResources'];\n\n    angular.module('sky.resources', serviceModules)\n        .constant('bbResources', {\n            /* Strings are defined in separate JSON files located in js/sky/locales. */\n        })\n        .filter('bbResources', bbResoucesFilter);\n}());","/*jshint browser: true */\n/*global angular */\n\n/** @module Scroll into View\n@icon eye\n@summary The scroll-into-view component causes an element to scroll into the viewport when its bound value changes.\n @description The scroll-into-view directive causes an element to scroll into the viewport whenever its bound value changes.\n\n### Scroll-into-view Settings ###\n\n - `bb-scroll-into-view` The value that triggers the scroll.\n - `bb-scroll-into-view-highlight` A Boolean indicating whether the element should be highlighted when scrolling completes.\n*/\n\n(function () {\n    'use strict';\n\n    var CLS_HIGHLIGHTING = 'bb-scroll-into-view-highlighting',\n        RETRY_INTERVAL = 100,\n        RETRY_MAX = 10;\n\n    angular.module('sky.scrollintoview', [])\n        .constant('bbScrollIntoViewConfig', {\n            reservedBottom: 0,\n            reservedTop: 0\n        })\n        .factory('bbScrollIntoView', ['$window', 'bbScrollIntoViewConfig', function ($window, bbScrollIntoViewConfig) {\n            function highlightEl(el, options) {\n                if (options.highlight) {\n\n                    // The automatic CSS class removal should be factored out once we have some more instances\n                    // where we use animations.\n                    el\n                        .addClass(CLS_HIGHLIGHTING)\n                        .one(\n                            'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend',\n                            /*istanbul ignore next */\n                            function () {\n                                el.removeClass(CLS_HIGHLIGHTING);\n                            }\n                        );\n                }\n            }\n\n            function getScrollableParentEl(el) {\n                var overflowY,\n                    parentEl = el.parent();\n\n                while (parentEl.length > 0) {\n                    if (parentEl.is('body')) {\n                        return parentEl;\n                    }\n\n                    overflowY = parentEl.css('overflow-y');\n\n                    /*istanbul ignore else: sanity check (the computed overflow property will likely never return a non-string value) */\n                    if (angular.isString(overflowY)) {\n                        switch (overflowY.toUpperCase()) {\n                        case 'AUTO':\n                        case 'HIDDEN':\n                        case 'SCROLL':\n                            return parentEl;\n                        }\n                    }\n\n                    parentEl = parentEl.parent();\n                }\n            }\n\n            function getHtmlOrBodyScrollTop() {\n                return angular.element('html').scrollTop() || angular.element('body').scrollTop();\n            }\n\n            function scrollIntoView(el, options) {\n                var currentScrollTop,\n                    elBottom,\n                    elHeight,\n                    elOffset,\n                    elTop,\n                    elToScroll,\n                    isScrolledOffBottom,\n                    isScrolledOffTop,\n                    newScrollTop,\n                    parentEl,\n                    parentElIsBody,\n                    parentHeight,\n                    reservedBottom,\n                    reservedTop,\n                    viewportHeight;\n\n                parentEl = getScrollableParentEl(el);\n                parentElIsBody = parentEl.is('body');\n\n                options = options || {};\n\n                reservedBottom = options.reservedBottom;\n                reservedTop = options.reservedTop;\n\n                if (!angular.isDefined(reservedBottom)) {\n                    reservedBottom = 0;\n\n                    if (parentElIsBody) {\n                        reservedBottom = bbScrollIntoViewConfig.reservedBottom || 0;\n                    }\n                }\n\n                if (!angular.isDefined(reservedTop)) {\n                    reservedTop = 0;\n\n                    if (parentElIsBody) {\n                        reservedTop = bbScrollIntoViewConfig.reservedTop || 0;\n                    }\n                }\n\n                if (options.highlight) {\n                    reservedBottom += 50;\n                    reservedTop += 50;\n                }\n\n                if (parentElIsBody) {\n                    currentScrollTop = getHtmlOrBodyScrollTop();\n                } else {\n                    currentScrollTop = parentEl.scrollTop();\n                }\n\n                elOffset = el.offset();\n                elHeight = el.outerHeight();\n\n                elTop = elOffset.top;\n\n                if (!parentElIsBody) {\n                    elTop = (elTop - parentEl.offset().top) + currentScrollTop;\n                }\n\n                elBottom = elTop + elHeight;\n\n                parentHeight = parentElIsBody ? angular.element(window).height() : parentEl.height();\n\n                isScrolledOffBottom = elBottom > parentHeight + (currentScrollTop - reservedBottom);\n                isScrolledOffTop = elTop < (currentScrollTop + reservedTop);\n\n                if (isScrolledOffBottom || isScrolledOffTop) {\n                    if (isScrolledOffBottom) {\n                        newScrollTop = elBottom - (parentHeight - reservedBottom);\n                    }\n\n                    viewportHeight = parentHeight - (reservedTop + reservedBottom);\n\n                    // Ensure the top of the element is visible after scrolling even if it is currently\n                    // scrolled off the bottom of the viewport.\n                    if (!isScrolledOffBottom || elHeight > viewportHeight) {\n                        newScrollTop = elTop - reservedTop;\n                    }\n\n                    elToScroll = parentElIsBody ? angular.element('html, body') : parentEl;\n\n                    elToScroll.animate(\n                        {\n                            scrollTop: Math.round(newScrollTop)\n                        },\n                        {\n                            duration: 250,\n                            always: function () {\n                                highlightEl(el, options);\n                            }\n                        }\n                    );\n                } else {\n                    highlightEl(el, options);\n                }\n            }\n\n            return scrollIntoView;\n        }])\n        .directive('bbScrollIntoView', ['$timeout', 'bbScrollIntoViewConfig', 'bbScrollIntoView', function ($timeout, bbScrollIntoViewConfig, bbScrollIntoView) {\n            function link(scope, el, attrs) {\n                var options,\n                    previousTimeout,\n                    retryCount;\n\n                function doScroll(firstTry) {\n                    if (previousTimeout) {\n                        // Make sure any pending scrolling is canceled.\n                        $timeout.cancel(previousTimeout);\n                    }\n\n                    if (firstTry) {\n                        retryCount = 0;\n                    }\n\n                    /*istanbul ignore else: hard to reach in a unit test */\n                    if (el.is(':visible') && el.children('.collapsing').length === 0) {\n                        options = angular.extend({}, bbScrollIntoViewConfig);\n\n                        if (attrs.bbScrollIntoViewHighlight) {\n                            options.highlight = scope.$eval(attrs.bbScrollIntoViewHighlight);\n                        }\n\n                        bbScrollIntoView(el, options);\n                    } else if (retryCount < RETRY_MAX) {\n                        // Keep trying to scroll until the element is visible or we run out of retry attempts.\n                        retryCount++;\n                        previousTimeout = $timeout(doScroll, RETRY_INTERVAL);\n                    }\n                }\n\n                /*istanbul ignore else: sanity check */\n                if (attrs.bbScrollIntoView) {\n                    scope.$watch(attrs.bbScrollIntoView, function (newValue, oldValue) {\n                        if (newValue && newValue !== oldValue) {\n                            doScroll(true);\n                        }\n                    });\n                }\n            }\n\n            return {\n                link: link,\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular, jQuery */\n\n/** @module Search Field\n@icon search\n@summary The search field builds single- and multi-search fields for local searches or for remote searches of larger datasets on a server.\n @description The search field directive allows you to easily build single- and multi-search fields that can be filtered as the user types. This directive uses all the syntax and settings of the `ui-select` third party control (see the `ui-select` documentation for more information, options, and settings).\n\nThe search field can be used for a local search (i.e. dropdown box where you have all the data already loaded), or it can be used for a remote search to search larger datasets on a server.  Both types support single- and multi-search capabilities.\n\n### Dependencies ###\n\n - **[ui-select](https://github.com/angular-ui/ui-select) (0.11.0 or higher - .js and .css files needed)**\n\n---\n\n### Local Search Settings ###\n\n - `ui-select-choices`\n   - `repeat` Required. An expression that defines the array of choices.  If a `filter` is included, then the choices will be filtered by what the user types, otherwise it will behave just a like a normal dropdown box.  See the `ui-select` documentation for more information.\n\n### Remote Search Settings ###\n\n - `ui-select-choices`\n   - `repeat` Required. An expression that defines the array of choices that will be populated from a remote server.  See the `ui-select` documentation for more information.\n   - `refresh` Required. A function call to load the results from a remote server. The function should at least take `$select.search` as a parameter, and it should guard against calling the remote server with an empty search value.\n     - ***NOTE:** The search control needs to know when you get results back from the server in order to properly display a \"no results\" message when necessary.  In your refresh function, after you receive and store the results, then you MUST fire the `bbSearchFinished` event like this:  `$scope.$broadcast('bbSearchFinished');`.*\n   - `refresh-delay` Optional. The delay in milliseconds after the last keystroke before kicking off the remote search. Default from `ui-select` is 1000 ms.\n\n### Single Search Settings ###\n\n - `ui-select-match` The text of the selection to display in the search field. Note: The value should use the `$select.selected` syntax.\n   - `allow-clear` Optional. Allows you to clear the current value by rendering an \"X\" button.\n   - `placeholder` Optional. Default text when no selection is present.\n\n### Multiple Search Settings ###\n\n - `ui-select`\n   - `multiple` Required. Styles the search to accept multiple search values.\n - `ui-select-match` The text of the selection to display in the search field. Note: The value should use the `$item` syntax.\n   - `placeholder` Optional. Default text when no selection is present.\n */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.searchfield', ['sky.resources'])\n        .directive('uiSelectMatch', ['$timeout', function ($timeout) {\n            return {\n                restrict: 'EA',\n                replace: false,\n                require: '^uiSelect',\n                link: function (scope, element, attrs, $select) {\n                    var selectContainerEl,\n                        origSizeSearchInputFunc,\n                        matchEl,\n                        windowResizeTimeout;\n\n                    function sizeMatchItems() {\n                        //The main logic flow for this function was taken from the ui-select's \"sizeSearchInput()\" function.\n                        //Some things are done below in order to give the tags time to render before we try to fix any\n                        //text overflow issues that may be present.\n\n                        function updateIfVisible(containerOffsetWidth) {\n                            var visible = (containerOffsetWidth > 0);\n\n                            if (visible) {\n                                //Get the container width minus any padding\n                                containerOffsetWidth -= containerOffsetWidth - angular.element(selectContainerEl).width();\n\n                                //For each match item, set the properly width so that text overflows properly\n                                matchEl.find('.ui-select-match-item').css({\n                                    overflow: 'hidden',\n                                    textOverflow: 'ellipsis',\n                                    maxWidth: containerOffsetWidth\n                                });\n                            }\n\n                            return visible;\n                        }\n\n                        $timeout(function () { //Give tags time to render correctly\n                            updateIfVisible(selectContainerEl.offsetWidth);\n                        });\n                    }\n\n                    if ($select.multiple) {\n                        matchEl = element;\n                        selectContainerEl = matchEl.parent().parent()[0];\n                        origSizeSearchInputFunc = $select.sizeSearchInput;\n\n                        //Hook into the ui-select function that controls resizing for multi search\n                        $select.sizeSearchInput = function () {\n                            origSizeSearchInputFunc();\n                            sizeMatchItems();\n                        };\n\n                        //Resize any tags on load\n                        sizeMatchItems();\n\n                        $(window).on('resize.searchField' + scope.$id, function () {\n                            $timeout.cancel(windowResizeTimeout);\n\n                            windowResizeTimeout = $timeout(function () {\n                                sizeMatchItems();\n                            }, 250);\n                        });\n\n                        scope.$on('$destroy', function () {\n                            $(window).off('resize.searchField' + scope.$id);\n                        });\n                    }\n                }\n            };\n        }])\n        .directive('uiSelectChoices', ['$templateCache', 'bbResources', function ($templateCache, bbResources) {\n            return {\n                restrict: 'EA',\n                replace: false,\n                require: '^uiSelect',\n                link: function (scope, element, attrs, $select) {\n                    var searching,\n                        selectContainerEl,\n                        msgEl;\n\n                    function updateUIForSearch(showSearchingMsg) {\n                        var msg;\n\n                        // Remove the no results message if it's currently displayed\n                        if (msgEl) {\n                            msgEl.remove();\n                            msgEl = null;\n                        }\n\n                        if (searching && $select.items.length === 0) {\n                            // Display the \"Searching...\" or \"No results...\" message - only when we have empty results because we\n                            //don't want the message to popup over a list of results as the user types.\n                            msg = showSearchingMsg ? bbResources.searchfield_searching : bbResources.searchfield_no_records;\n\n                            msgEl = angular.element($templateCache.get('sky/templates/searchfield/choices.html'));\n                            msgEl.find('.bb-searchfield-no-records').text(msg);\n\n                            selectContainerEl.append(msgEl);\n                        }\n                    }\n\n                    function clearResults() {\n                        searching = false;\n                        $select.items = []; // Clear out current result set\n                        updateUIForSearch();\n                    }\n\n                    //Remote Searches Only\n                    //If the refresh attribute is set the control is being used as a remote search\n                    if (attrs.refresh) {\n                        selectContainerEl = angular.element(element).parent();\n                        searching = false;\n\n                        //Watch when the search field is opened/closed so that we can update the UI and remove\n                        //the no results message, and remove the results for the next search.\n                        scope.$watch('$select.open', function () {\n                            clearResults();\n                        });\n\n                        //Watch the search results collection for any changes.\n                        //NOTE: This does NOT fire when the collection is empty and the search result\n                        //comes back empty.  To handle that case, see the \"bbSearchFinished\" event below.\n                        scope.$watchCollection('$select.items', function () {\n                            updateUIForSearch();\n                        });\n\n                        //This event should be fired by the consuming code after it gets and stores the results\n                        //from the remote server.  This allows us to handle the problem above where $watchCollection\n                        //doesn't fire when the collection is empty and the results also come back empty.\n                        scope.$on(\"bbSearchFinished\", function () {\n                            updateUIForSearch();\n                        });\n\n                        //Watch all changes to the search text that the user is typing.\n                        scope.$watch('$select.search', function (search) {\n                            searching = (search && search.length > 0);\n\n                            if (searching) {\n                                //Initially shows the \"Searching...\" message until results come back from the remote server\n                                updateUIForSearch(true);\n                            } else {\n                                clearResults();\n                            }\n                        });\n                    }\n                }\n            };\n        }]);\n}(jQuery));\n","/*jslint nomen: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Tab Scroll\n@icon arrows-h\n@summary The tab scroll component makes a row of tabs horizontally scrollable when the row is wider than its container.\n @description ### Dependencies ###\n\nThe `bb-tab-scroll` directive causes the row of tabs to be horizontally scrollable when the width of the tabs exceeds the width of its container.  The tabs are also animated to indicate to the user that they can be scrolled.\n\n### Tab Scroll Settings ###\n\n - `bb-tab-scroll-ready` Used to indicate the tabs are ready to be animated.  This should be used when the tabs are loaded dynamically based on some asynchronous logic like loading data from a web server.\n\n */\n\n(function ($) {\n    'use strict';\n\n    var tabScrollId = 0;\n    angular.module('sky.tabscroll', ['ui.bootstrap.tabs'])\n        .directive('bbTabScroll', ['$timeout', '$window', function ($timeout, $window) {\n            return {\n                link: function (scope, el, attrs) {\n                    var lastWindowResizeTimeout,\n                        lastWindowWidth;\n\n                    function getNavTabsEl() {\n                        return el.children('.nav-tabs');\n                    }\n\n                    function getScrollLeftForEl(navTabsEl, selector) {\n                        var elWidth,\n                            scrollLeft,\n                            tabEl,\n                            tabLeft,\n                            tabPosition,\n                            tabRight;\n\n                        if (angular.isString(selector)) {\n                            tabEl = navTabsEl.children(selector);\n                        } else {\n                            tabEl = selector;\n                        }\n\n                        tabPosition = tabEl.position();\n\n                        if (tabPosition) {\n                            tabLeft = tabPosition.left;\n\n                            if (tabLeft < 0) {\n                                scrollLeft = tabLeft + navTabsEl[0].scrollLeft;\n                            } else {\n                                elWidth = el.width();\n                                tabRight = tabLeft + tabEl.width();\n\n                                if (tabRight > elWidth) {\n                                    scrollLeft = navTabsEl[0].scrollLeft + (tabRight - elWidth);\n                                }\n                            }\n                        }\n\n                        return scrollLeft;\n                    }\n\n                    function getScrollLeft(navTabsEl) {\n                        return getScrollLeftForEl(navTabsEl, '.active') || 0;\n                    }\n\n                    function stopAnimateTabScroll(navTabsEl) {\n                        navTabsEl.stop(true, true);\n                    }\n\n                    function animateTabScroll(navTabsEl, scrollLeft, duration) {\n                        stopAnimateTabScroll(navTabsEl);\n\n                        navTabsEl\n                            .animate(\n                                {\n                                    scrollLeft: scrollLeft\n                                },\n                                {\n                                    duration: duration || 500\n                                }\n                            );\n                    }\n\n                    function showTabsCanScroll(force) {\n                        var hasOverflow,\n                            navTabsEl = getNavTabsEl(),\n                            overflowOccurred,\n                            scrollLeft;\n\n                        /*istanbul ignore else: sanity check */\n                        if (navTabsEl.length > 0) {\n                            hasOverflow = angular.isDefined(getScrollLeftForEl(navTabsEl, 'li:first')) ||\n                                angular.isDefined(getScrollLeftForEl(navTabsEl, 'li:last'));\n\n                            force = force || angular.isDefined(getScrollLeftForEl(navTabsEl, '.active'));\n\n                            overflowOccurred = !showTabsCanScroll.previousHadOverflow && hasOverflow;\n\n                            if (force || overflowOccurred) {\n                                scrollLeft = getScrollLeft(navTabsEl);\n\n                                stopAnimateTabScroll(navTabsEl);\n\n                                if (overflowOccurred) {\n                                    navTabsEl.scrollLeft(navTabsEl[0].scrollWidth - el.width());\n                                }\n\n                                animateTabScroll(navTabsEl, scrollLeft);\n                            }\n                        }\n\n                        showTabsCanScroll.previousHadOverflow = hasOverflow;\n                    }\n\n                    tabScrollId++;\n\n                    el.addClass('bb-tab-scroll');\n\n                    if (attrs.bbTabScrollReady) {\n                        scope.$watch(attrs.bbTabScrollReady, function (newValue, oldValue) {\n                            if (newValue && newValue !== oldValue) {\n                                showTabsCanScroll(true);\n                            }\n                        });\n                    }\n\n                    lastWindowWidth = $($window).width();\n\n                    // Show initial scroll animation whenever the window width changes.\n                    $($window).on('resize.tabscroll' + tabScrollId, function () {\n                        var windowWidth = $($window).width();\n\n                        if (lastWindowWidth !== windowWidth) {\n                            $timeout.cancel(lastWindowResizeTimeout);\n\n                            lastWindowResizeTimeout = $timeout(function () {\n                                showTabsCanScroll();\n                            }, 250);\n                        }\n\n                        lastWindowWidth = windowWidth;\n                    });\n\n                    // Ensure that when a tab is clicked the tab is fully visible and not partially\n                    // scrolled off either side.\n                    el.on('click', '> .nav-tabs > li', function () {\n                        var navTabsEl,\n                            scrollLeft;\n\n                        navTabsEl = getNavTabsEl();\n                        scrollLeft = getScrollLeftForEl(navTabsEl, $(this));\n\n                        if (angular.isDefined(scrollLeft)) {\n                            animateTabScroll(navTabsEl, scrollLeft, 250);\n                        }\n                    });\n\n                    el.on('$destroy', function () {\n                        $($window).off('.tabscroll' + tabScrollId);\n                    });\n                }\n            };\n        }]);\n}(jQuery));\n","/*jslint nomen: true, plusplus: true */\n/*global angular, jQuery */\n\n/** @module Tabset\n@icon folder-open-o\n@summary The tabset module contains directives for enhancing ui-bootstrap tabs.\n @description ### Additional Dependencies ###\n\n### Tabset Options ###\n\nThe `bb-tabset-add` attribute creates an add button in the tab area and takes a callback that will be executed when the add button is clicked.\n\nThe `bb-tabset-open` attribute creates an open button in the tab area and takes a callback that will be executed when the open button is clicked.\n\n### Collapsing Tabs ###\n\nTo make tabs collapse into a dropdown on a small (mobile device) screen, use the `bb-tabset-collapsible` attribute on a ui-bootstrap `tabset`.\nYou must then use the `bb-tab-collapse-header` attribute on your ui-bootstrap `tab` to specify a title for the dropdown that will display when a tab is active.\n\n### Tab Close Icon ###\n\nIf you wish to add a close icon to a tab, just add the `bb-tab-close` class to the ui-bootstrap `tab` element, and add an `i` element with the `bb-tab-close-icon` class inside of the ui-bootstrap `tab-heading` directive.\n\n */\n(function ($) {\n    'use strict';\n\n    var DROPDOWN_CARET_WIDTH = 45,\n        TAB_PADDING = 15;\n\n    function getTemplate($templateCache, name) {\n        return $templateCache.get('sky/templates/tabset/' + name + '.html');\n    }\n\n    function tabset($compile, $templateCache) {\n        return {\n            link: function ($scope, el, attr) {\n                var ulEl,\n                    liEl;\n\n                if (angular.isDefined(attr.bbTabsetAdd) || angular.isDefined(attr.bbTabsetOpen)) {\n                    ulEl = el.find('ul');\n                    liEl = angular.element(getTemplate($templateCache, 'tabbutton'));\n                    ulEl.append(liEl);\n\n                    if (angular.isDefined(attr.bbTabsetAdd)) {\n                        liEl.append($compile(getTemplate($templateCache, 'addbutton'))($scope));\n\n                        $scope.bbTabAdd = function () {\n                            $scope.$eval(attr.bbTabsetAdd);\n                        };\n                    }\n\n                    if (angular.isDefined(attr.bbTabsetOpen)) {\n                        liEl.append($compile(getTemplate($templateCache, 'openbutton'))($scope));\n\n                        $scope.bbTabOpen = function () {\n                            $scope.$eval(attr.bbTabsetOpen);\n                        };\n                    }\n                }\n            }\n        };\n    }\n\n    tabset.$inject = ['$compile', '$templateCache'];\n\n    function BBTabsetCollapsibleController($scope) {\n        var self = this;\n\n        self.updateCollapsibleHeader = function (header) {\n            $scope.bbTabsetOptions.selectedTabHeader = header;\n        };\n\n        self.tabAdded = function () {\n            if ($scope.bbTabsetOptions.isSmallScreen) {\n                $scope.setupCollapsibleTabs($scope.bbTabsetOptions.isSmallScreen && $scope.bbTabsetOptions.tabCount > 1);\n            }\n            $scope.bbTabsetOptions.tabCount++;\n        };\n\n        self.tabRemoved = function () {\n            $scope.bbTabsetOptions.tabCount--;\n        };\n\n    }\n\n    BBTabsetCollapsibleController.$inject = ['$scope'];\n\n    function bbTabsetCollapsible($compile, $templateCache, $window, bbMediaBreakpoints) {\n        return {\n            restrict: 'A',\n            controller: BBTabsetCollapsibleController,\n            link: function ($scope, el) {\n                var lastWindowWidth,\n                    tabCollapseId = $scope.$id;\n\n\n                function getBootstrapTabs() {\n                    return el.find('li:not(.bb-tab-button):not(.bb-tabset-dropdown)');\n                }\n\n                function getDropdownEl() {\n                    return angular.element(getTemplate($templateCache, 'dropdown'));\n                }\n\n                function setTabMaxWidth() {\n                    //later this will resize tabs to fit the window\n                    el.find('ul.nav-tabs li a').css('max-width', '');\n                }\n\n                function setDropdownMaxWidth() {\n                    var availableWidth,\n                        addOpenWidth = 0,\n                        addOpenButtonEl,\n                        i,\n                        dropdownTextMaxWidth;\n\n                    availableWidth = el.width();\n\n                    addOpenButtonEl = el.find('.bb-tab-button-wrap');\n\n                    for (i = 0; i < addOpenButtonEl.length; i++) {\n                        addOpenWidth += addOpenButtonEl.eq(i).width();\n                    }\n\n                    dropdownTextMaxWidth = availableWidth - addOpenWidth - DROPDOWN_CARET_WIDTH - TAB_PADDING;\n\n                    el.find('.bb-tab-header-text').css('max-width', (dropdownTextMaxWidth.toString() + 'px'));\n\n                    el.find('.bb-tabset-dropdown ul.dropdown-menu li a').css('max-width', (availableWidth.toString() + 'px'));\n\n                }\n\n                function setupCollapsibleTabs(isCollapsed) {\n                    var tabsEl,\n                        dropdownContainerEl,\n                        ulEl,\n                        dropdownButtonsEl;\n\n                    tabsEl = getBootstrapTabs();\n                    dropdownButtonsEl = el.find('.bb-tab-button-wrap');\n\n                    ulEl = el.find('ul:not(.bb-tabset-dropdown)');\n                    if (isCollapsed) {\n                        dropdownContainerEl = el.find('.bb-tabset-dropdown');\n\n                        ulEl.addClass('dropdown-menu');\n                        ulEl.removeClass('nav');\n                        ulEl.removeClass('nav-tabs');\n                        dropdownContainerEl.append(ulEl);\n                        dropdownContainerEl.append(dropdownButtonsEl);\n                        setDropdownMaxWidth();\n                    } else {\n                        ulEl.removeClass('dropdown-menu');\n                        ulEl.addClass('nav');\n                        ulEl.addClass('nav-tabs');\n\n                        el.prepend(ulEl);\n\n                        ulEl.find('.bb-tab-button').append(dropdownButtonsEl);\n                        setTabMaxWidth();\n                    }\n                }\n\n                $scope.setupCollapsibleTabs = setupCollapsibleTabs;\n\n                function mediaBreakpointHandler(newBreakpoints) {\n                    $scope.bbTabsetOptions.isSmallScreen = newBreakpoints.xs;\n                    setupCollapsibleTabs(newBreakpoints.xs && ($scope.bbTabsetOptions.tabCount > 1));\n                }\n\n                $scope.bbTabsetOptions = {\n                    isSmallScreen: false,\n                    tabCount: 0\n                };\n\n                el.prepend($compile(getDropdownEl())($scope));\n\n                $scope.$watch('bbTabsetOptions.tabCount', function (newValue) {\n                    if ($scope.bbTabsetOptions.isSmallScreen) {\n                        if (newValue && newValue > 1) {\n                            setupCollapsibleTabs(true);\n                        } else {\n                            setupCollapsibleTabs(false);\n                        }\n                    }\n\n                });\n\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n\n                // Show initial scroll animation whenever the window width changes.\n                $($window).on('resize.tabcollapse' + tabCollapseId, function () {\n                    var windowWidth = $($window).width();\n\n                    if (lastWindowWidth !== windowWidth && $scope.bbTabsetOptions.isSmallScreen && $scope.bbTabsetOptions.tabCount > 1) {\n                        setDropdownMaxWidth();\n                    }\n\n                    lastWindowWidth = windowWidth;\n                });\n\n                $scope.$on('$destroy', function () {\n                    bbMediaBreakpoints.unregister(mediaBreakpointHandler);\n                    $($window).off('.tabcollapse' + tabCollapseId);\n                });\n            }\n        };\n    }\n\n    bbTabsetCollapsible.$inject = ['$compile', '$templateCache', '$window', 'bbMediaBreakpoints'];\n\n    function collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading) {\n        //get ui-bootstrap tab scope\n        var tabScope = el.isolateScope();\n        $scope.$watch(function () {\n            return tabScope.active;\n        }, function (active) {\n            if (active) {\n                bbTabsetCollapsibleCtrl.updateCollapsibleHeader(getTabHeading());\n            }\n        });\n\n        $scope.$watch(function () {\n            return getTabHeading();\n        }, function (collapseTitle) {\n            if (tabScope.active) {\n                bbTabsetCollapsibleCtrl.updateCollapsibleHeader(collapseTitle);\n            }\n        });\n\n        bbTabsetCollapsibleCtrl.tabAdded();\n\n        $scope.$on('$destroy', function () {\n            bbTabsetCollapsibleCtrl.tabRemoved();\n        });\n    }\n\n    function bbTabCollapseHeader() {\n        return {\n            require: '^bbTabsetCollapsible',\n            link: function ($scope, el, attr, bbTabsetCollapsibleCtrl) {\n                function getTabHeading() {\n                    return $scope.$eval(attr.bbTabCollapseHeader);\n                }\n\n                collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading);\n            }\n        };\n    }\n\n    function tab() {\n        return {\n            require: '?^bbTabsetCollapsible',\n            link: function ($scope, el, attr, bbTabsetCollapsibleCtrl) {\n                var tabScope = el.isolateScope();\n\n                function getTabHeading() {\n                    return tabScope.heading;\n                }\n\n                if (bbTabsetCollapsibleCtrl !== null && !angular.isDefined(attr.bbTabCollapseHeader)) {\n                    collapsibleTabTitle($scope, el, bbTabsetCollapsibleCtrl, getTabHeading);\n                }\n            }\n        };\n    }\n\n    angular.module('sky.tabset', ['ui.bootstrap.tabs', 'sky.mediabreakpoints'])\n        .directive('uibTabset', tabset)\n        .directive('tabset', tabset)\n        .directive('bbTabsetCollapsible', bbTabsetCollapsible)\n        .directive('bbTabCollapseHeader', bbTabCollapseHeader)\n        .directive('tab', tab)\n        .directive('uibTab', tab);\n\n}(jQuery));\n","/*global angular */\n\n/** @module Tab Sref\n@icon link\n@summary The tab sref component provides tab info in page URLs so that hyperlinks can point to specific tabs.\n @description The tab sref directive adds the ability to change the page's URL when the user clicks a tab. This also allows for users to navigate straight to a selected tab from a hyperlink.\n\n### Dependencies ###\n\n - **[Angular UI Router](https://github.com/angular-ui/ui-router) (0.2.13 or higher)**\n\n---\n\n### Tab Sref Settings ###\n\n - `bb-tab-sref` The name of the state where the application should navigate when the tab is selected.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.tabsref', ['ui.bootstrap.tabs'])\n        .directive('bbTabSref', ['$rootScope', '$state', '$timeout', function ($rootScope, $state, $timeout) {\n            return {\n                require: ['^?tabset', '^?uibTabset'],\n                link: function (scope, el, attrs, controllers) {\n                    var active = attrs.active,\n                        sref = attrs.bbTabSref,\n                        stateChangeDeregistration,\n                        tabsetCtrl;\n\n                    tabsetCtrl = controllers[0] !== null ? controllers[0] : controllers[1];\n                    \n\n                    function checkCurrentState() {\n                        if ($state.is(sref)) {\n                            tabsetCtrl.select(el.isolateScope());\n                        }\n                    }\n\n                    /*istanbul ignore else sanity check */\n                    if (active && sref) {\n                        checkCurrentState();\n\n                        stateChangeDeregistration = $rootScope.$on('$stateChangeSuccess', function () {\n                            checkCurrentState();\n                        });\n\n                        scope.$watch(active, function (newValue) {\n                            if (newValue && !$state.is(sref)) {\n                                // JPB - Delay calling state.go because the state change will fail\n                                // if it is triggered while in the middle of processing of another state change.\n                                // This can happen if you browse to the page without specifying the state of a particular tab\n                                // and then this code tries to switch you over to the state of the first tab.\n                                $timeout(function () {\n                                    $state.go(sref);\n                                });\n                            }\n                        });\n\n                        scope.$on('$destroy', function () {\n                            stateChangeDeregistration();\n                        });\n                    }\n                }\n            };\n        }]);\n}());\n","/*jslint nomen: true, plusplus: true */\n/*global angular */\n\n/** @module Template\n@icon building-o\n@summary The template component places formatted text inside a tokenized string template.\n @description The template directives allow you to place formatted text inside a tokenized string template. This avoids the need to build HTML manually on the server or in a custom directive where HTML injection bugs are common.\nThe string template is specified with the `bb-template` attribute, and child elements with the `bb-template-item` attribute are the elements that contain the formatted text.\n\n### Template Settings ###\n\n - `bb-template` The tokenized string that represents the template. Tokens use the {n} notation where n is the ordinal of the item to replace the token.\n  - `bb-template-item` \n */\n\n(function () {\n    'use strict';\n\n    var BB_TEMPLATE_RESULT = 'bb-template-result';\n\n    function createItemClassName(index) {\n        return 'bb-template-item-' + index;\n    }\n\n    function insertTemplateItems(templateEl, items) {\n        var i,\n            n;\n\n        // Move each item into the template element.\n        for (i = 0, n = items.length; i < n; i++) {\n            items[i].appendTo(templateEl.find('.' + createItemClassName(i)));\n        }\n    }\n\n    angular.module('sky.templating', ['sky.format'])\n        .directive('bbTemplate', ['bbFormat', function (bbFormat) {\n            function createTemplateHtml(template) {\n                // The template string itself should not contain HTML, so be sure to escape it to avoid HTML injection.\n                template = bbFormat.escape(template);\n\n                // Replace {0}, {1}, etc. with span elements that will serve as placeholders for the item elements.\n                return template.replace(/\\{(\\d+)\\}/g, function (match, number) {\n                    /*jslint unparam: true */\n                    return '<span class=\"' + createItemClassName(number) + '\"></span>';\n                });\n            }\n\n            return {\n                controller: ['$scope', function ($scope) {\n                    $scope.items = [];\n\n                    this.addItem = function (item) {\n                        $scope.items.push(item);\n                    };\n                }],\n                link: function (scope, el) {\n\n                    scope.$watch('template', function (newValue) {\n                        var newEl,\n                            oldEl = el.find('.' + BB_TEMPLATE_RESULT),\n                            templateHtml;\n\n                        if (angular.isDefined(newValue)) {\n                            templateHtml = createTemplateHtml(newValue);\n\n                            // Create and append a new template item, move the existing items to it, then\n                            // destroy the old items.  Doing it in this order should ensure any elements\n                            // with bindings remain bound after being moved.\n                            newEl = angular.element('<span class=\"' + BB_TEMPLATE_RESULT + '\">' + templateHtml + '</span>')\n                                .appendTo(el);\n\n                            insertTemplateItems(newEl, scope.items);\n\n                            // Remove old elements if they exist.\n                            oldEl.remove();\n                        }\n                    });\n                },\n                scope: {\n                    template: '=bbTemplate'\n                },\n                restrict: 'A'\n            };\n        }])\n        .directive('bbTemplateItem', function () {\n            return {\n                link: function (scope, el, attr, bbFormatCtrl) {\n                    /*jslint unparam: true */\n                    bbFormatCtrl.addItem(el);\n                },\n                require: '^bbTemplate',\n                restrict: 'AE'\n            };\n        });\n}());\n","/*jslint plusplus: true */\n\n/*global angular */\n\n/** @module Text Expand\n@icon text-height\n@summary The text expand component truncates long text with an ellipsis and a link that users can click to expand the text.\n @description The texteExpand directive truncates long text with an ellipsis and a link that allows the user to fully expand the text. If the text length falls below the specified threshold then no action is taken. The 'See more' link will expand the text inline if the length of the text is below the specified expanded length limit and if the number of newlines in the text is below the specified expanded newline limit, otherwise the link will open the text in a modal view.\n\nNote that collapsed text will have newlines removed. Also, if one or more newlines are detected, the text is automatically collapsed regardless of the total length of the text.\n\n### Text Expand Settings ###\n\n - `bb-text-expand` The text to truncate.\n - `bb-text-expand-max-length` *(Default: 200)* The number of characters to show before truncating the text. The directive will attempt to look back up to 10 characters for a space and truncate there in order to avoid truncating in the middle of a word.\n - `bb-text-expand-max-expanded-length` *(Default: 600)* The maximum number of characters to show in the inline expanded view. If there are more characters in the content, then a modal view with the content will be displayed when the 'See more' link is clicked.\n - `bb-text-expand-max-expanded-newlines` *(Default: 2)* The maximum number of newline characters to show in the inline expanded view. If there are more newline characters in the content, then a modal view with the content will be displayed when the 'See more' link is clicked.\n - `bb-text-expand-modal-title` The title to display in the modal expanded view.\n\nThe Text Expand Repeater directive truncates a list of repeater items and will initially display a set number of items. Any items over the set maximum limit are hidden until the user elects to expand the list.\n\n### Text Expand Repeater Settings ###\n\n- `bb-text-expand-repeater-max` The maximum number of items to show before truncating the repeater list.\n- `bb-text-expand-repeater-data` The name of the property containing the repeater data.\n */\n\n(function () {\n    'use strict';\n\n    var modules = [\n            'sky.resources',\n            'sky.scrollintoview',\n            'sky.modal'\n        ];\n\n    function getNewlineCount(value) {\n        var matches = value.match(/\\n/gi);\n\n        if (matches) {\n            return matches.length;\n        }\n\n        return 0;\n    }\n\n    function createEl($templateCache, templateName) {\n        return angular.element($templateCache.get('sky/templates/textexpand/' + templateName + '.html'));\n    }\n\n    function BBTextExpandController(textExpandContent, headerContent) {\n        var self = this;\n        self.textExpandContent = textExpandContent;\n        self.headerContent = headerContent;\n    }\n\n    BBTextExpandController.$inject = ['textExpandContent', 'headerContent'];\n\n    angular.module('sky.textexpand', modules)\n        .directive('bbTextExpandRepeater', ['$templateCache', 'bbResources', function ($templateCache, bbResources) {\n            function link(scope, el, attrs) {\n                scope.$watch(attrs.bbTextExpandRepeaterData, function (data) {\n                    var length,\n                        maxToShow,\n                        seeMoreEl,\n                        seeMoreText = bbResources.text_expand_see_more,\n                        seeLessText = bbResources.text_expand_see_less;\n\n                    if (data) {\n                        length = data.length;\n                        maxToShow = +attrs.bbTextExpandRepeaterMax;\n                        seeMoreEl = createEl($templateCache, 'seemore').text(seeMoreText);\n\n                        if (length > maxToShow) {\n                            el.find('li:gt(' + (maxToShow - 1) + ')').addClass('bb-text-expand-toggle-li').hide().end().append(\n                                seeMoreEl.click(function () {\n                                    seeMoreEl.siblings('.bb-text-expand-toggle-li').toggle(100);\n                                    if (seeMoreEl.hasClass('bb-text-expand-see-more')) {\n                                        seeMoreEl.text(seeLessText);\n                                    } else {\n                                        seeMoreEl.text(seeMoreText);\n                                    }\n\n                                    seeMoreEl.toggleClass('bb-text-expand-see-more');\n\n                                    return false;\n                                })\n                            );\n                        }\n                    }\n                });\n            }\n\n            return {\n                link: link\n            };\n        }])\n        .directive('bbTextExpand', ['$templateCache', 'bbResources', 'bbScrollIntoView', 'bbModal', function ($templateCache, bbResources, bbScrollIntoView, bbModal) {\n            function link(scope, el, attrs) {\n                var isExpanded,\n                    maxLength = +attrs.bbTextExpandMaxLength || 200,\n                    maxExpandedLength = +attrs.bbTextExpandMaxExpandedLength || 600,\n                    maxNewlines = 1,\n                    maxExpandedNewlines = +attrs.bbTexExpandMaxExpandedNewlines || 3;\n\n                function getTruncatedText(value, length, newlines) {\n                    var i;\n\n                    if (newlines && getNewlineCount(value) >= newlines) {\n                        value = value.replace(/\\s+/gi, ' ');\n                    }\n\n                    // Jump ahead one character and see if it's a space, and if it isn't,\n                    // back up to the first space and break there so a word doesn't get cut\n                    // in half.\n                    for (i = length; i > length - 10; i--) {\n                        if (/\\s/.test(value.charAt(i))) {\n                            length = i;\n                            break;\n                        }\n                    }\n\n                    return value.substr(0, length);\n                }\n\n                scope.$watch(attrs.bbTextExpand, function (newValue) {\n                    var collapsedText,\n                        expandedText,\n                        containerEl,\n                        currentHeight,\n                        ellipsisEl,\n                        expandEl,\n                        newHeight,\n                        textEl,\n                        spaceEl;\n\n                    function animateText(previousText, newText, newExpandText, showEllipsis) {\n                        // Measure the current height so we can animate from it.\n                        currentHeight = containerEl.height();\n\n                        expandEl.text(newExpandText);\n                        textEl.text(newText);\n\n                        newHeight = containerEl.height();\n\n                        if (newHeight < currentHeight) {\n                            // The new text is smaller than the old text, so put the old text back before doing\n                            // the collapse animation to avoid showing a big chunk of whitespace.\n                            textEl.text(previousText);\n                        }\n\n                        ellipsisEl.text(showEllipsis ? '...' : '');\n\n                        containerEl\n                            .height(currentHeight)\n                            .animate(\n                                {\n                                    height: newHeight\n                                },\n                                250,\n                                function () {\n                                    if (newHeight < currentHeight) {\n                                        textEl.text(newText);\n                                    }\n                                    containerEl.css('height', 'auto');\n                                }\n                            );\n                    }\n\n                    containerEl = createEl($templateCache, 'container');\n\n                    /* istanbul ignore else: nothing happens when there's no value, so there's nothing to test. */\n                    if (newValue) {\n                        collapsedText = getTruncatedText(newValue, maxLength, maxNewlines);\n                        expandedText = getTruncatedText(newValue, maxExpandedLength, maxExpandedNewlines); // Get text based on max expanded length\n\n                        if (collapsedText !== newValue) {\n                            isExpanded = true;\n\n                            textEl = createEl($templateCache, 'text').text(collapsedText);\n                            ellipsisEl = createEl($templateCache, 'ellipsis');\n                            spaceEl = createEl($templateCache, 'space');\n                            expandEl = createEl($templateCache, 'seemore').text(bbResources.text_expand_see_more);\n\n\n                            containerEl\n                                .empty()\n                                .append(textEl)\n                                .append(ellipsisEl)\n                                .append(spaceEl)\n                                .append(expandEl);\n\n                            if (getNewlineCount(newValue) >= maxExpandedNewlines || newValue.length > maxExpandedLength) {\n                                expandEl.on('click', function () {\n                                    bbModal.open({\n                                        templateUrl: 'sky/templates/textexpand/expandmodal.html',\n                                        controller: BBTextExpandController,\n                                        controllerAs: 'expandCtrl',\n                                        resolve: {\n                                            textExpandContent: function () {\n                                                return newValue;\n                                            },\n                                            headerContent: function () {\n                                                return scope.$eval(attrs.bbTextExpandModalTitle) || bbResources.text_expand_modal_title;\n                                            }\n                                        }\n                                    });\n                                });\n                                \n                            } else {\n                                expandEl.on('click', function () {\n                                    if (isExpanded) {\n                                        animateText(collapsedText, expandedText, bbResources.text_expand_see_less, (expandedText !== newValue));\n                                    } else {\n                                        animateText(expandedText, collapsedText, bbResources.text_expand_see_more, true);\n                                    }\n\n                                    bbScrollIntoView(expandEl);\n                                    isExpanded = !isExpanded;\n\n                                    return false;\n                                });\n                            }\n\n\n                        } else {\n                            containerEl.text(newValue);\n                        }\n                    }\n\n                    el.empty().append(containerEl);\n\n                    /* istanbul ignore next: these internal variables can't be tested. */\n                    el.on('$destroy', function () {\n                        containerEl = null;\n                        expandEl = null;\n                        textEl = null;\n                        spaceEl = null;\n                    });\n                });\n            }\n\n            return {\n                link: link\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Tile\n@icon th-large\n@summary The tile provides a collapsible container that is the building block for pages and forms in Sky UX applications.\n @description The `bb-tile` directive creates a collapsible container and is the bulding block for pages and forms in a Sky UX application. The `bb-tile-section` directive is used to create padded sections inside a `bb-tile` element. Additionally, the `bb-tile-header-content` directive may be placed inside the `bb-tile` directive to add summary information to the tile. If you simply need to show a check mark indicating the tile has data, you can add a `bb-tile-header-check` element to the `bb-tile-header-content` element.\n\nWhen used on forms, it automatically adjusts the background color on the form and shrinks the tile header.\n\n### Tile Settings ###\n\n - `bb-tile-header` The header text for the tile.\n - `bb-tile-settings-click` A function to call when the user clicks the settings button (indicated by a wrench icon) in the tile header.  If not specified, the settings button is not displayed.\n - `bb-tile-collapsed` (optional) binds to the collapsed state of the tile so that the tile can respond to user setting collapsed state.\n\n### Tile Dashboard Directive ###\n\nThe `bb-tile-dashboard` directive allows you to have a set of tiles within a page which have controllable layouts and collapsed states. It depends on [angular-ui router](https://github.com/angular-ui/ui-router/wiki) to define states that map to tile controllers and templates.\n\n### Tile Dashboard Settings ###\n\n- `bb-tiles` An array of tile objects to be contained in the dashboard. Contains the following object:\n    - `id` Unique ID for the tile.\n    - `view_name` The name of the view for the tile defined in the ui-router `$stateProvider`.\n    - `collapsed` True if the tile should be collapsed, false otherwise.\n    - `collapsed_small` True if the tile should be collapsed in small screen state, false otherwise.\n- `bb-layout` An object containing information about how the tiles should be organized within the tile dashboard. Contains the following:\n    - `one_column_layout` Array of tile ids that correspond with how the tiles should be ordered in a one column layout (small screen) ex: `layout.one_column_layout = ['Tile1', 'Tile2'];`.\n    - `two_column_layout` Array that corresponds with how tiles should be ordered in a two column layout. ex: `layout.two_column_layout = [['Tile1'], ['Tile2']];` where `Tile1` is in the left hand column and `Tile2` is in the right hand column.\n- `bb-tile-dashboard-all-collapsed` If set to true, then collapses all tiles in the dashboard, if set to false, expands all tiles in the dashboard.\n\n */\n\n(function () {\n    'use strict';\n\n    //Removes the specified tiles from the source container and appends them\n    //in the specified order to the target container.\n    function moveTilesToContainer(sourceContainer, targetContainer, tiles) {\n        angular.forEach(tiles, function (tileId) {\n            var tile = sourceContainer.find('[data-tile-id=\"' + tileId + '\"]');\n            targetContainer.append(tile);\n        });\n    }\n\n    //Returns an array of tile names in the order they appear in the specified container.\n    function parseTileOrder(container) {\n        var tiles = [];\n        container.find('[data-tile-id]').each(function () {\n            tiles.push(angular.element(this).data('tile-id'));\n        });\n        return tiles;\n    }\n\n    angular.module('sky.tiles', ['sky.mediabreakpoints'])\n        .directive('bbTile', ['$timeout', function ($timeout) {\n            return {\n                link: function (scope, el, attrs, dashboardCtrl) {\n                    var dashboardState = {},\n                        displayModeChanging = false,\n                        tileInitialized = false;\n\n                    //determines whether or not a tile is collapsed\n                    function tileIsCollapsed(tileId, tiles) {\n                        var i,\n                            len = tiles.length,\n                            tile;\n\n                        for (i = 0; i < len; i++) {\n                            tile = tiles[i];\n\n                            if (tile.id === tileId) {\n                                return scope.smallTileDisplayMode ? tile.collapsed_small : tile.collapsed;\n                            }\n                        }\n\n                        return !!scope.smallTileDisplayMode;\n                    }\n\n                    //sets the collapsed state of the tile based on the tile settings and the display mode\n                    function updateTileState(tiles) {\n                        var collapsed,\n                            oldCollapsed;\n\n                        tiles = tiles || /*istanbul ignore next: default value */ [];\n\n                        oldCollapsed = scope.isCollapsed;\n\n                        collapsed = tileIsCollapsed(scope.tileId, tiles);\n\n                        if (oldCollapsed === collapsed) {\n                            displayModeChanging = false;\n                        }\n\n                        scope.isCollapsed = collapsed;\n\n                        if (collapsed && !tileInitialized) {\n                            //in some cases the tile-content div is left in a partially collapsed state.\n                            //   this will ensure that the tile is styled corretly and the tile is completely collapsed\n                            $timeout(function () {\n                                var contentEl;\n                                contentEl = el.find('.bb-tile-content');\n                                contentEl.removeClass('collapsing').addClass('collapse');\n                            }, 1);\n                        }\n                    }\n\n                    function updateHeaderContent() {\n                        var wrapperEl;\n\n                        scope.hasHeaderContent = !!scope.headerContentEl;\n\n                        if (scope.headerContentEl) {\n                            wrapperEl = el.find('.bb-tile-header-with-content:first');\n\n                            wrapperEl.append(scope.headerContentEl);\n                        }\n                    }\n\n                    function initializeTile(data) {\n                        $timeout(function () {\n                            var tiles = data.tiles || /*istanbul ignore next: default value */ [];\n\n                            if (!tileInitialized) {\n                                //retrieve the tile id from the parent container\n                                scope.tileId = el.parent().attr('data-tile-id') || /*istanbul ignore next: default value */ '';\n                                scope.smallTileDisplayMode = data.smallTileDisplayMode || false;\n                            }\n\n                            updateTileState(tiles);\n\n                            tileInitialized = true;\n                        });\n                    }\n\n                    scope.isCollapsed = scope.bbTileCollapsed || false;\n                    scope.smallTileDisplayMode = false;\n                    scope.tileId = '';\n\n                    scope.titleClick = function () {\n                        scope.isCollapsed = !scope.isCollapsed;\n                        scope.scrollIntoView = !scope.isCollapsed;\n                    };\n\n                    //listens for the tileModeChanged event from the tileDashboard and updates the collapsed state of the tiles based on whether or not the tiles are in small display mode\n                    scope.$on('tileDisplayModeChanged', function (event, data) {\n                        /*jslint unparam: true */\n                        scope.smallTileDisplayMode = data.smallTileDisplayMode || false;\n\n                        if (tileInitialized) {\n                            displayModeChanging = true;\n                            updateTileState(data.tiles);\n                        }\n                    });\n\n                    //listens for the tilesInitialized event from the tileDashboard and updates the initial collapsed state of the tiles\n                    scope.$on('tilesInitialized', function (event, data) {\n                        /*jslint unparam: true */\n\n                        initializeTile(data);\n                    });\n\n                    //if the collapsed state changes, notify the tileDashboard\n                    scope.$watch('isCollapsed', function () {\n                        if (tileInitialized && !displayModeChanging) {\n                            $timeout(function () {\n                                scope.$emit('tileStateChanged', {\n                                    tileId: scope.tileId,\n                                    collapsed: scope.isCollapsed\n                                });\n                            });\n                        }\n                        displayModeChanging = false;\n\n                        if (!scope.isCollapsed) {\n                            $timeout(function () {\n                                scope.$broadcast('tileRepaint');\n                            });\n                        }\n\n                        scope.bbTileCollapsed = scope.isCollapsed;\n                    });\n\n                    if (attrs.bbTileCollapsed) {\n                        scope.$watch('bbTileCollapsed', function (newValue) {\n                            scope.isCollapsed = newValue;\n                        });\n                    }\n\n                    scope.hasSettings = !!attrs.bbTileSettingsClick;\n\n                    updateHeaderContent();\n\n                    //If the dashboard has already been initialized and this tile hasn't, initialize tile.\n                    if (dashboardCtrl !== null) {\n                        if (dashboardCtrl.dashboardInitialized() && !tileInitialized) {\n                            dashboardState = dashboardCtrl.getDashboardState();\n                            initializeTile(dashboardState);\n                            dashboardCtrl.layoutTiles();\n                        }\n                    }\n                },\n                replace: true,\n                restrict: 'E',\n                require: '?^^bbTileDashboard',\n                scope: {\n                    bbTileCollapsed: '=?',\n                    bbTileSettingsClick: '&?',\n                    tileHeader: '=bbTileHeader'\n                },\n                controller: ['$scope', function ($scope) {\n                    this.setHeaderContentEl = function (el) {\n                        $scope.headerContentEl = el;\n                    };\n                }],\n                templateUrl: 'sky/templates/tiles/tile.html',\n                transclude: true\n            };\n        }])\n        .directive('bbTileHeaderContent', function () {\n            return {\n                replace: true,\n                require: '^bbTile',\n                restrict: 'E',\n                link: function (scope, el, attrs, tileCtrl) {\n                    tileCtrl.setHeaderContentEl(el);\n                },\n                templateUrl: 'sky/templates/tiles/tileheadercontent.html',\n                transclude: true\n            };\n        })\n        .directive('bbTileHeaderCheck', function () {\n            return {\n                replace: true,\n                require: '^bbTileHeaderContent',\n                restrict: 'E',\n                templateUrl: 'sky/templates/tiles/tileheadercheck.html'\n            };\n        })\n        .directive('bbTileSection', function () {\n            return {\n                restrict: 'A',\n                template: function (el) {\n                    el.addClass('bb-tile-content-section');\n                }\n            };\n        })\n        .directive('bbTileDashboard', ['$timeout', 'bbMediaBreakpoints', function ($timeout, bbMediaBreakpoints) {\n            return {\n                replace: true,\n                restrict: 'E',\n                scope: {\n                    tiles: '=bbTiles',\n                    layout: '=bbLayout',\n                    allCollapsed: '=bbTileDashboardAllCollapsed'\n                },\n                link: function (scope, element, attrs) {\n                    var column1 = element.find('[data-dashboard-column=\"1\"]'),\n                        column2 = element.find('[data-dashboard-column=\"2\"]'),\n                        singleColumnMode = false,\n                        sortableOptions;\n\n                    scope.dashboardInitialized = false;\n                    scope.smallTileDisplayMode = false;\n\n                    //Inspects the tiles in each column and updates model accordingly.\n                    function parseColumnTiles() {\n                        scope.$apply(function () {\n                            var layout = scope.layout;\n\n                            if (singleColumnMode) {\n                                layout.one_column_layout = parseTileOrder(column1);\n                            } else {\n                                layout.two_column_layout[0] = parseTileOrder(column1);\n                                layout.two_column_layout[1] = parseTileOrder(column2);\n                            }\n                        });\n                    }\n\n                    //Layouts out the tiles based on the current one column or two column configuration\n                    function layoutTiles() {\n                        var layout = scope.layout;\n\n                        if (layout) {\n                            if (singleColumnMode) {\n                                moveTilesToContainer(element, column1, layout.one_column_layout);\n                            } else {\n                                moveTilesToContainer(element, column1, layout.two_column_layout[0]);\n                                moveTilesToContainer(element, column2, layout.two_column_layout[1]);\n                            }\n                        }\n                    }\n\n                    function fireDisplayModeChanged() {\n                        scope.$broadcast('tileDisplayModeChanged', {\n                            smallTileDisplayMode: scope.smallTileDisplayMode,\n                            tiles: scope.tiles\n                        });\n                    }\n\n                    function mediabreakpointChangeHandler(breakPoints) {\n                        singleColumnMode = (breakPoints.xs || breakPoints.sm);\n                        layoutTiles();\n\n                        if (singleColumnMode) {\n                            element.removeClass('bb-page-content-multicolumn');\n                            column2.hide();\n                        } else {\n                            element.addClass('bb-page-content-multicolumn');\n                            column2.show();\n                        }\n\n                        scope.smallTileDisplayMode = breakPoints.xs;\n\n                        fireDisplayModeChanged();\n                    }\n\n                    //Setup jQuery sortable (drag and drop) options for the dashboard columns\n                    sortableOptions = {\n                        connectWith: '[data-dashboard-column]',\n                        update: parseColumnTiles,\n                        opacity: 0.8,\n                        handle: '.bb-tile-grab-handle',\n                        placeholder: 'placeholder bb-tile',\n                        forcePlaceholderSize: true,\n                        revert: 250\n                    };\n\n                    //Setup jQuery sortable drag/drop for the columns\n                    column1.sortable(sortableOptions);\n                    column2.sortable(sortableOptions);\n\n                    bbMediaBreakpoints.register(mediabreakpointChangeHandler);\n\n                    scope.layoutTiles = layoutTiles;\n\n                    element.on('$destroy', function () {\n                        bbMediaBreakpoints.unregister(mediabreakpointChangeHandler);\n                    });\n\n                    scope.$watch('tiles', function () {\n                        $timeout(function () {\n                            layoutTiles();\n                            scope.$broadcast('tilesInitialized', {\n                                smallTileDisplayMode: scope.smallTileDisplayMode,\n                                tiles: scope.tiles\n                            });\n\n                            scope.dashboardInitialized = true;\n                        });\n                    });\n\n                    scope.$watch('allCollapsed', function (newValue) {\n                        var i,\n                            n,\n                            tiles = scope.tiles;\n\n                        // Check for an explicit true/false here since null/undefined is the\n                        // indeterminate state.\n                        if (newValue === true || newValue === false) {\n                            for (i = 0, n = tiles.length; i < n; i++) {\n                                if (scope.smallTileDisplayMode) {\n                                    tiles[i].collapsed_small = newValue;\n                                } else {\n                                    tiles[i].collapsed = newValue;\n                                }\n                            }\n\n                            fireDisplayModeChanged();\n                        }\n                    });\n\n                    scope.$on('tileStateChanged', function (event, data) {\n                        /*jslint unparam: true */\n                        scope.$apply(function () {\n                            var allCollapsed = null,\n                                collapsed,\n                                collapsedProp,\n                                i,\n                                n,\n                                tile,\n                                tileId = data.tileId || /*istanbul ignore next: default value */ '',\n                                tiles = scope.tiles;\n\n                            collapsed = data.collapsed || false;\n                            collapsedProp = scope.smallTileDisplayMode ? 'collapsed_small' : 'collapsed';\n\n                            for (i = 0, n = tiles.length; i < n; i++) {\n                                tile = tiles[i];\n\n                                if (tile.id === tileId) {\n                                    tile[collapsedProp] = collapsed;\n                                }\n\n                                if (i > 0 && tile[collapsedProp] !== allCollapsed) {\n                                    allCollapsed = null;\n                                } else {\n                                    allCollapsed = tile[collapsedProp];\n                                }\n                            }\n\n                            if (attrs.bbTileDashboardAllCollapsed) {\n                                scope.allCollapsed = allCollapsed;\n                            }\n                        });\n                    });\n                },\n                controller: ['$scope', function ($scope) {\n                    var self = this;\n\n                    self.getDashboardState = function () {\n                        return {tiles: $scope.tiles, smallTileDisplayMode: $scope.smallTileDisplayMode};\n                    };\n\n                    self.dashboardInitialized = function () {\n                        return $scope.dashboardInitialized;\n                    };\n\n                    self.layoutTiles = function () {\n                        /* This timeout is in place to allow a state change to\n                           complete before laying out tiles\n                        */\n                        $timeout(function () {\n                            $scope.layoutTiles();\n                        });\n                    };\n                }],\n                templateUrl: 'sky/templates/tiles/tiledashboard.html'\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Toast\n@icon envelop-o\n@summary The toast service launches toast messages basic string messages or complex toast messages that use HTML templates.\n @description The toast service can be used to launch toast in a consistent way in a Sky UX application. The service has a single method, `bbToast.open` used to launch a toast. Optionally include the `ngAnimate` module in the application for toasts to fade in and out.\n\n### Dependencies ###\n\n - **[angular-toastr](https://github.com/Foxandxss/angular-toastr) (1.0.0-beta.2 or higher)**\n - **[ng-animate](https://docs.angularjs.org/api/ngAnimate) (optional, 1.3 or higher)**\n\n---\n\n### Toast Settings ##\n\n - `message` Used to provide a basic string message for simple toasts.\n - `templateUrl` Url for a template in the `$templateCache`. Used to provide an HTML template when displaying complex toasts.  Cannot be combined with the `message` option.\n - `controller` Used in conjunction with `templateUrl`. Specifies the name of a controller to apply to the template's scope.\n - `resolve` Items that will be resolved and passed to the controller as locals.\n */\n\n(function () {\n    'use strict';\n\n    function nextId() {\n        nextId.index = nextId.index || 0;\n        nextId.index++;\n        return 'bbtoast-' + nextId.index;\n    }\n\n    function validateOptions(opts) {\n        if (opts.message && opts.templateUrl) {\n            throw 'You must not provide both a message and a templateUrl.';\n        } else if (!opts.message && !opts.templateUrl) {\n            throw 'You must provide either a message or a templateUrl.';\n        }\n    }\n\n    angular.module('sky.toast', ['toastr'])\n        .config(['toastrConfig', function (toastrConfig) {\n            angular.extend(toastrConfig, {\n                closeButton: true,\n                newestOnTop: true,\n                positionClass: 'toast-bottom-right',\n                tapToDismiss: false,\n                timeOut: 6000\n            });\n        }])\n        .factory('bbToast', ['toastr', '$templateCache', '$compile', '$controller', '$rootScope', '$q', '$injector', function (toastr, $templateCache, $compile, $controller, $rootScope, $q, $injector) {\n            //Based on $modal approach to resolves\n            function getResolvePromises(resolves) {\n                var promisesArr = [];\n                angular.forEach(resolves, function (value) {\n                    if (angular.isFunction(value) || angular.isArray(value)) {\n                        promisesArr.push($q.when($injector.invoke(value)));\n                    }\n                });\n                return promisesArr;\n            }\n\n            function open(message, config) {\n                config = config || {};\n                config.iconClass = 'bb-toast';\n                return toastr.info(message, '', config);\n            }\n\n            function openMessage(opts) {\n                return open(opts.message);\n            }\n\n            function openWithTemplate(opts) {\n                var controller = opts.controller,\n                    controllerLocals,\n                    elId,\n                    resolveIter = 0,\n                    resolvesPromise,\n                    templateHtml,\n                    toast,\n                    toastScope;\n\n                function insertTemplateInToast() {\n                    var templateEl = toast.el.find('#' + elId);\n\n                    templateEl.html(templateHtml);\n\n                    if (controller) {\n                        $controller(controller, controllerLocals);\n                        $compile(templateEl)(controllerLocals.$scope);\n                    }\n                }\n\n                opts.resolve = opts.resolve || {};\n\n                resolvesPromise = $q.all(getResolvePromises(opts.resolve));\n\n                resolvesPromise.then(function (resolvedVars) {\n                    if (controller) {\n                        controllerLocals = {};\n                        controllerLocals.$scope = $rootScope.$new();\n                        angular.forEach(opts.resolve, function (value, key) {\n                            controllerLocals[key] = resolvedVars[resolveIter++];\n                        });\n                    }\n\n                    templateHtml = $templateCache.get(opts.templateUrl);\n\n                    elId = nextId();\n\n                    toast = open(\"<div id='\" + elId + \"'></div>\", { allowHtml: true });\n                    toastScope = toast.scope;\n\n                    //We need to hook in after the toast element has been created and the temporary message\n                    //defined above exists, but before the toast is visually displayed.  The toastr code adds\n                    //an init function to the scope when the toast directive is being linked.  An EvalAsync\n                    //after this occurs will allow us to hook in at the correct moment.\n                    toastScope.$watch('init', function () {\n                        toastScope.$evalAsync(function () {\n                            insertTemplateInToast();\n                        });\n                    });\n                });\n            }\n\n            return {\n                open: function (opts) {\n                    opts = opts || {};\n                    validateOptions(opts);\n\n                    if (opts.templateUrl) {\n                        openWithTemplate(opts);\n                    } else {\n                        openMessage(opts);\n                    }\n                }\n            };\n        }]);\n}());\n","/*global angular */\n\n/** @module Tooltip\n@deprecated\n@icon info\n@summary This directive is no longer being maintained. For adding templated tooltips, use the Angular UI Bootstrap Tooltip uib-tooltip-template attribute.\n @description ### *Deprecated* ###\n\n This directive is no longer being maintained. For adding templated tooltips, use the [Angular UI Bootstrap Tooltip](http://angular-ui.github.io/bootstrap/) uib-tooltip-template attribute.\n\n### Tooltip Settings ##\n\nIn addition to all the properties from the [Angular UI Bootstrap Tooltip](http://angular-ui.github.io/bootstrap/) directive, these properties may also be specified:\n\n - `bb-tooltip` URL for a template in the `$templateCache`. The template HTML may contain bindings to properties in the current scope.\n\n - `tooltip-updater` Optional. A property on the scope that can be watched by the directive so that when this property's value changes, the contents of the tooltip are refreshed.\n */\n\n(function () {\n    'use strict';\n\n\n    function bbTooltip($compile) {\n        return {\n            restrict: 'A',\n            scope: true,\n            link: function ($scope, el) {\n                //Add bootstrap directive\n                /*istanbul ignore else */\n                if (!el.attr('uib-tooltip-template')) {\n                    el.attr('uib-tooltip-template', \"'\" + el.attr('bb-tooltip') + \"'\");\n                }\n\n                el.removeAttr('bb-tooltip');\n                $compile(el)($scope);\n            }\n        };\n    }\n\n    bbTooltip.$inject = ['$compile'];\n\n    angular.module('sky.tooltip', ['ui.bootstrap.tooltip'])\n        .directive('bbTooltip', bbTooltip);\n\n}());\n","/*global angular */\n\n/** @module Utilities\n@icon gear\n@summary The utilities module provides methods to encode URI components and format arguments.\n@description The Sky UX utilities module gives you the following angular filters:\n\n  - `encodeURIComponent` Uses the $window.encodeURIComponent function on your string.\n  - `format` Formats the args with a given format string.\n\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.utilities', ['sky.format'])\n        .filter('encodeURIComponent', ['$window', function ($window) {\n            return function (value) {\n                return $window.encodeURIComponent(value);\n            };\n        }])\n        .filter('format', ['bbFormat', function (bbFormat) {\n            return function () {\n                return bbFormat.formatText.apply(this, arguments);\n            };\n        }]);\n}());\n","/*global angular */\n\n/** @module Email Validation\n@icon check\n@summary The email validation directive allows you to validate email strings in input fields.\n @description The email validation provides the ability to validate email strings in input fields.\n\n### Email Validation Settings ###\n\n- `ng-model` An object to bind the email value to on the input.\n- `type=email` indicates that email validation can be used.\n */\n\n(function () {\n    'use strict';\n    angular.module('sky.validation', [])\n        .directive('bbEmailValidation', [function () {\n            var EMAIL_REGEXP = /[\\w\\-]+@([\\w\\-]+\\.)+[\\w\\-]+/;\n            return {\n                require: 'ngModel',\n                restrict: '',\n                link: function (scope, elm, attrs, ctrl) {\n                    /*jslint unparam: true */\n                    if (ctrl && ctrl.$validators.email) {\n                        ctrl.$validators.email = function (modelValue) {\n                            return ctrl.$isEmpty(modelValue) || EMAIL_REGEXP.test(modelValue);\n                        };\n                    }\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    var CLS_VIEWKEEPER_FIXED = 'bb-viewkeeper-fixed',\n        config = {\n            viewportMarginTop: 0\n        },\n        ViewKeeper;\n\n    function nextId() {\n        nextId.index = nextId.index || 0;\n        nextId.index++;\n        return 'viewkeeper-' + nextId.index;\n    }\n\n    function getSpacerId(vk) {\n        return vk.id + \"-spacer\";\n    }\n\n    function setElPosition(elQ, left, top, bottom, width) {\n        elQ.css({\n            \"top\": top,\n            \"bottom\": bottom,\n            \"left\": left\n        });\n\n        /*istanbul ignore else: sanity check */\n        if (width !== null) {\n            elQ.css({ \"width\": width });\n        }\n    }\n\n    function unfixEl(vk) {\n        var elQ = angular.element(vk.el),\n            width;\n\n        angular.element(\"#\" + getSpacerId(vk)).remove();\n\n        elQ.removeClass(CLS_VIEWKEEPER_FIXED);\n\n        vk.currentElFixedLeft = null;\n        vk.currentElFixedTop = null;\n        vk.currentElFixedBottom = null;\n        vk.currentElFixedWidth = null;\n\n        if (vk.setWidth) {\n            width = \"auto\";\n        }\n        setElPosition(elQ, \"\", \"\", \"\", width);\n    }\n\n    function calculateVerticalOffset(vk) {\n        var offset,\n            verticalOffSetElTop;\n\n        offset = vk.verticalOffSet;\n\n        if (vk.verticalOffSetEl) {\n            verticalOffSetElTop = vk.verticalOffSetEl.css('top');\n\n            /*istanbul ignore else: sanity check */\n            if (verticalOffSetElTop) {\n                verticalOffSetElTop = parseInt(verticalOffSetElTop, 10);\n                if (isNaN(verticalOffSetElTop)) {\n                    verticalOffSetElTop = 0;\n                }\n            }\n\n            offset += (vk.verticalOffSetEl.outerHeight() + verticalOffSetElTop);\n        }\n\n        return offset;\n    }\n\n    ViewKeeper = function (options) {\n        var id,\n            vk = this;\n\n        options = options || /* istanbul ignore next */ {};\n\n        vk.fixToBottom = options.fixToBottom;\n        vk.setWidth = options.setWidth;\n        vk.id = id = nextId();\n        vk.el = options.el;\n        vk.boundaryEl = options.boundaryEl;\n        vk.verticalOffSet = options.verticalOffSet || 0;\n        vk.setPlaceholderHeight = (options.setPlaceholderHeight !== false);\n        vk.onStateChanged = options.onStateChanged;\n        vk.isFixed = false;\n\n        if (options.verticalOffSetElId) {\n            vk.verticalOffSetEl = angular.element('#' + options.verticalOffSetElId);\n\n            vk.verticalOffSetEl.on('afterViewKeeperSync.' + id, function () {\n                vk.syncElPosition();\n            });\n        }\n\n        angular.element(window).on(\"scroll.\" + id + \", resize.\" + id + \", orientationchange.\" + id, function () {\n            vk.syncElPosition();\n        });\n    };\n\n    ViewKeeper.prototype = {\n\n        syncElPosition: function () {\n            var anchorTop,\n                anchorHeight,\n                isCurrentlyFixed,\n                currentElFixedLeft,\n                currentElFixedTop,\n                currentElFixedBottom,\n                currentElFixedWidth,\n                documentQ,\n                fixEl,\n                boundaryBottom,\n                boundaryOffset,\n                boundaryQ,\n                boundaryTop,\n                elFixedLeft,\n                elFixedTop,\n                elFixedBottom,\n                elFixedWidth,\n                elHeight,\n                elQ,\n                needsUpdating,\n                scrollLeft,\n                scrollTop,\n                spacerHeight,\n                spacerId,\n                spacerQ,\n                verticalOffSet,\n                vk = this,\n                width;\n\n            isCurrentlyFixed = vk.isFixed;\n\n            verticalOffSet = calculateVerticalOffset(vk);\n\n            elQ = angular.element(vk.el);\n\n            // When the element isn't visible, its size can't be calculated, so don't attempt syncing position in this case.\n            if (!elQ.is(':visible')) {\n                return;\n            }\n\n            boundaryQ = angular.element(vk.boundaryEl);\n            spacerId = getSpacerId(vk);\n\n            spacerQ = angular.element(\"#\" + spacerId);\n            documentQ = angular.element(window.document);\n\n            boundaryOffset = boundaryQ.offset();\n            boundaryTop = boundaryOffset.top;\n            boundaryBottom = boundaryTop + boundaryQ.height();\n\n            scrollLeft = documentQ.scrollLeft();\n            scrollTop = documentQ.scrollTop();\n\n            elHeight = elQ.outerHeight(true);\n\n            if (vk.fixToBottom) {\n                elFixedBottom = 0;\n            } else {\n                // If the element needs to be fixed, this will calculate its position.  The position will be 0 (fully visible) unless\n                // the user is scrolling the boundary out of view.  In that case, the element should begin to scroll out of view with the\n                // rest of the boundary by setting its top position to a negative value.\n                elFixedTop = Math.min((boundaryBottom - elHeight) - scrollTop, verticalOffSet);\n            }\n\n\n            elFixedWidth = boundaryQ.width();\n            elFixedLeft = boundaryOffset.left - scrollLeft;\n\n            currentElFixedLeft = vk.currentElFixedLeft;\n            currentElFixedTop = vk.currentElFixedTop;\n            currentElFixedBottom = vk.currentElFixedBottom;\n            currentElFixedWidth = vk.currentElFixedWidth;\n\n            if (spacerQ.length > 0) {\n                anchorTop = spacerQ.offset().top;\n                anchorHeight = spacerQ.outerHeight(true);\n            } else {\n                anchorTop = elQ.offset().top;\n                anchorHeight = elHeight;\n            }\n\n            if (vk.fixToBottom) {\n                //Fix el if the natural bottom of the element would not be on the screen\n                fixEl = (anchorTop + anchorHeight > scrollTop + window.innerHeight);\n            } else {\n                fixEl = scrollTop + verticalOffSet + config.viewportMarginTop > anchorTop;\n            }\n\n            if ((fixEl && currentElFixedLeft === elFixedLeft && currentElFixedTop === elFixedTop && currentElFixedBottom === elFixedBottom && currentElFixedWidth === elFixedWidth) || (!fixEl && !(currentElFixedLeft !== undefined && currentElFixedLeft !== null))) {\n                // The element is either currently fixed and its position and width do not need to change, or the element is not\n                // currently fixed and does not need to be fixed.  No changes are needed.\n                needsUpdating = false;\n            } else {\n                needsUpdating = true;\n            }\n\n            if (needsUpdating) {\n                if (fixEl) {\n                    vk.isFixed = true;\n                    if (spacerQ.length === 0) {\n                        if (vk.setPlaceholderHeight) {\n                            spacerHeight = elHeight;\n                        } else {\n                            spacerHeight = 0;\n                        }\n                        elQ.after('<div id=\"' + spacerId + '\" style=\"height: ' + spacerHeight + 'px;\"></div>');\n                    }\n\n                    elQ.addClass(CLS_VIEWKEEPER_FIXED);\n\n                    vk.currentElFixedTop = elFixedTop;\n                    vk.currentElFixedBottom = elFixedBottom;\n                    vk.currentElFixedLeft = elFixedLeft;\n                    vk.currentElFixedWidth = elFixedWidth;\n\n                    if (vk.setWidth) {\n                        width = elFixedWidth;\n                    }\n\n                    setElPosition(elQ, elFixedLeft, elFixedTop, elFixedBottom, width);\n                } else {\n                    vk.isFixed = false;\n                    unfixEl(vk);\n                }\n\n                //If we changed if the item is fixed, fire the callback\n                if (vk.onStateChanged && isCurrentlyFixed !== vk.isFixed) {\n                    vk.onStateChanged();\n                }\n            }\n            elQ.trigger('afterViewKeeperSync');\n        },\n\n        scrollToTop: function () {\n            var anchorTop,\n                elQ,\n                documentQ,\n                spacerId,\n                spacerQ,\n                verticalOffset,\n                vk = this;\n\n            verticalOffset = calculateVerticalOffset(vk);\n\n            documentQ = angular.element(window.document);\n            spacerId = getSpacerId(vk);\n            spacerQ = angular.element(\"#\" + spacerId);\n            elQ = angular.element(vk.el);\n\n            if (spacerQ.length > 0) {\n                anchorTop = spacerQ.offset().top;\n            } else {\n                anchorTop = elQ.offset().top;\n            }\n\n            documentQ.scrollTop(anchorTop - verticalOffset - config.viewportMarginTop);\n        },\n\n        destroy: function () {\n            var id,\n                vk = this;\n\n            if (!vk.isDestroyed) {\n                id = vk.id;\n\n                angular.element(window).off(\"scroll.\" + id + \", resize.\" + id + \", orientationchange.\" + id);\n                unfixEl(vk);\n\n                if (vk.verticalOffSetEl) {\n                    vk.verticalOffSetEl.off(\"afterViewKeeperSync.\" + vk.id);\n                    vk.verticalOffSetEl = null;\n                }\n\n                vk.isDestroyed = true;\n            }\n        }\n\n    };\n\n    angular.module('sky.viewkeeper', ['sky.mediabreakpoints', 'sky.window'])\n        .constant('bbViewKeeperConfig', config)\n        .factory('bbViewKeeperBuilder', function () {\n            return {\n                create: function (options) {\n                    return new ViewKeeper(options);\n                }\n            };\n        })\n        .run(['$document', '$window', 'bbMediaBreakpoints', 'bbViewKeeperConfig', function ($document, $window, bbMediaBreakpoints, bbViewKeeperConfig) {\n            function mediaBreakpointHandler(breakpoints) {\n                //For user agents in which the omnibar follows you down the page, the ViewKeeper needs\n                //to adjust for the height of the omnibar.\n\n                //Ideally these values should be driven from a more appropriate source (omnibar js?)\n                bbViewKeeperConfig.viewportMarginTop = breakpoints.xs ? 50 : 30;\n            }\n\n            if (/iPad|iPod|iPhone/i.test($window.navigator.userAgent)) {\n                //On iOS the omnibar doesn't scroll with you.  Need to account for this on the styling.\n                angular.element('body').addClass('omnibar-not-fixed');\n\n                //On iOS we need to have special handling when entering textboxes to correct an issue with fixed\n                //elements used by view keeper when the keyboard flys out.\n                angular.element(document).on('focus', 'input', function () {\n                    angular.element('body').addClass('bb-viewkeeper-ignore-fixed');\n                }).on('blur', 'input', function () {\n                    angular.element('body').removeClass('bb-viewkeeper-ignore-fixed');\n                });\n            } else {\n                bbMediaBreakpoints.register(mediaBreakpointHandler);\n            }\n        }])\n        .directive('bbViewKeeper', ['bbViewKeeperBuilder', function (bbViewKeeperBuilder) {\n            function link(scope, el) {\n                var vk;\n\n                function destroyVk() {\n                    if (vk) {\n                        vk.destroy();\n                        vk = null;\n                    }\n                }\n\n                el.on('$destroy', function () {\n                    destroyVk();\n                });\n\n                scope.$watch('bbBoundaryElId', function () {\n                    var boundaryEl,\n                        bbBoundaryElId = scope.bbBoundaryElId;\n\n                    /*istanbul ignore else */\n                    if (bbBoundaryElId) {\n                        boundaryEl = angular.element('#' + bbBoundaryElId);\n\n                        /*istanbul ignore else */\n                        if (boundaryEl.length === 1) {\n                            destroyVk();\n\n                            vk = bbViewKeeperBuilder.create({\n                                el: el[0],\n                                boundaryEl: boundaryEl[0],\n                                setWidth: true\n                            });\n                        }\n                    }\n                });\n            }\n\n            return {\n                link: link,\n                restrict: 'A',\n                scope: {\n                    bbBoundaryElId: '='\n                }\n            };\n        }])\n        .directive('bbScrollingViewKeeper', ['$window', 'bbWindow', function ($window, bbWindow) {\n            return {\n                scope: {\n                    bbScrollingViewKeeper: \"=\"\n                },\n                link: function (scope, element) {\n                    var elementStart,\n                        scrollPos,\n                        prevScroll,\n                        scrollingDown = true,\n                        tempTop,\n                        verticalOffset,\n                        id = scope.$id;\n\n                    function scroll() {\n                        if (!element.is(':visible')) {\n                            return;\n                        }\n\n                        if (angular.element('.bb-omnibar>.desktop').is(':visible')) {\n                            verticalOffset = angular.element('.bb-omnibar>.desktop>.bar').outerHeight();\n                        } else {\n                            verticalOffset = 0;\n                        }\n\n                        if (scope.bbScrollingViewKeeper && scope.bbScrollingViewKeeper.viewKeeperOffsetElId) {\n                            verticalOffset += angular.element('#' + scope.bbScrollingViewKeeper.viewKeeperOffsetElId).outerHeight();\n                        }\n\n                        if (!elementStart) {\n                            elementStart = element.offset().top;\n                        }\n                        scrollPos = $window.scrollY || $window.pageYOffset || $window.document.body.scrollTop || 0;\n                        if (prevScroll > scrollPos) {\n                            scrollingDown = false;\n                        } else {\n                            scrollingDown = true;\n                        }\n                        prevScroll = scrollPos;\n\n                        if (scrollPos >= elementStart - verticalOffset && element.height() + verticalOffset <= $window.document.body.offsetHeight) {\n                            if (element.height() + verticalOffset < $window.innerHeight) {\n                                tempTop = 0;\n\n                                element.removeClass('bb-grid-filters-fixed-bottom').addClass('bb-grid-filters-fixed-top');\n\n                                element.css({\n                                    top: verticalOffset + 'px'\n                                });\n                            } else if (scrollingDown) {\n                                if (element.offset().top + element.height() >= scrollPos + $window.innerHeight) {\n                                    /*istanbul ignore else: sanity check */\n                                    if (!tempTop) {\n                                        tempTop = element.offset().top - elementStart;\n                                    }\n\n                                    element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom');\n\n                                    element.css({\n                                        top: tempTop\n                                    });\n                                } else {\n                                    tempTop = 0;\n                                    element.css({\n                                        top: ''\n                                    });\n                                    element.removeClass('bb-grid-filters-fixed-top').addClass('bb-grid-filters-fixed-bottom');\n                                }\n                            } else {\n                                if (element.offset().top < scrollPos + verticalOffset) {\n                                    /*istanbul ignore else: sanity check */\n                                    if (!tempTop) {\n                                        tempTop = element.offset().top - elementStart;\n                                    }\n\n                                    element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom ');\n\n                                    element.css({\n                                        top: tempTop\n                                    });\n                                } else {\n                                    tempTop = 0;\n\n                                    element.removeClass('bb-grid-filters-fixed-bottom').addClass('bb-grid-filters-fixed-top');\n\n                                    element.css({\n                                        top: verticalOffset + 'px'\n                                    });\n                                }\n                            }\n                        } else {\n                            tempTop = 0;\n                            element.removeClass('bb-grid-filters-fixed-top bb-grid-filters-fixed-bottom grid-filters-fixed-top grid-filters-fixed-bottom');\n                            element.css({\n                                top: 0\n                            });\n                        }\n                    }\n\n                    if (!bbWindow.isIosUserAgent()) {\n                        angular.element($window).on('scroll.' + id + ', orientationchange.' + id, scroll);\n\n                        element.on('$destroy', function () {\n                            angular.element($window).off(\"scroll.\" + id + \", orientationchange.\" + id);\n                        });\n                    }\n                },\n                restrict: 'A'\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular, jQuery */\n\n/** @module Wait\n@icon spinner\n@summary The wait component disables an element in a waiting state and visually indicates that it is in a waiting state.\n @description The wait directive allows you to disable and visually indicate that an element is in a waiting state.\nWhen `bb-wait` is set to true, the element will initially be blocked with a clear mask, but after 300ms a visual indicator will cover the element as well.\nThis will allow for the element to immediately be disabled but not cause visual disturbances for very brief waits.\n\n### Dependencies ###\n\n - **[jquery.blockUI.js](http://malsup.com/jquery/block/) (2.66.0-2013.10.09 or higher)**\n\n---\n\nIf the value bound to `bb-wait` is truthy, then the element will begin waiting until the value becomes falsey.\n\n### Multiple Waits ###\nYou can set the value of `bb-wait` to a numeric value to track a count of simultaneous waits.\nWhen waits are added, increment the wait count and when they are removed then decrement the count.\nThis will cause the wait UI to only clear once all waits are removed.\n\n### Full-page Waits ###\nIf bb-wait is added to the `<body>` tag, then a full-page version of the wait UI will be created.\n\n### Raising Wait Events ###\nWait events can be raised from one controller to another by calling `$scope.$emit(\"bbBeginWait\");` and `$scope.$emit(\"bbEndWait\");` respectively.\nA controller can capture that event and begin waiting its element by listening for the event and updating its own bb-wait directive.\nWhen doing so, itshould call `stopPropagation()` on the event so that other parents won't catch it as well.\nUncaught events will raise all the way to the main controller of the application which can cause the entire page to wait.\n\n    $scope.$on(\"bbBeginWait\", function (event) {\n        event.stopPropagation();\n        $scope.myElementWaitCount += 1;\n    });\n\n### Wait Service ###\nIn addition to the `bb-wait` directive, a `bbWait` service exists to allow functional access to adding and removing waits on elements or the page as a whole.\nThis service supports the following functions\n\n - `beginElWait(element)` - Adds a wait for the specified element. Implicitly tracks a wait count for the element.\n - `endElWait(element)` - Removes a wait for the specified element. Implicitly tracks a wait count for the element and clears the wait UI when the count is 0.\n - `clearElWait(element)` - Removes all waits for the specified element and will clear any wait UI.\n - `beginPageWait()` - Adds a wait for the whole page (same as body element). Implicitly tracks a wait count for the element.\n - `endPageWait()` - Removes a wait for the whole page (same as body element). Implicitly tracks a wait count for the element and clears the wait UI when the count is 0.\n - `clearPageWait()` - Removes all waits for the whole page (same as body element) and will clear any wait UI.\n */\n\n(function ($) {\n    'use strict';\n\n    angular.module('sky.wait', [])\n        .factory('bbWait', ['$timeout', function ($timeout) {\n\n            var addWait,\n                removeWait,\n                clearBlockOptions,\n                fullPageClearBlockOptions,\n                fullPageVisibleBlockOptions,\n                fullPageZIndex = 20000,\n                nonBlockWaitCountAttr = 'bb-wait-non-block-count',\n                visibleBlockOptions,\n                showingWaitAttr = 'bb-wait-showingwait',\n                waitCountAttr = 'bb-wait-count';\n\n            visibleBlockOptions = {\n                message: '<div class=\"bb-wait-wrap\"><div class=\"bb-wait-spinner\"></div></div>'\n            };\n\n            clearBlockOptions = {\n                message: \"\",\n                fadeOut: 0,\n                fadeIn: 0,\n                overlayCSS: {\n                    opacity: 0\n                }\n            };\n\n            fullPageClearBlockOptions = angular.copy(clearBlockOptions);\n            fullPageClearBlockOptions.overlayCSS[\"z-index\"] = fullPageZIndex;\n\n            fullPageVisibleBlockOptions = angular.copy(visibleBlockOptions);\n            fullPageVisibleBlockOptions.overlayCSS = { \"z-index\": fullPageZIndex };\n            fullPageVisibleBlockOptions.css = { \"z-index\": fullPageZIndex + 1 };\n\n            function isBlockUISupported() {\n                // Returns whether jquery.blockUI is loaded.\n                return ($ && $.blockUI);\n            }\n\n            function isFullPage(el) {\n                // Returns whether the element specified should be causing a\n                // full page wait rather than just on the element itself.\n                return $(el)[0] === document.body;\n            }\n\n            function getWaitCount(el, nonblocking) {\n                // Returns the elements current wait count\n                var attr = nonblocking ? nonBlockWaitCountAttr : waitCountAttr;\n                return parseInt($(el).data(attr) || 0, 10);\n            }\n\n            function setWaitCount(el, count, nonblocking) {\n                var attr = nonblocking ? nonBlockWaitCountAttr : waitCountAttr;\n\n                // Sets the elements current wait count\n                if (!count) {\n                    $(el).removeData(attr);\n                } else {\n                    $(el).data(attr, count);\n                }\n            }\n\n            function nonblockEl(el, options) {\n                var childOptions = angular.extend({}, options),\n                    nonblock = $(el).children(\".bb-wait-nonblock\");\n\n                if (nonblock.length === 0) {\n                    nonblock = $(\"<div class='bb-wait-nonblock'></div>\");\n                    $(el).append(nonblock);\n                    $(nonblock).click(function () {\n                        nonblock.hide();\n                    });\n                }\n                nonblock.show();\n\n                childOptions.nonblocking = false;\n\n                addWait(nonblock[0], childOptions);\n            }\n\n            function unNonblockEl(el, options) {\n                var childOptions = angular.extend({}, options),\n                    nonblock = $(el).children(\".bb-wait-nonblock\");\n\n                if (nonblock.length > 0) {\n                    childOptions.nonblocking = false;\n                    removeWait(nonblock[0], childOptions);\n                }\n            }\n\n            function blockEl(el, options) {\n                // Shows the element block UI.\n\n                var customBlockOptions,\n                    $el = $(el);\n\n                if (!isBlockUISupported()) {\n                    return;\n                }\n\n                /* istanbul ignore if: this doesn't seem ever be hit; maybe revisit. */\n                if ($el.data(showingWaitAttr)) {\n                    // If we're already showing the block, then don't start this again.\n                    // Using a different flag than the count itself to support delaying the unblock.\n                    return;\n                }\n\n                function showFullBlock() {\n                    /* istanbul ignore if: this doesn't seem ever be hit; maybe revisit. */\n                    if (!$el.data(showingWaitAttr)) {\n                        // If we're no longer showing the wait then the block was removed before the visible block was added.\n                        // We shouldn't continue to add the visible block.\n                        return;\n                    }\n\n                    if (isFullPage(el)) {\n                        $.blockUI(angular.extend({}, fullPageVisibleBlockOptions, customBlockOptions));\n                    } else {\n                        $el.block(angular.extend({}, visibleBlockOptions, customBlockOptions));\n                    }\n                }\n\n                options = angular.extend({}, {\n                    visualBlockDelay: 300\n                }, options || /* istanbul ignore next: sanity check */ {});\n\n                customBlockOptions = {\n                    fadeIn: options.fadeIn\n                };\n\n                $el.data(showingWaitAttr, true);\n\n                if (options.visualBlockDelay) {\n                    if (isFullPage(el)) {\n                        $.blockUI(fullPageClearBlockOptions);\n                    } else {\n                        $el.block(clearBlockOptions);\n                    }\n\n                    $timeout(showFullBlock, options.visualBlockDelay);\n                } else {\n                    showFullBlock();\n                }\n            }\n\n            function unblockEl(el) {\n                // Removes the element block UI.\n\n                // Including a setTimeout here so that if a block is immediately re-added, then there won't be a blink\n                // between turning off the current block and then adding another.\n                // This timeout could default to something higher than 0 or we could make it configurable if needed.\n                // A set timeout of 0 handles blocks added without async operations before starting another, which\n                // would indicate that the block should have been maintained anyways.\n                $timeout(function () {\n                    /* istanbul ignore else: sanity check */\n                    if (getWaitCount(el) === 0) {\n                        var $el = $(el);\n\n                        if (!isBlockUISupported()) {\n                            return;\n                        }\n\n                        if (isFullPage(el)) {\n                            $.unblockUI();\n                        } else {\n                            $el.unblock();\n                        }\n                        $(el).removeData(showingWaitAttr);\n                    }\n                }, 0);\n            }\n\n            addWait = function (el, options) {\n                options = options || {};\n\n                // Increases the element wait count and shows the wait if the count is above 0.\n                var count = getWaitCount(el, options.nonblocking);\n                count += 1;\n\n                setWaitCount(el, count, options.nonblocking);\n                if (count === 1) {\n                    if (options.nonblocking) {\n                        nonblockEl(el, options);\n                    } else {\n                        blockEl(el, options);\n                    }\n                }\n            };\n\n            removeWait = function (el, options) {\n                options = options || {};\n\n                // Decreases the element wait count and hides the wait if the count is at 0.\n                var count = getWaitCount(el, options.nonblocking);\n                if (count > 0) {\n                    count -= 1;\n\n                    setWaitCount(el, count, options.nonblocking);\n                    if (count === 0) {\n                        if (options.nonblocking) {\n                            unNonblockEl(el, options);\n                        } else {\n                            unblockEl(el, options);\n                        }\n                    }\n                }\n            };\n\n            function clearAllWaits(el) {\n                // Forcibly clears out the wait count for an element\n                setWaitCount(el, 0);\n                unblockEl(el);\n                setWaitCount(el, 0, true);\n                unNonblockEl(el);\n            }\n\n            if (isBlockUISupported()) {\n                // Clear any blockUI defaults.  Specifying these in the block call itself just gets appended to the defaults\n                // but is incapable of generically clearing them all.\n                $.blockUI.defaults.css = {};\n                $.blockUI.defaults.overlayCSS = {};\n            }\n\n            return {\n                beginElWait: function (el, options) {\n                    addWait(el, options);\n                },\n                beginPageWait: function (options) {\n                    addWait(document.body, options);\n                },\n                clearElWait: function (el) {\n                    clearAllWaits(el);\n                },\n                clearPageWait: function () {\n                    clearAllWaits(document.body);\n                },\n                endElWait: function (el, options) {\n                    removeWait(el, options);\n                },\n                endPageWait: function (options) {\n                    removeWait(document.body, options);\n                }\n            };\n        }])\n        .directive('bbWait', ['bbWait', function (bbWait) {\n            /// <summary>\n            /// This directive provides an attribute that can be placed on elements indicating whether they should or shouldn't be blocked for waiting.\n            /// </summary>\n            return {\n                restrict: 'A',\n                link: function (scope, el, attrs) {\n                    var firstScopeLoad = true;\n                    scope.$watch(attrs.bbWait, function (value, oldValue) {\n                        if (value && (!oldValue || firstScopeLoad)) {\n                            bbWait.beginElWait(el);\n                        } else if (oldValue && !value) {\n                            bbWait.endElWait(el);\n                        }\n                        firstScopeLoad = false;\n                    });\n                }\n            };\n        }]);\n\n}(jQuery));\n","/*global angular*/\n\n/** @module Window\n@icon desktop\n@summary The window services provides helper methods to edit the browsers window title and to obtain the browsers scrollbar width.\n@description An angular service with the following functions:\n\n  - `setWindowTitle(title)` Changes the browser window's title. If a product name is specified in `bbWindowConfig`, then the product name will be appended to the passed title.\n  - `getScrollbarWidth` Calculates and returns the width of the scrollbar for the current browser.\n  - `isIosUserAgent` Uses window navigator user agent to determine if current user agent is an iPod, iPad, or iPhone.\n*/\n\n(function () {\n    'use strict';\n\n    angular.module('sky.window', [])\n        .constant('bbWindowConfig', {\n            productName: ''\n        })\n        .factory('bbWindow', ['$window', 'bbWindowConfig', '$timeout', '$document', function ($window, bbWindowConfig, $timeout, $document) {\n            var scrollbarWidth;\n\n            function calculateScrollbarWidth() {\n                var inner,\n                    outer,\n                    w1,\n                    w2;\n\n                inner = angular.element('<p></p>');\n                inner.css('width', '100%');\n                inner.css('height', '200px');\n\n                outer = angular.element('<div></div>');\n                outer.css('position', 'absolute');\n                outer.css('top', '0px');\n                outer.css('left', '0px');\n                outer.css('visibility', 'hidden');\n                outer.css('width', '200px');\n                outer.css('height', '150px');\n                outer.css('overflow', 'hidden');\n\n                outer.append(inner);\n\n                $document.find('body').append(outer);\n\n                w1 = inner[0].offsetWidth;\n\n                outer.css('overflow', 'scroll');\n                w2 = inner[0].offsetWidth;\n\n                /*istanbul ignore else: sanity check */\n                if (w1 === w2) {\n                    w2 = outer[0].clientWidth;\n                }\n                outer.remove();\n                return (w1 - w2);\n            }\n\n            return {\n                setWindowTitle: function (title) {\n                    var textToAppend = bbWindowConfig.productName;\n\n                    if (textToAppend) {\n                        title = title || '';\n\n                        if (title) {\n                            title += ' - ';\n                        }\n\n                        title += textToAppend;\n                    }\n\n                    //Adding a delay so the setWindowTitle method can be safely called after an angular\n                    //state change without taking affect until after the browser has completed its\n                    //state change.  Without this, the previous page will be renamed in the browser history.\n                    $timeout(function () {\n                        $window.document.title = title;\n                    });\n                },\n                getScrollbarWidth: function () {\n                    if (!scrollbarWidth && scrollbarWidth !== 0) {\n                        scrollbarWidth = calculateScrollbarWidth();\n                    }\n\n                    return scrollbarWidth;\n                },\n                isIosUserAgent: function () {\n                    return /iPad|iPod|iPhone/i.test($window.navigator.userAgent);\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true, plusplus: true */\n/*global angular */\n\n/** @module Wizard\n@icon magic\n@summary The wizard adjusts a modal form to guide users through a set of pre-defined steps in a particular order.\n @description Wizards are used on a modal form when the user needs to perform a set of pre-defined steps in a particular order. The Sky UX Wizard works in conjunction with the [Angular UI Bootstrap](http://angular-ui.github.io/bootstrap/) tabs component.  Placing the `bb-wizard` directive on a UI Bootstrap `tabset` element will cause the tabs to look and behave like a Sky wizard.\n\nSky Wizards also have the concept of a completed step which is denoted by the `bb-wizard-step-complete` directive. When present on a `tab` and bound to a truthy value, the step's tab will be displayed as completed.\n\nFinally there is a `bbWizardNavigator` service that provides some convenience methods for navigating through the wizard's steps. This will typically be used by wiring the navigator up to your modal's previous and next buttons.\n\nThe `bbWizardNavigator` service has an `init()` function that takes an `options` object with the following properties:\n\n- `steps` An array of steps. Each step should have the following properties:\n\n\n - `active` Indicates whether the step is the currently active step. This should be the same property that is bound to the UI Bootstrap `tab` directive's `active` property.\n - `disabled()` A function that returns a boolean indicating whether the tab is disabled. This should be the same function that is bound to the UI Bootstrap `tab` directive's `disable` property.\n - `complete()` A function that returns a boolean indicating whether the tab is complete. This should be the same function that is bound to the tab's `bb-wizard-step-complete` property.\n\nThe `bbWizardNavigator` also exposes the following methods:\n\n- `previousText()` Returns the text for the modal's Previous button. This usually doesn't change while the user interacts with the widget.\n- `nextText()` Returns the text for the modal's Next button. This changes to \"Finish\" when the user is on the last step.\n- `goToPrevious()` Navigates the user to the previous step.\n- `goToNext()` Navigates the user to the next step.\n- `previousDisabled()` Indicates whether the previous step is disabled. This should be bound to the `ng-disabled` property of the modal's Previous button.\n- `nextDisabled()` Indicates whether the next step is disabled. This should be bound to the `ng-disabled` property of the modal's Next button.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('sky.wizard', ['sky.resources', 'ui.bootstrap.tabs'])\n        .directive('bbWizard', function () {\n            return {\n                link: function (scope, el) {\n                    /*jslint unparam: true */\n                    el.addClass('bb-wizard');\n                },\n                restrict: 'A'\n            };\n        })\n        .directive('bbWizardStepComplete', function () {\n            return {\n                link: function (scope, el, attrs) {\n                    scope.$watch(attrs.bbWizardStepComplete, function (newValue) {\n                        el[newValue ? 'addClass' : 'removeClass']('bb-wizard-step-complete');\n                    });\n                }\n            };\n        })\n        .factory('bbWizardNavigator', ['bbResources', function (bbResources) {\n            function stepIsDisabled(step) {\n                return angular.isFunction(step.disabled) && step.disabled();\n            }\n\n            return {\n                init: function (options) {\n                    /*jslint unparam: true */\n                    var steps,\n                        finish;\n\n                    function getPreviousStep() {\n                        var i,\n                            n,\n                            previousStep,\n                            step;\n\n                        for (i = 0, n = steps.length; i < n; i++) {\n                            step = steps[i];\n\n                            if (step.active && i > 0) {\n                                previousStep = steps[i - 1];\n\n                                if (!stepIsDisabled(previousStep)) {\n                                    return previousStep;\n                                }\n\n                                break;\n                            }\n                        }\n\n                        return null;\n                    }\n\n                    function getNextStep() {\n                        var i,\n                            n,\n                            nextStep,\n                            step;\n\n                        for (i = 0, n = steps.length; i < n; i++) {\n                            step = steps[i];\n\n                            if (step.active && i + 1 < n) {\n                                nextStep = steps[i + 1];\n\n                                if (!stepIsDisabled(nextStep)) {\n                                    return nextStep;\n                                }\n\n                                break;\n                            }\n                        }\n\n                        return null;\n                    }\n\n                    function setActiveStep(step) {\n                        if (step) {\n                            step.active = true;\n                        }\n                    }\n\n                    function lastStepIsActive() {\n                        return steps[steps.length - 1].active;\n                    }\n\n                    options = options || {};\n\n                    steps = options.steps;\n                    finish = options.finish;\n\n                    return {\n                        previousText: function () {\n                            return bbResources.wizard_navigator_previous;\n                        },\n                        nextText: function () {\n                            return lastStepIsActive() ? bbResources.wizard_navigator_finish : bbResources.wizard_navigator_next;\n                        },\n                        goToPrevious: function () {\n                            setActiveStep(getPreviousStep());\n                        },\n                        goToNext: function () {\n                            if (lastStepIsActive()) {\n                                if (angular.isFunction(finish)) {\n                                    finish();\n                                }\n                            } else {\n                                setActiveStep(getNextStep());\n                            }\n                        },\n                        previousDisabled: function () {\n                            return !getPreviousStep();\n                        },\n                        nextDisabled: function () {\n                            return !getNextStep() && !lastStepIsActive();\n                        }\n                    };\n                }\n            };\n        }]);\n}());\n","/*jslint browser: true */\n/*global angular */\n\n(function () {\n    'use strict';\n\n    var modules = [\n        'sky.actionbar',\n        'sky.autofocus',\n        'sky.autonumeric',\n        'sky.check',\n        'sky.checklist',\n        'sky.contextmenu',\n        'sky.data',\n        'sky.datepicker',\n        'sky.daterangepicker',\n        'sky.format',\n        'sky.grids',\n        'sky.help',\n        'sky.helpbutton',\n        'sky.highlight',\n        'sky.mediabreakpoints',\n        'sky.modal',\n        'sky.moment',\n        'sky.navbar',\n        'sky.omnibar',\n        'sky.palette',\n        'sky.page',\n        'sky.pagination',\n        'sky.popover',\n        'sky.resources',\n        'sky.scrollintoview',\n        'sky.searchfield',\n        'sky.tabscroll',\n        'sky.tabset',\n        'sky.tabsref',\n        'sky.templates',\n        'sky.templating',\n        'sky.textexpand',\n        'sky.tiles',\n        'sky.tooltip',\n        'sky.utilities',\n        'sky.validation',\n        'sky.viewkeeper',\n        'sky.wait',\n        'sky.window',\n        'sky.wizard'\n    ];\n\n    try {\n        angular.module('toastr');\n        modules.push('sky.toast');\n    } catch (ignore) {\n        /* The toastr module isn't defined.  Do not load sky.toast module */\n    }\n\n    try {\n        angular.module('ngFileUpload');\n        modules.push('sky.fileattachments');\n    } catch (ignore) {\n\n    }\n\n    angular.module('sky', modules);\n\n}());\n","/*jshint unused: false */\n/*global angular */\n\n(function () {\n'use strict';\n\nvar bbResourcesOverrides;\n\nbbResourcesOverrides = {\"action_bar_actions\":\"Actions\",\"autonumeric_abbr_billions\":\"b\",\"autonumeric_abbr_millions\":\"m\",\"autonumeric_abbr_thousands\":\"k\",\"checklist_select_all\":\"Select all\",\"checklist_clear_all\":\"Clear all\",\"checklist_no_items\":\"No items found\",\"grid_back_to_top\":\"Back to top\",\"grid_column_picker_all_categories\":\"All\",\"grid_column_picker_description_header\":\"Description\",\"grid_column_picker_header\":\"Choose columns to show in the list\",\"grid_column_picker_name_header\":\"Column\",\"grid_column_picker_search_placeholder\":\"Search by name\",\"grid_column_picker_submit\":\"Apply changes\",\"grid_columns_button\":\" Choose columns\",\"grid_filters_apply\":\"Apply filters\",\"grid_filters_button\":\"Filters\",\"grid_filters_clear\":\"Clear\",\"grid_filters_header\":\"Filter\",\"grid_filters_hide\":\"Hide\",\"grid_filters_summary_header\":\"Filter:\",\"grid_load_more\":\"Load more\",\"grid_search_placeholder\":\"Find in this list\",\"grid_column_picker_search_no_columns\":\"No columns found\",\"modal_footer_cancel_button\":\"Cancel\",\"modal_footer_primary_button\":\"Save\",\"month_short_april\":\"Apr\",\"month_short_august\":\"Aug\",\"month_short_december\":\"Dec\",\"month_short_february\":\"Feb\",\"month_short_january\":\"Jan\",\"month_short_july\":\"Jul\",\"month_short_june\":\"Jun\",\"month_short_march\":\"Mar\",\"month_short_may\":\"May\",\"month_short_november\":\"Nov\",\"month_short_october\":\"Oct\",\"month_short_september\":\"Sep\",\"page_noaccess_button\":\"Return to a non-classified page\",\"page_noaccess_description\":\"Sorry, you don't have rights to this page.\\nIf you feel you should, please contact your system administrator.\",\"page_noaccess_header\":\"Move along, there's nothing to see here\",\"text_expand_see_less\":\"See less\",\"text_expand_see_more\":\"See more\",\"text_expand_modal_title\":\"Expanded view\",\"grid_action_bar_clear_selection\":\"Clear selection\",\"grid_action_bar_cancel_mobile_actions\":\"Cancel\",\"grid_action_bar_choose_action\":\"Choose an action\",\"date_field_invalid_date_message\":\"Please enter a valid date\",\"date_range_picker_this_week\":\"This week\",\"date_range_picker_last_week\":\"Last week\",\"date_range_picker_next_week\":\"Next week\",\"date_range_picker_this_month\":\"This month\",\"date_range_picker_last_month\":\"Last month\",\"date_range_picker_next_month\":\"Next month\",\"date_range_picker_this_calendar_year\":\"This calendar year\",\"date_range_picker_last_calendar_year\":\"Last calendar year\",\"date_range_picker_next_calendar_year\":\"Next calendar year\",\"date_range_picker_this_fiscal_year\":\"This fiscal year\",\"date_range_picker_last_fiscal_year\":\"Last fiscal year\",\"date_range_picker_next_fiscal_year\":\"Next fiscal year\",\"date_range_picker_this_quarter\":\"This quarter\",\"date_range_picker_last_quarter\":\"Last quarter\",\"date_range_picker_next_quarter\":\"Next quarter\",\"date_range_picker_at_any_time\":\"At any time\",\"date_range_picker_today\":\"Today\",\"date_range_picker_tomorrow\":\"Tomorrow\",\"date_range_picker_yesterday\":\"Yesterday\",\"date_range_picker_filter_description_this_week\":\"{0} for this week\",\"date_range_picker_filter_description_last_week\":\"{0} from last week\",\"date_range_picker_filter_description_next_week\":\"{0} for next week\",\"date_range_picker_filter_description_this_month\":\"{0} for this month\",\"date_range_picker_filter_description_last_month\":\"{0} from last month\",\"date_range_picker_filter_description_next_month\":\"{0} for next month\",\"date_range_picker_filter_description_this_calendar_year\":\"{0} for this calendar year\",\"date_range_picker_filter_description_last_calendar_year\":\"{0} from last calendar year\",\"date_range_picker_filter_description_next_calendar_year\":\"{0} for next calendar year\",\"date_range_picker_filter_description_this_fiscal_year\":\"{0} for this fiscal year\",\"date_range_picker_filter_description_last_fiscal_year\":\"{0} from last fiscal year\",\"date_range_picker_filter_description_next_fiscal_year\":\"{0} for next fiscal year\",\"date_range_picker_filter_description_this_quarter\":\"{0} for this quarter\",\"date_range_picker_filter_description_last_quarter\":\"{0} from last quarter\",\"date_range_picker_filter_description_next_quarter\":\"{0} for next quarter\",\"date_range_picker_filter_description_at_any_time\":\"{0} at any time\",\"date_range_picker_filter_description_today\":\"{0} for today\",\"date_range_picker_filter_description_yesterday\":\"{0} from yesterday\",\"date_range_picker_filter_description_tomorrow\":\"{0} for tomorrow\",\"file_size_b_plural\":\"{0} bytes\",\"file_size_b_singular\":\"{0} byte\",\"file_size_kb\":\"{0} KB\",\"file_size_mb\":\"{0} MB\",\"file_size_gb\":\"{0} GB\",\"file_upload_drag_file_here\":\"Drag a file here\",\"file_upload_drop_files_here\":\"Drop files here\",\"file_upload_invalid_file\":\"This file type is invalid\",\"file_upload_link_placeholder\":\"http://www.something.com/file\",\"file_upload_or_click_to_browse\":\"or click to browse\",\"file_upload_paste_link\":\"Paste a link to a file\",\"file_upload_paste_link_done\":\"Done\",\"searchfield_searching\":\"Searching...\",\"searchfield_no_records\":\"text for ui-select search control when no records are found,\",\"wizard_navigator_finish\":\"Finish\",\"wizard_navigator_next\":\"Next\",\"wizard_navigator_previous\":\"Previous\",\"datepicker_today\":\"Today\",\"datepicker_clear\":\"Clear\",\"datepicker_close\":\"Done\"};\n\nangular.module('sky.resources')\n    .config(['bbResources', function (bbResources) {\n        angular.extend(bbResources, bbResourcesOverrides);\n    }]);\n}());\n","angular.module('sky.templates', []).run(['$templateCache', function($templateCache) {\n    $templateCache.put('sky/templates/actionbar/actionbar.html',\n        '<div class=\"bb-action-bar\">\\n' +\n        '    <ng-transclude></ng-transclude>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/actionbar/actionbaritem.html',\n        '<button class=\"btn bb-btn-secondary bb-action-bar-item-button\" type=\"button\">\\n' +\n        '    <ng-transclude></ng-transclude>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/actionbar/actionbaritemgroup.html',\n        '<div class=\"bb-action-bar-group\">\\n' +\n        '    <div class=\"bb-action-bar-buttons hidden-xs\">\\n' +\n        '        <ng-transclude />\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-action-bar-dropdown hidden-sm hidden-md hidden-lg\">\\n' +\n        '        <div uib-dropdown>\\n' +\n        '             <button class=\"btn bb-btn-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\\n' +\n        '            {{bbActionBarItemGroup.title}}<span class=\"caret\"/>\\n' +\n        '            </button>\\n' +\n        '\\n' +\n        '            <ul uib-dropdown-menu>\\n' +\n        '\\n' +\n        '            </ul>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/check/styled.html',\n        '<span></span>\\n' +\n        '');\n    $templateCache.put('sky/templates/check/wrapper.html',\n        '<label class=\"bb-check-wrapper\"></label>\\n' +\n        '');\n    $templateCache.put('sky/templates/checklist/checklist.html',\n        '<div>\\n' +\n        '    <div>\\n' +\n        '        <div ng-if=\"bbChecklistIncludeSearch\" class=\"bb-checklist-filter-bar\">\\n' +\n        '            <div class=\"bb-checklist-search\">\\n' +\n        '                <input type=\"text\" class=\"bb-checklist-search-box\" maxlength=\"255\" placeholder=\"{{bbChecklistSearchPlaceholder}}\" ng-model=\"locals.searchText\" ng-model-options=\"{debounce: bbChecklistSearchDebounce}\" data-bbauto-field=\"ChecklistSearch\">\\n' +\n        '                <div class=\"bb-checklist-search-icon\">\\n' +\n        '                    <i class=\"fa fa-search\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div ng-if=\"bbChecklistCategories && bbChecklistCategories.length > 0\" class=\"bb-checklist-filter-bar bb-checklist-category-bar\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-sm\" ng-click=\"locals.filterByCategory()\" ng-class=\"locals.selectedCategory ? \\'btn-default\\' : \\'btn-primary\\'\">{{\\'grid_column_picker_all_categories\\' | bbResources}}</button>\\n' +\n        '            <button ng-repeat=\"category in bbChecklistCategories\" type=\"button\" class=\"btn btn-sm\" ng-click=\"locals.filterByCategory(category)\" ng-class=\"locals.selectedCategory === category ? \\'btn-primary\\' : \\'btn-default\\'\">{{category}}</button>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"bb-checklist-filter-bar bb-checklist-select-all-bar\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-link\" data-bbauto-field=\"ChecklistSelectAll\" ng-click=\"locals.selectAll()\">{{\\'checklist_select_all\\' | bbResources}}</button>\\n' +\n        '            <button type=\"button\" class=\"btn btn-link\" data-bbauto-field=\"ChecklistClear\" ng-click=\"locals.clear()\">{{\\'checklist_clear_all\\' | bbResources}}</button>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-checklist-wrapper\" ng-switch=\"bbChecklistMode\">\\n' +\n        '        <div ng-switch-when=\"list\" data-bbauto-repeater=\"ChecklistItems\" data-bbauto-repeater-count=\"{{locals.filteredItems.length}}\">\\n' +\n        '            <label class=\"bb-checklist-list-row\" ng-repeat=\"item in locals.filteredItems\" data-bbauto-field=\"{{item.name}}\">\\n' +\n        '                <div class=\"bb-checklist-list-col bb-checklist-list-col-checkbox\">\\n' +\n        '                    <input\\n' +\n        '                           bb-check\\n' +\n        '                           type=\"checkbox\"\\n' +\n        '                           checklist-model=\"bbChecklistSelectedItems\"\\n' +\n        '                           checklist-value=\"item\"\\n' +\n        '                           />\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-checklist-list-col\">\\n' +\n        '                    <div class=\"bb-checklist-list-title\" bb-highlight=\"locals.searchText\" ng-bind=\"item.title\"></div>\\n' +\n        '                    <div class=\"bb-checklist-list-description\" bb-highlight=\"locals.searchText\" ng-bind=\"item.description\"></div>\\n' +\n        '                </div>\\n' +\n        '            </label>\\n' +\n        '        </div>\\n' +\n        '        <table class=\"table bb-checklist-table\" ng-switch-default>\\n' +\n        '            <thead>\\n' +\n        '                <tr>\\n' +\n        '                    <th class=\"bb-checklist-checkbox-column\"></th>\\n' +\n        '                    <th ng-repeat=\"column in locals.columns\" class=\"{{column.class}}\" ng-style=\"{\\'width\\': column.width}\">{{column.caption}}</th>\\n' +\n        '                </tr>\\n' +\n        '            </thead>\\n' +\n        '            <tbody bb-highlight=\"locals.searchText\" bb-highlight-beacon=\"locals.highlightRefresh\" data-bbauto-repeater=\"ChecklistItems\" data-bbauto-repeater-count=\"{{locals.filteredItems.length}}\">\\n' +\n        '                <tr ng-repeat=\"item in locals.filteredItems\" ng-click=\"locals.rowClicked(item);\" class=\"bb-checklist-row\">\\n' +\n        '                    <td>\\n' +\n        '                        <input bb-check type=\"checkbox\" checklist-model=\"bbChecklistSelectedItems\" checklist-value=\"item\" data-bbauto-field=\"{{item[bbChecklistAutomationField]}}\" />\\n' +\n        '                    </td>\\n' +\n        '                    <td ng-repeat=\"column in locals.columns\" class=\"{{column.class}}\" data-bbauto-field=\"{{column.automationId}}\" data-bbauto-index=\"{{$parent.$index}}\">{{item[column.field]}}</td>\\n' +\n        '                </tr>\\n' +\n        '            </tbody>\\n' +\n        '        </table>\\n' +\n        '        <div class=\"bb-checklist-no-items\" ng-if=\"!locals.filteredItems.length\">{{bbChecklistNoItemsMessage || (\\'checklist_no_items\\' | bbResources)}}</div>\\n' +\n        '    </div>\\n' +\n        '    <div ng-transclude></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/contextmenu.html',\n        '<div class=\"bb-context-menu\" data-bbauto-field=\"ContextMenuActions\" uib-dropdown>\\n' +\n        '    <bb-context-menu-button data-bbauto-field=\"ContextMenuAnchor\" ng-click=\"contextButtonStopPropagation($event)\" uib-dropdown-toggle></bb-context-menu-button>\\n' +\n        '    <ul uib-dropdown-menu role=\"menu\">\\n' +\n        '        <ng-transclude/>\\n' +\n        '    </ul>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/menubutton.html',\n        '<button type=\"button\" class=\"btn bb-btn-secondary bb-context-menu-btn\"><i class=\"fa fa-ellipsis-h\"></i></button>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/menuitem.html',\n        '<li role=\"presentation\"><a role=\"menuitem\" href=\"javascript:void(0)\" ng-click=\"clickItem()\"><ng-transclude/></a></li>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/submenu.html',\n        '<div class=\"bb-submenu\">\\n' +\n        '    <uib-accordion>\\n' +\n        '        <uib-accordion-group is-open=\"accordionLocals.accordionOpen\">\\n' +\n        '\\n' +\n        '            <uib-accordion-heading ng-if=\"accordionLocals.staticHeader\">\\n' +\n        '                <div ng-click=\"toggleAccordion($event)\">\\n' +\n        '                    <span>\\n' +\n        '                        {{heading}}\\n' +\n        '                    <span>\\n' +\n        '                    <i ng-class=\"\\'fa-chevron-\\' + (accordionLocals.accordionOpen ? \\'up\\' : \\'down\\')\" class=\"fa bb-submenu-chevron\"></i>\\n' +\n        '                </div>\\n' +\n        '            </uib-accordion-heading>\\n' +\n        '            <ng-transclude></ng-transclude>\\n' +\n        '        </uib-accordion-group>\\n' +\n        '    </uib-accordion>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/contextmenu/submenuheading.html',\n        '<uib-accordion-heading>\\n' +\n        '    <div ng-click=\"toggleAccordion($event)\">\\n' +\n        '        <ng-transclude></ng-transclude>\\n' +\n        '        <i ng-class=\"\\'fa-chevron-\\' + (accordionLocals.accordionOpen ? \\'up\\' : \\'down\\')\" class=\"fa bb-submenu-chevron\"></i>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '</uib-accordion-heading>\\n' +\n        '');\n    $templateCache.put('sky/templates/datefield/datefield.html',\n        '<span class=\"add-on input-group-btn\">\\n' +\n        '    <button type=\"button\" class=\"btn btn-default bb-date-field-calendar-button\">\\n' +\n        '        <i class=\"fa fa-calendar\"></i>\\n' +\n        '    </button>\\n' +\n        '</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/datepicker/datepicker.html',\n        '<div>\\n' +\n        '    <div ng-if=\"locals.loaded\" class=\"input-group bb-datefield\">\\n' +\n        '        <input name=\"{{locals.inputName}}\" type=\"text\" class=\"form-control\" ng-model=\"locals.date\" is-open=\"locals.opened\" datepicker-options=\"locals.dateOptions\" uib-datepicker-popup=\"{{format}}\" show-button-bar=\"locals.showButtonBar\" current-text=\"{{resources.datepicker_today}}\" clear-text=\"{{resources.datepicker_clear}}\" close-text=\"{{resources.datepicker_close}}\" datepicker-append-to-body=\"{{locals.appendToBody}}\" close-on-date-selection=\"{{locals.closeOnSelection}}\" bb-datepicker-custom-validate=\"{{locals.hasCustomValidation}}\" placeholder=\"{{placeholderText}}\" max-date=\"maxDate\" min-date=\"minDate\" ng-required=\"locals.required\" bb-min-date bb-max-date />\\n' +\n        '        <span class=\"bb-datepicker-button-container add-on input-group-btn\" ng-class=\"{\\'bb-datefield-open\\': locals.opened}\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-default bb-date-field-calendar-button\" ng-click=\"locals.open($event)\">\\n' +\n        '                <i class=\"fa fa-calendar\"></i>\\n' +\n        '            </button>\\n' +\n        '        </span>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/daterangepicker/daterangepicker.html',\n        '<div>\\n' +\n        '    <select data-bbauto-field=\"{{bbDateRangePickerAutomationId}}_DateRangeType\"\\n' +\n        '            class=\"form-control\"\\n' +\n        '            ng-options=\"locals.bbDateRangePicker.getDateRangeTypeCaption(t) for t in (bbDateRangePickerOptions.availableDateRangeTypes || locals.bbDateRangePicker.defaultDateRangeOptions)\"\\n' +\n        '            ng-model=\"bbDateRangePickerValue.dateRangeType\" />\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/fileattachments/filedrop.html',\n        '<div class=\"row bb-file-drop-row\">\\n' +\n        '    <div class=\"col-xs-12 bb-file-drop-col\" ng-class=\"{\\'col-sm-6\\': bbFileDrop.allowLinks}\">\\n' +\n        '        <div\\n' +\n        '             class=\"bb-file-drop bb-file-drop-target\"\\n' +\n        '             ngf-drop\\n' +\n        '             ngf-keep=\"false\"\\n' +\n        '             ngf-drag-over-class=\"{accept: \\'bb-file-drop-accept\\', reject: \\'bb-file-drop-reject\\'}\"\\n' +\n        '             ngf-change=\"bbFileDrop.fileChange($files, $event, $rejectedFiles)\"\\n' +\n        '             >\\n' +\n        '            <div class=\"bb-file-drop-contents\" ng-if=\"!bbFileDrop.hasTranscludeContents\">\\n' +\n        '                <div class=\"bb-file-drop-contents-not-over\">\\n' +\n        '                    <h4>{{\\'file_upload_drag_file_here\\' | bbResources}}</h4>\\n' +\n        '                    <h5>{{\\'file_upload_or_click_to_browse\\' | bbResources}}</h5>\\n' +\n        '                    <i class=\"fa fa-cloud-upload bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-file-drop-contents-accept\">\\n' +\n        '                    <h4>{{\\'file_upload_drop_files_here\\' | bbResources}}</h4>\\n' +\n        '                    <i class=\"fa fa-bullseye bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-file-drop-contents-reject\">\\n' +\n        '                    <h4>{{\\'file_upload_invalid_file\\' | bbResources}}</h4>\\n' +\n        '                    <i class=\"fa fa-times-circle bb-file-upload-icon\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-file-drop-contents-custom\" ng-transclude></div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"col-sm-6 col-xs-12 bb-file-drop-col\" ng-if=\"bbFileDrop.allowLinks\">\\n' +\n        '        <div class=\"bb-file-drop-contents\">\\n' +\n        '            <div class=\"bb-file-drop-link\">\\n' +\n        '                <h4 class=\"bb-file-drop-link-header\">{{\\'file_upload_paste_link\\' | bbResources}}</h4>\\n' +\n        '                <div class=\"form-group\">\\n' +\n        '                    <input\\n' +\n        '                           type=\"text\"\\n' +\n        '                           class=\"form-control\"\\n' +\n        '                           placeholder=\"{{\\'file_upload_link_placeholder\\' | bbResources}}\"\\n' +\n        '                           ng-model=\"bbFileDrop.url\"\\n' +\n        '                           ng-keypress=\"$event.keyCode === 13 && bbFileDrop.addLink($event)\"\\n' +\n        '                           />\\n' +\n        '                </div>\\n' +\n        '                <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!bbFileDrop.url\" ng-click=\"bbFileDrop.addLink($event)\">\\n' +\n        '                    {{\\'file_upload_paste_link_done\\' | bbResources}}\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/fileattachments/fileitem.html',\n        '<div class=\"bb-file-item\">\\n' +\n        '    <div class=\"row bb-file-item-title\">\\n' +\n        '        <div class=\"col-xs-10\">\\n' +\n        '            <div class=\"bb-file-item-name\">\\n' +\n        '                <strong>{{item.name || item.url}}</strong>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-file-item-size\" ng-if=\"bbFileItem.isFile()\">\\n' +\n        '                ({{item.size | bbFileSize}})\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"col-xs-2\">\\n' +\n        '            <div class=\"pull-right\">\\n' +\n        '                <button type=\"button\" class=\"btn bb-btn-secondary bb-file-item-btn-delete\" ng-click=\"itemDelete()\">\\n' +\n        '                    <i class=\"glyphicon glyphicon-trash\"></i>\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"row\">\\n' +\n        '        <div ng-switch=\"bbFileItem.isImg()\" class=\"col-xs-3\">\\n' +\n        '            <div ng-switch-when=\"true\" class=\"center-block\">\\n' +\n        '              <img ng-if=\"item.url\" class=\"bb-file-item-preview-img\" ng-src=\"{{item.url}}\" />\\n' +\n        '              <img ng-if=\"!item.url\" class=\"bb-file-item-preview-img\" ngf-src=\"item\" />\\n' +\n        '            </div>\\n' +\n        '            <div ng-switch-when=\"false\" class=\"bb-file-item-preview-other\">\\n' +\n        '                <i class=\"fa\" ng-class=\"bbFileItem.otherCls\"></i>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"col-xs-9\" ng-transclude>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/actionbar.html',\n        '<div ng-show=\"locals.showActionBar\" data-bbauto-view=\"GridActionBar\">\\n' +\n        '    <div ng-if=\"!locals.showMobileActions\" class=\"bb-grid-action-bar\">\\n' +\n        '        <div ng-if=\"!locals.mobileButtons\" class=\"bb-grid-action-bar-buttons\" ng-repeat=\"action in locals.actions\">\\n' +\n        '            <button type=\"button\" class=\"btn\" ng-class=\"{\\'btn-primary\\': action.isPrimary, \\'bb-btn-secondary\\': !action.isPrimary}\" data-bbauto-field=\"{{action.automationId}}\" ng-click=\"action.actionCallback()\" ng-disabled=\"action.selections.length < 1\">{{action.title}} ({{action.selections.length}})</button>\\n' +\n        '        </div>\\n' +\n        '        <div ng-if=\"locals.mobileButtons\" class=\"bb-grid-action-bar-buttons\">\\n' +\n        '            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"locals.chooseAction()\">\\n' +\n        '                <span>{{resources.grid_action_bar_choose_action}}</span>\\n' +\n        '            </button>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-grid-action-bar-clear-selection\" ng-click=\"locals.clearSelection()\">\\n' +\n        '            {{resources.grid_action_bar_clear_selection}}\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '    <div ng-if=\"locals.showMobileActions\" class=\"bb-grid-action-bar-mobile-buttons\">\\n' +\n        '        <div class=\"bb-grid-action-bar-btn-container\">\\n' +\n        '            <div ng-repeat=\"action in locals.actions\">\\n' +\n        '                <button type=\"button\" class=\"bb-grid-action-bar-mobile-btn btn btn-block btn-lg\" ng-class=\"{\\'btn-primary\\': action.isPrimary, \\'bb-btn-secondary\\': !action.isPrimary}\" ng-click=\"action.actionCallback()\" ng-disabled=\"action.selections.length < 1\">{{action.title}} ({{action.selections.length}})</button>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-grid-action-bar-mobile-cancel bb-grid-action-bar-clear-selection\" ng-click=\"locals.cancelChooseAction()\">\\n' +\n        '            {{resources.grid_action_bar_cancel_mobile_actions}}\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/columnpicker.html',\n        '<bb-modal data-bbauto-view=\"ColumnPicker\">\\n' +\n        '  <bb-modal-header bb-modal-help-key=\"$parent.columnPickerHelpKey\">{{\\'grid_column_picker_header\\' | bbResources}}</bb-modal-header>\\n' +\n        '  <div bb-modal-body>\\n' +\n        '    <bb-checklist\\n' +\n        '                  bb-checklist-items=\"columns\" \\n' +\n        '                  bb-checklist-selected-items=\"locals.selectedColumns\" \\n' +\n        '                  bb-checklist-include-search=\"\\'true\\'\" \\n' +\n        '                  bb-checklist-search-placeholder=\"{{\\'grid_column_picker_search_placeholder\\' | bbResources}}\" \\n' +\n        '                  bb-checklist-no-items-message=\"{{\\'grid_column_picker_search_no_columns\\' | bbResources}}\"\\n' +\n        '                  bb-checklist-categories=\"categories\" \\n' +\n        '                  bb-checklist-mode=\"list\" \\n' +\n        '                  bb-checklist-filter-local\\n' +\n        '                  >\\n' +\n        '    </bb-checklist>\\n' +\n        '  </div>\\n' +\n        '  <bb-modal-footer>\\n' +\n        '    <bb-modal-footer-button-primary data-bbauto-field=\"ColumnPickerSubmit\" ng-click=\"applyChanges()\">{{\\'grid_column_picker_submit\\' | bbResources}}</bb-modal-footer-button-primary>\\n' +\n        '    <bb-modal-footer-button-cancel data-bbauto-field=\"ColumnPickerCancel\"></bb-modal-footer-button-cancel>\\n' +\n        '  </bb-modal-footer>\\n' +\n        '</bb-modal>');\n    $templateCache.put('sky/templates/grids/dropdown.html',\n        '<div class=\"bb-context-menu\" data-bbauto-field=\"ContextMenuActions\" uib-dropdown dropdown-append-to-body ng-if=\"locals.items.length > 0\" is-open=\"locals.is_open\">\\n' +\n        '    <bb-context-menu-button data-bbauto-field=\"ContextMenuAnchor\" ng-click=\"locals.toggleDropdown($event)\">\\n' +\n        '    </bb-context-menu-button>\\n' +\n        '    <ul uib-dropdown-menu role=\"menu\">\\n' +\n        '        <bb-context-menu-item ng-repeat=\"item in locals.items\" bb-context-menu-action=\"item.cmd()\">{{item.title}}</bb-context-menu-item>\\n' +\n        '    </ul>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filters.html',\n        '<div style=\"display:none;\">\\n' +\n        '    <div bb-scrolling-view-keeper=\"viewKeeperOptions\" class=\"bb-grid-filters grid-filters\">\\n' +\n        '        <div class=\"bb-grid-filters-box\" bb-scroll-into-view=\"locals.expanded\">\\n' +\n        '            <div class=\"bb-grid-filters-icon\" ng-click=\"locals.expanded = !locals.expanded\"></div>\\n' +\n        '            <div class=\"bb-grid-filters-container\" style=\"display:none;\">\\n' +\n        '                <div class=\"bb-grid-filters-header\" ng-click=\"locals.expanded = !locals.expanded\">\\n' +\n        '                    <h4 class=\"bb-grid-filters-header-title\">{{resources.grid_filters_header}}</h4>\\n' +\n        '                    <span class=\"bb-grid-filters-header-hide\">{{resources.grid_filters_hide}}</span>\\n' +\n        '                </div>\\n' +\n        '                <div class=\"bb-grid-filters-body\" ng-transclude></div>\\n' +\n        '                <div class=\"bb-grid-filters-footer\">\\n' +\n        '                    <button data-bbauto-field=\"ApplyGridFilters\" class=\"btn btn-primary\" type=\"submit\" ng-click=\"applyFilters()\">{{resources.grid_filters_apply}}</button>\\n' +\n        '                    <button data-bbauto-field=\"ClearGridFilters\" class=\"btn bb-btn-secondary\" type=\"button\" ng-click=\"clearFilters()\">{{resources.grid_filters_clear}}</button>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filtersgroup.html',\n        '<div class=\"form-group\" ng-class=\"isCollapsed ? \\'collapsed\\' : \\'collapsible\\'\">\\n' +\n        '    <div ng-click=\"isCollapsed = !isCollapsed\">\\n' +\n        '        <i ng-class=\"\\'glyphicon-chevron-\\' + (isCollapsed ? \\'down\\' : \\'up\\')\" class=\"bb-grid-filters-body-group-header-icon glyphicon\"></i>\\n' +\n        '        <label>{{bbGridFiltersGroupLabel}}</label>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filters-body-group-content\" uib-collapse=\"!!isCollapsed\" ng-transclude></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/filterssummary.html',\n        '<div class=\"toolbar bb-table-toolbar bb-applied-filter-bar\">\\n' +\n        '    <div class=\"bb-applied-filter-header\">\\n' +\n        '        <span>{{resources.grid_filters_summary_header}}</span>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-applied-filter-content\" ng-click=\"openFilterMenu()\">\\n' +\n        '        <span class=\"bb-applied-filter-text\" data-bbauto-field=\"FilterSummaryText\" ng-transclude></span>\\n' +\n        '        <span class=\"fa fa-times close\" data-bbauto-field=\"FilterSummaryRemove\" ng-click=\"clearFilters(); $event.stopPropagation();\"></span>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/grid.html',\n        '<section class=\"bb-grid-container\" data-bbauto-grid=\"{{options.automationId}}\" data-bbauto-timestamp=\"{{locals.timestamp}}\" data-bbauto-repeater=\"{{options.automationId}}\" data-bbauto-repeater-count=\"{{locals.rowcount}}\">\\n' +\n        '\\n' +\n        '\\n' +\n        '    <div class=\"bb-grid-toolbar-viewkeeper\">\\n' +\n        '        <div ng-if=\"!customToolbar.hasCustomToolbar\">\\n' +\n        '            <div ng-show=\"locals.showToolbar\">\\n' +\n        '                <bb-grid-toolbar>\\n' +\n        '                    <ng-transclude></ng-transclude>\\n' +\n        '                </bb-grid-toolbar>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '\\n' +\n        '        <div ng-if=\"customToolbar.hasCustomToolbar\">\\n' +\n        '            <div ng-show=\"locals.showToolbar\">\\n' +\n        '                <ng-transclude></ng-transclude>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div class=\"clearfix\"></div>\\n' +\n        '\\n' +\n        '    <div class=\"table-responsive\">\\n' +\n        '\\n' +\n        '        <table id=\"{{locals.gridId}}\" class=\"bb-grid-table\" bb-wait=\"options.loading\" ng-class=\"{\\'grid-multiselect\\' : locals.multiselect}\"></table>\\n' +\n        '        <div class=\"bb-grid-empty-wait\" ng-if=\"locals.hasWaitAndEmpty()\" bb-wait=\"locals.hasWaitAndEmpty()\"></div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div ng-if=\"!paginationOptions\" class=\"bb-table-loadmore\" data-bbauto-field=\"LoadMoreButton\" ng-show=\"options.hasMoreRows\" ng-click=\"locals.loadMore()\">\\n' +\n        '        <span class=\"fa fa-cloud-download\"></span>\\n' +\n        '        <button type=\"button\" class=\"btn btn-link\">{{resources.grid_load_more}}</button>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div ng-if=\"paginationOptions\" class=\"bb-grid-pagination-container\">\\n' +\n        '        <uib-pagination ng-show=\"paginationOptions.recordCount > options.data.length\" total-items=\"paginationOptions.recordCount\" items-per-page=\"paginationOptions.itemsPerPage\" ng-model=\"locals.currentPage\" ng-change=\"paginationOptions.pageChanged()\" max-size=\"paginationOptions.maxPages\"></uib-pagination>\\n' +\n        '        <div class=\"clearfix\"></div>\\n' +\n        '    </div>\\n' +\n        '\\n' +\n        '    <div class=\"bb-grid-action-bar-and-back-to-top\">\\n' +\n        '        <bb-grid-action-bar ng-if=\"locals.multiselect && multiselectActions && updateMultiselectActions\" bb-multiselect-actions=\"multiselectActions\" bb-selections-updated=\"updateMultiselectActions(selections)\">\\n' +\n        '        </bb-grid-action-bar>\\n' +\n        '        <div class=\"bb-table-backtotop\" data-bbauto-field=\"BackToTopButton\" ng-show=\"locals.isScrolled\" ng-click=\"locals.backToTop();\">\\n' +\n        '            <span style=\"float:left\">\\n' +\n        '                <span class=\"fa fa-arrow-up \"></span>\\n' +\n        '                <button type=\"button\" class=\"btn btn-link\">{{resources.grid_back_to_top}}</button>\\n' +\n        '            </span>\\n' +\n        '            <span style=\"float:right\">\\n' +\n        '                <span class=\"fa fa-arrow-up \"></span>\\n' +\n        '                <button type=\"button\" class=\"btn btn-link\">{{resources.grid_back_to_top}}</button>\\n' +\n        '            </span>\\n' +\n        '            <div class=\"clearfix\"></div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/gridtoolbar.html',\n        '<div class=\"bb-grid-toolbar-container\">\\n' +\n        '    <div class=\"clearfix toolbar bb-table-toolbar\">\\n' +\n        '        <button type=\"button\" data-bbauto-field=\"AddButton\" class=\"bb-grid-toolbar-btn btn-success btn\" ng-show=\"toolbarLocals.hasAdd\" ng-click=\"options.onAddClick()\">\\n' +\n        '            <i class=\"fa fa-plus-circle\"></i>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\" ng-show=\"options.onAddClickLabel\">{{options.onAddClickLabel}}</span>\\n' +\n        '        </button>\\n' +\n        '        <div class=\"bb-grid-toolbar-button-container\">\\n' +\n        '            <ng-transclude></ng-transclude>\\n' +\n        '        </div>\\n' +\n        '        <div class=\"bb-search-container search-container\">\\n' +\n        '            <input type=\"text\" placeholder=\"{{resources.grid_search_placeholder}}\" ng-model=\"searchText\" ng-keyup=\"$event.keyCode == 13 && toolbarLocals.applySearchText()\" data-bbauto-field=\"SearchBox\" />\\n' +\n        '            <div class=\"bb-search-icon fa fa-search\" data-bbauto-field=\"SearchButton\" ng-click=\"toolbarLocals.applySearchText()\"></div>\\n' +\n        '        </div>\\n' +\n        '        <button type=\"button\" class=\"btn bb-btn-secondary bb-grid-toolbar-btn bb-column-picker-btn\" data-bbauto-field=\"ColumnPickerButton\" ng-show=\"!options.hideColPicker\" ng-click=\"toolbarLocals.openColumnPicker()\">\\n' +\n        '            <span class=\"fa fa-columns\"></span>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\">{{resources.grid_columns_button}}</span>\\n' +\n        '        </button>\\n' +\n        '        <button type=\"button\" class=\"btn bb-btn-secondary bb-grid-toolbar-btn bb-filter-btn\" ng-class=\"{\\'bb-filters-inline-active\\': options.filtersAreActive}\" data-bbauto-field=\"FilterButton\" ng-show=\"!options.hideFilters\" ng-click=\"toolbarLocals.toggleFilterMenu()\">\\n' +\n        '            <span class=\"fa fa-filter\"></span>\\n' +\n        '            <span class=\"bb-toolbar-btn-label\">{{resources.grid_filters_button}}</span>\\n' +\n        '        </button>\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filter-summary-container\">\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-filter-inline-container\" ng-hide=\"options.hasInlineFilters && !toolbarLocals.filtersVisible\">\\n' +\n        '    </div>\\n' +\n        '    <div class=\"bb-grid-top-scrollbar\">\\n' +\n        '        <div></div>\\n' +\n        '    </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/grids/seemore.html',\n        '<div bb-text-expand=\"data\" bb-text-expand-max-length=\"100\" style=\"white-space: pre-wrap\"></div>');\n    $templateCache.put('sky/templates/modal/modal.html',\n        '<div class=\"bb-modal-content-wrapper\" ng-transclude></div>');\n    $templateCache.put('sky/templates/modal/modalfooter.html',\n        '<div class=\"modal-footer\" ng-transclude></div>\\n' +\n        '');\n    $templateCache.put('sky/templates/modal/modalfooterbutton.html',\n        '<button class=\"btn bb-btn-secondary\" type=\"button\" ng-transclude></button>\\n' +\n        '');\n    $templateCache.put('sky/templates/modal/modalfooterbuttoncancel.html',\n        '<button class=\"btn btn-link\" type=\"button\" ng-click=\"$parent.$parent.$dismiss(\\'cancel\\');\" ng-transclude></button>');\n    $templateCache.put('sky/templates/modal/modalfooterbuttonprimary.html',\n        '<button class=\"btn btn-primary\" type=\"submit\" ng-transclude></button>');\n    $templateCache.put('sky/templates/modal/modalheader.html',\n        '<div class=\"modal-header\">\\n' +\n        '    <h1 class=\"bb-dialog-header\" ng-transclude></h1>\\n' +\n        '    <div class=\"fa fa-times close\" ng-click=\"$parent.$parent.$dismiss(\\'close\\');\"></div>\\n' +\n        '    <div bb-help-button bb-help-key=\"{{bbModalHelpKey}}\" bb-set-help-key-override=\"true\" data-bbauto-field=\"ModalHelpButton\" ng-if=\"bbModalHelpKey\"></div>\\n' +\n        '    <div class=\"clearfix\"></div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/navbar/navbar.html',\n        '<nav class=\"navbar navbar-default bb-navbar\" ng-transclude></nav>');\n    $templateCache.put('sky/templates/page/page.html',\n        '<section ng-if=\"locals.noPageStatusSpecified() || bbPageStatus === locals.pageStatuses.LOADED\">\\n' +\n        '    <div ng-transclude ng-init=\"locals.onShowing()\"></div>\\n' +\n        '</section>\\n' +\n        '<section class=\"container-fluid bb-page-content-column-container\" ng-show=\"bbPageStatus === locals.pageStatuses.NOT_AUTHORIZED\">\\n' +\n        '    <div class=\"row\">\\n' +\n        '        <section class=\"bb-page-content-column col-xs-12 text-center\">\\n' +\n        '            <div class=\"m\">\\n' +\n        '                <h3>\\n' +\n        '                    {{resources.page_noaccess_header}}\\n' +\n        '                </h3>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-page-noaccess-description\">{{resources.page_noaccess_description}}</div>\\n' +\n        '            <div class=\"m-lg\">\\n' +\n        '                <button type=\"button\" class=\"btn btn-lg btn-primary\" ng-click=\"locals.navigateAway()\" data-bbauto-field=\"NavigateAwayButton\">\\n' +\n        '                    {{resources.page_noaccess_button}}\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '        </section>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/popover/popup.html',\n        '<div class=\"popover {{placement}}\"\\n' +\n        '    tooltip-animation-class=\"fade\"\\n' +\n        '    uib-tooltip-classes\\n' +\n        '    ng-class=\"{ in: isOpen() }\">\\n' +\n        '  <div class=\"arrow\"></div>\\n' +\n        '\\n' +\n        '  <div class=\"popover-inner\">\\n' +\n        '    <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\\n' +\n        '    <div class=\"popover-content\"\\n' +\n        '        uib-tooltip-template-transclude=\"contentExp()\"\\n' +\n        '        tooltip-template-transclude-scope=\"originScope()\"></div>\\n' +\n        '  </div>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/searchfield/choices.html',\n        '<ul class=\"ui-select-choices ui-select-choices-content dropdown-menu\">\\n' +\n        '  <li class=\"bb-searchfield-no-records\"></li>\\n' +\n        '</ul>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabs/tab.html',\n        '<div ng-hide=\"!tabsInitialized\" data-bbauto-field=\"{{bbTabAutomationId}}\" class=\"responsiveTabControl\">\\n' +\n        '    <ul ng-transclude>\\n' +\n        '\\n' +\n        '    </ul>\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/tabset/addbutton.html',\n        '<button ng-click=\"bbTabAdd()\" type=\"button\" class=\"bb-tab-button-wrap btn bb-tab-button-add bb-btn-secondary\">\\n' +\n        '  <span class=\"btn bb-btn-secondary\"><i class=\"fa fa-lg fa-plus-circle\"></i></span>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/dropdown.html',\n        '<div class=\"bb-tabset-dropdown nav nav-tabs\" uib-dropdown ng-show=\"bbTabsetOptions.isSmallScreen &amp;&amp; bbTabsetOptions.tabCount > 1\">\\n' +\n        '  <button type=\"button\" class=\"btn btn-primary bb-tab-dropdown-button\" uib-dropdown-toggle><div class=\"bb-tab-header-text\">{{bbTabsetOptions.selectedTabHeader}}</div><i class=\"fa fa-caret-down\"></i></button>\\n' +\n        '</div>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/openbutton.html',\n        '<button ng-click=\"bbTabOpen()\" type=\"button\" class=\"bb-tab-button-wrap bb-tab-button-open btn bb-btn-secondary\">\\n' +\n        '  <span class=\"btn bb-btn-secondary\"><i class=\"fa fa-lg fa-folder-open-o\"></i></span>\\n' +\n        '</button>\\n' +\n        '');\n    $templateCache.put('sky/templates/tabset/tabbutton.html',\n        '<li class=\"bb-tab-button\"></li>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/container.html',\n        '<div></div>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/ellipsis.html',\n        '<span class=\"bb-text-expand-ellipsis\">...</span>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/expandmodal.html',\n        '<bb-modal>\\n' +\n        '  <bb-modal-header>\\n' +\n        '    {{expandCtrl.headerContent}}\\n' +\n        '  </bb-modal-header>\\n' +\n        '  <div class=\"modal-form\">\\n' +\n        '    <div bb-modal-body>\\n' +\n        '      <div>\\n' +\n        '        <span class=\"bb-text-expand-text\">{{expandCtrl.textExpandContent}}</span>\\n' +\n        '      </div>\\n' +\n        '    </div>\\n' +\n        '    <bb-modal-footer>\\n' +\n        '      <bb-modal-footer-button-cancel>Close</bb-modal-footer-button-cancel>\\n' +\n        '    </bb-modal-footer>\\n' +\n        '  </div>\\n' +\n        '</bb-modal>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/seemore.html',\n        '<a href=\"#\" class=\"bb-text-expand-see-more\"></a>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/space.html',\n        '<span class=\"bb-text-expand-space\"> </span>\\n' +\n        '');\n    $templateCache.put('sky/templates/textexpand/text.html',\n        '<span class=\"bb-text-expand-text\"></span>\\n' +\n        '');\n    $templateCache.put('sky/templates/tiles/tile.html',\n        '<section ng-class=\"isCollapsed ? \\'collapsed\\' : \\'collapsible\\'\" class=\"bb-tile\">\\n' +\n        '    <div bb-scroll-into-view=\"scrollIntoView\">\\n' +\n        '        <div class=\"bb-tile-title\" ng-click=\"titleClick()\">\\n' +\n        '            <div class=\"bb-tile-header-with-content\">\\n' +\n        '                <h2 class=\"bb-tile-header\">{{tileHeader}}</h2>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"bb-tile-header-column-tools\">\\n' +\n        '                <div class=\"bb-tile-tools\">\\n' +\n        '                    <i ng-class=\"\\'fa-chevron-\\' + (isCollapsed ? \\'down\\' : \\'up\\')\" class=\"fa bb-tile-chevron\"></i>\\n' +\n        '                    <i ng-if=\"hasSettings\" class=\"bb-tile-settings fa fa-cog\" ng-click=\"$event.stopPropagation();bbTileSettingsClick();\"></i>\\n' +\n        '                    <i class=\"bb-tile-grab-handle glyphicon glyphicon-th\" ng-click=\"$event.stopPropagation()\"></i>\\n' +\n        '                </div>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '        <div uib-collapse=\"isCollapsed\" class=\"bb-tile-content\" ng-transclude>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</section>\\n' +\n        '');\n    $templateCache.put('sky/templates/tiles/tiledashboard.html',\n        '<div class=\"row\">\\n' +\n        '  <div class=\"col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable\" data-dashboard-column=\"1\">\\n' +\n        '    <div ng-repeat=\"tile in tiles\" data-tile-id=\"{{tile.id}}\" data-ui-view=\"{{tile.view_name}}\" id=\"{{tile.view_name}}\">\\n' +\n        '    </div>\\n' +\n        '  </div>\\n' +\n        '\\n' +\n        '  <div class=\"col-md-6 bb-page-content-tile-column bb-page-content-tile-column-sortable\" data-dashboard-column=\"2\">\\n' +\n        '  </div>\\n' +\n        '</div>');\n    $templateCache.put('sky/templates/tiles/tileheadercheck.html',\n        '<i class=\"fa fa-check bb-tile-header-check\"></i>');\n    $templateCache.put('sky/templates/tiles/tileheadercontent.html',\n        '<div class=\"bb-tile-header-content\" ng-transclude></div>');\n}]);\n"]}